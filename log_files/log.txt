debug | ERROR flwr 2024-07-09 04:49:26,372 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:49:26,372 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 04:49:29,991 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:49:29,991 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 04:49:33,397 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:49:33,397 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 04:49:36,844 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:49:36,844 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | INFO flwr 2024-07-09 04:52:35,755 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 04:52:37,645 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38138032128.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'object_store_memory': 19069016064.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-09 04:52:37,645 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 04:52:37,645 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 04:52:37,650 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 04:52:37,650 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 04:52:37,650 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 04:52:44,043 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 04:52:44,043 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 04:52:44,090 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 04:52:44,090 | server.py:110 | 
debug | INFO flwr 2024-07-09 04:52:44,091 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 04:52:44,091 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 04:52:47,883 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:52:47,883 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 04:52:51,428 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:52:51,428 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 04:52:54,904 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:52:54,904 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 04:52:58,268 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:52:58,268 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | INFO flwr 2024-07-09 04:54:15,991 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 04:54:17,898 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 38137545524.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'object_store_memory': 19068772761.0}
debug | INFO flwr 2024-07-09 04:54:17,898 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 04:54:17,898 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 04:54:17,903 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 04:54:17,903 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 04:54:17,903 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 04:54:24,106 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 04:54:24,106 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 04:54:24,151 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 04:54:24,151 | server.py:110 | 
debug | INFO flwr 2024-07-09 04:54:24,151 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 04:54:24,151 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 04:54:27,974 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:54:27,974 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 04:54:31,415 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:54:31,415 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 04:54:34,869 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:54:34,869 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 04:54:38,766 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:54:38,766 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | INFO flwr 2024-07-09 04:57:27,893 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 04:57:29,772 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19066510540.0, 'node:__internal_head__': 1.0, 'memory': 38133021083.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-09 04:57:29,772 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 04:57:29,772 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 04:57:29,777 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 04:57:29,778 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 04:57:29,778 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 04:57:35,972 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 04:57:35,972 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 04:57:36,019 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 04:57:36,019 | server.py:110 | 
debug | INFO flwr 2024-07-09 04:57:36,019 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 04:57:36,019 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 04:57:39,578 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:57:39,578 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | ERROR flwr 2024-07-09 04:57:42,626 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:57:42,626 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | ERROR flwr 2024-07-09 04:57:45,660 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:57:45,661 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | ERROR flwr 2024-07-09 04:57:49,166 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:57:49,166 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | ERROR flwr 2024-07-09 04:57:52,115 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:57:52,115 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | INFO flwr 2024-07-09 04:57:52,115 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 04:57:52,160 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 16.140951369001414)
debug | INFO flwr 2024-07-09 04:57:52,160 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 04:57:55,199 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 04:57:55,200 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 04:57:58,434 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 04:57:58,434 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 04:58:01,327 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 04:58:01,327 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 04:58:04,811 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 04:58:04,811 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 04:58:07,537 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 04:58:07,538 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | INFO flwr 2024-07-09 04:58:07,538 | server.py:190 | aggregate_evaluate: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 04:58:07,538 | server.py:110 | 
debug | INFO flwr 2024-07-09 04:58:07,538 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 04:58:07,538 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 04:58:10,544 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:58:10,544 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | ERROR flwr 2024-07-09 04:58:13,659 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:58:13,659 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | ERROR flwr 2024-07-09 04:58:16,760 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:58:16,760 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | ERROR flwr 2024-07-09 04:58:19,777 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:58:19,777 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | ERROR flwr 2024-07-09 04:58:22,482 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:58:22,482 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | INFO flwr 2024-07-09 04:59:38,284 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 04:59:40,183 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 19067435827.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'memory': 38134871655.0}
debug | INFO flwr 2024-07-09 04:59:40,183 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 04:59:40,183 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 04:59:40,189 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 04:59:40,189 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 04:59:40,189 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 04:59:46,451 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 04:59:46,451 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 04:59:46,495 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 04:59:46,495 | server.py:110 | 
debug | INFO flwr 2024-07-09 04:59:46,495 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 04:59:46,495 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 04:59:49,947 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment

debug | ERROR flwr 2024-07-09 04:59:49,947 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment
debug | ERROR flwr 2024-07-09 04:59:52,919 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment

debug | ERROR flwr 2024-07-09 04:59:52,919 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment
debug | ERROR flwr 2024-07-09 04:59:56,091 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment

debug | ERROR flwr 2024-07-09 04:59:56,091 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment
debug | ERROR flwr 2024-07-09 04:59:59,111 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment

debug | ERROR flwr 2024-07-09 04:59:59,111 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment
debug | ERROR flwr 2024-07-09 05:00:03,510 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment

debug | ERROR flwr 2024-07-09 05:00:03,510 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment
debug | INFO flwr 2024-07-09 05:00:03,510 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:00:03,553 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 17.057444139005383)
debug | INFO flwr 2024-07-09 05:00:03,553 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:00:07,557 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:00:07,557 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:00:10,753 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:00:10,753 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:00:14,274 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:00:14,274 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:00:17,548 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:00:17,548 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | INFO flwr 2024-07-09 05:10:57,568 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:10:59,453 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 19067701248.0, 'memory': 38135402496.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-09 05:10:59,453 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:10:59,453 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:10:59,458 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:10:59,458 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:10:59,458 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-09 05:11:05,759 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=29376, ip=172.17.0.2, actor_id=7578c7e1cb42031d74fd4f9d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x74f748011d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 115, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 86, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 46, in load_partition
    inputs = partition_train_test['img']
NameError: name 'partition_train_test' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=29376, ip=172.17.0.2, actor_id=7578c7e1cb42031d74fd4f9d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x74f748011d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'partition_train_test' is not defined

debug | ERROR flwr 2024-07-09 05:11:05,759 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=29376, ip=172.17.0.2, actor_id=7578c7e1cb42031d74fd4f9d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x74f748011d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 115, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 86, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 46, in load_partition
    inputs = partition_train_test['img']
NameError: name 'partition_train_test' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=29376, ip=172.17.0.2, actor_id=7578c7e1cb42031d74fd4f9d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x74f748011d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'partition_train_test' is not defined
debug | ERROR flwr 2024-07-09 05:11:05,759 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=29376, ip=172.17.0.2, actor_id=7578c7e1cb42031d74fd4f9d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x74f748011d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 115, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 86, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 46, in load_partition
    inputs = partition_train_test['img']
NameError: name 'partition_train_test' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=29376, ip=172.17.0.2, actor_id=7578c7e1cb42031d74fd4f9d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x74f748011d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'partition_train_test' is not defined
debug | ERROR flwr 2024-07-09 05:11:05,759 | app.py:329 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=29376, ip=172.17.0.2, actor_id=7578c7e1cb42031d74fd4f9d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x74f748011d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 115, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 86, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 46, in load_partition
    inputs = partition_train_test['img']
NameError: name 'partition_train_test' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=29376, ip=172.17.0.2, actor_id=7578c7e1cb42031d74fd4f9d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x74f748011d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'partition_train_test' is not defined

debug | ERROR flwr 2024-07-09 05:11:05,759 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-09 05:11:37,522 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:11:39,421 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'object_store_memory': 19067815526.0, 'memory': 38135631054.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-09 05:11:39,421 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:11:39,421 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:11:39,427 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:11:39,427 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:11:39,427 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-09 05:11:55,047 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=30324, ip=172.17.0.2, actor_id=d51a02d53ec462a0ca9152f001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7815046f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 115, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 86, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 48, in load_partition
    labels = partition['labels']
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2845, in _getitem
    pa_subtable = query_table(self._data, key, indices=self._indices)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 584, in query_table
    _check_valid_column_key(key, table.column_names)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 521, in _check_valid_column_key
    raise KeyError(f"Column {key} not in the dataset. Current columns in the dataset: {columns}")
KeyError: "Column labels not in the dataset. Current columns in the dataset: ['img', 'label']"

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=30324, ip=172.17.0.2, actor_id=d51a02d53ec462a0ca9152f001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7815046f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: "Column labels not in the dataset. Current columns in the dataset: ['img', 'label']"

debug | ERROR flwr 2024-07-09 05:11:55,048 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=30324, ip=172.17.0.2, actor_id=d51a02d53ec462a0ca9152f001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7815046f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 115, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 86, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 48, in load_partition
    labels = partition['labels']
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2845, in _getitem
    pa_subtable = query_table(self._data, key, indices=self._indices)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 584, in query_table
    _check_valid_column_key(key, table.column_names)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 521, in _check_valid_column_key
    raise KeyError(f"Column {key} not in the dataset. Current columns in the dataset: {columns}")
KeyError: "Column labels not in the dataset. Current columns in the dataset: ['img', 'label']"

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=30324, ip=172.17.0.2, actor_id=d51a02d53ec462a0ca9152f001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7815046f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: "Column labels not in the dataset. Current columns in the dataset: ['img', 'label']"
debug | ERROR flwr 2024-07-09 05:11:55,048 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=30324, ip=172.17.0.2, actor_id=d51a02d53ec462a0ca9152f001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7815046f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 115, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 86, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 48, in load_partition
    labels = partition['labels']
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2845, in _getitem
    pa_subtable = query_table(self._data, key, indices=self._indices)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 584, in query_table
    _check_valid_column_key(key, table.column_names)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 521, in _check_valid_column_key
    raise KeyError(f"Column {key} not in the dataset. Current columns in the dataset: {columns}")
KeyError: "Column labels not in the dataset. Current columns in the dataset: ['img', 'label']"

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=30324, ip=172.17.0.2, actor_id=d51a02d53ec462a0ca9152f001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7815046f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: "Column labels not in the dataset. Current columns in the dataset: ['img', 'label']"
debug | ERROR flwr 2024-07-09 05:11:55,048 | app.py:329 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=30324, ip=172.17.0.2, actor_id=d51a02d53ec462a0ca9152f001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7815046f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 115, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 86, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 48, in load_partition
    labels = partition['labels']
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2845, in _getitem
    pa_subtable = query_table(self._data, key, indices=self._indices)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 584, in query_table
    _check_valid_column_key(key, table.column_names)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 521, in _check_valid_column_key
    raise KeyError(f"Column {key} not in the dataset. Current columns in the dataset: {columns}")
KeyError: "Column labels not in the dataset. Current columns in the dataset: ['img', 'label']"

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=30324, ip=172.17.0.2, actor_id=d51a02d53ec462a0ca9152f001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7815046f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: "Column labels not in the dataset. Current columns in the dataset: ['img', 'label']"

debug | ERROR flwr 2024-07-09 05:11:55,048 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-09 05:17:15,878 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:17:17,788 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38135483598.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'object_store_memory': 19067741798.0}
debug | INFO flwr 2024-07-09 05:17:17,789 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:17:17,789 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:17:17,794 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:17:17,794 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:17:17,794 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:17:46,636 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:17:46,636 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:17:46,683 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 05:17:46,683 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:17:46,683 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:17:46,683 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:18:14,168 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 05:18:14,168 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 05:18:18,446 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 05:18:18,446 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 05:18:45,020 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 05:18:45,021 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | INFO flwr 2024-07-09 05:19:42,510 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:19:44,402 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'object_store_memory': 18945690009.0, 'memory': 37891380020.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-09 05:19:44,403 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:19:44,403 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:19:44,408 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:19:44,408 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:19:44,408 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:19:50,944 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:19:50,944 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:19:50,990 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 05:19:50,990 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:19:50,990 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:19:50,990 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:19:54,355 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable

debug | ERROR flwr 2024-07-09 05:19:54,355 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable
debug | ERROR flwr 2024-07-09 05:19:57,285 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable

debug | ERROR flwr 2024-07-09 05:19:57,285 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable
debug | ERROR flwr 2024-07-09 05:20:00,342 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable

debug | ERROR flwr 2024-07-09 05:20:00,342 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable
debug | ERROR flwr 2024-07-09 05:20:03,373 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable

debug | ERROR flwr 2024-07-09 05:20:03,373 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable
debug | ERROR flwr 2024-07-09 05:20:06,273 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable

debug | ERROR flwr 2024-07-09 05:20:06,273 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable
debug | INFO flwr 2024-07-09 05:20:06,273 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:20:06,317 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 15.326353805001418)
debug | INFO flwr 2024-07-09 05:20:06,317 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:20:09,369 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:20:09,369 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:20:12,444 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:20:12,444 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | INFO flwr 2024-07-09 05:21:57,109 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:21:59,018 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:172.17.0.2': 1.0, 'CPU': 11.0, 'object_store_memory': 19066043596.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'memory': 38132087195.0}
debug | INFO flwr 2024-07-09 05:21:59,019 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:21:59,019 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:21:59,024 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:21:59,024 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:21:59,024 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:22:05,291 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:22:05,291 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:22:05,337 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 05:22:05,337 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:22:05,337 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:22:05,337 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:22:05,953 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'

debug | ERROR flwr 2024-07-09 05:22:05,953 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'
debug | ERROR flwr 2024-07-09 05:22:06,509 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'

debug | ERROR flwr 2024-07-09 05:22:06,509 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'
debug | ERROR flwr 2024-07-09 05:22:07,055 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'

debug | ERROR flwr 2024-07-09 05:22:07,055 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'
debug | ERROR flwr 2024-07-09 05:22:07,546 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'

debug | ERROR flwr 2024-07-09 05:22:07,546 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'
debug | ERROR flwr 2024-07-09 05:22:07,938 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'

debug | ERROR flwr 2024-07-09 05:22:07,938 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'
debug | INFO flwr 2024-07-09 05:22:07,938 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:22:07,982 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 2.6452394709995133)
debug | INFO flwr 2024-07-09 05:22:07,982 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:22:08,497 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:22:08,497 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:22:08,945 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:22:08,945 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:22:09,388 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:22:09,388 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:22:09,835 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:22:09,836 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:22:10,226 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:22:10,227 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | INFO flwr 2024-07-09 05:28:21,267 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:28:23,161 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 19065661440.0, 'memory': 38131322880.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-09 05:28:23,162 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:28:23,162 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:28:23,167 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:28:23,167 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:28:23,167 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:28:29,668 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:28:29,668 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:28:29,714 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 05:28:29,715 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:28:29,715 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:28:29,715 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:28:31,219 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:31,220 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:28:32,281 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:32,281 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:28:33,328 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:33,328 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:28:34,358 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:35,124 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:28:35,334 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:35,334 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:28:35,335 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:28:35,379 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 5.664714301005006)
debug | INFO flwr 2024-07-09 05:28:35,379 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:28:35,945 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:35,946 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:28:36,509 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:36,509 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:28:37,006 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:37,006 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:28:37,487 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:37,910 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:38,042 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:28:38,043 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | INFO flwr 2024-07-09 05:28:38,044 | server.py:190 | aggregate_evaluate: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:28:38,044 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:28:38,045 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 05:28:38,045 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:28:39,132 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:39,132 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:28:40,052 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:40,052 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:28:40,973 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:41,894 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:42,702 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:28:42,702 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:28:42,770 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:44,030 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:28:44,034 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:28:44,087 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 14.372192727001675)
debug | INFO flwr 2024-07-09 05:28:44,940 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:28:45,452 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:45,452 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:28:45,951 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:45,951 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:28:46,486 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:46,487 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:28:47,009 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:47,009 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:28:47,470 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:47,470 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | INFO flwr 2024-07-09 05:29:44,699 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:29:46,613 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:172.17.0.2': 1.0, 'CPU': 11.0, 'memory': 38126808270.0, 'object_store_memory': 19063404134.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-09 05:29:46,614 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:29:46,614 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:29:46,619 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:29:46,619 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:29:46,619 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:29:52,854 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:29:52,854 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:29:52,899 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 05:29:52,899 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:29:52,899 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:29:52,899 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:29:54,385 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:29:54,385 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:29:55,408 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:29:55,408 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:29:56,438 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:29:56,438 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:29:57,475 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:29:57,476 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:29:58,450 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:29:58,450 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:29:58,450 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:29:58,497 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 5.597631005002768)
debug | INFO flwr 2024-07-09 05:29:58,497 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:29:59,588 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:29:59,588 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:00,613 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:00,613 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:01,686 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:01,686 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:02,615 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:02,615 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:03,475 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:03,475 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:30:03,475 | server.py:190 | aggregate_evaluate: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:30:03,475 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:30:03,475 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 05:30:03,475 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:30:04,465 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:04,465 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:05,438 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:05,438 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:06,483 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:06,483 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:07,541 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:08,037 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:08,540 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:08,540 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:30:08,540 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:30:08,588 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 15.688843862000795)
debug | INFO flwr 2024-07-09 05:30:08,588 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:30:09,684 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:10,699 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:11,074 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:11,074 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:11,698 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:11,699 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:12,761 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:12,761 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:13,614 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:13,614 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:30:13,614 | server.py:190 | aggregate_evaluate: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:30:13,614 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:30:13,615 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 05:30:13,615 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:30:14,584 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:14,584 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:15,505 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:15,505 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:16,429 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:17,188 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:17,360 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:17,361 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:30:28,040 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:30:30,026 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'memory': 38124741428.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'object_store_memory': 19062370713.0}
debug | INFO flwr 2024-07-09 05:30:30,027 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:30:30,027 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:30:30,051 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:30:30,051 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:30:30,051 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:30:36,584 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:30:36,584 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:30:36,631 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 05:30:36,631 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:30:36,631 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:30:36,631 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:30:38,128 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:38,128 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:39,187 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:39,187 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:40,202 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:41,078 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:41,230 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:41,230 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:42,173 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:42,173 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:30:42,173 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:30:42,221 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 5.590050187995075)
debug | INFO flwr 2024-07-09 05:30:42,221 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:30:43,285 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:43,285 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:44,295 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:45,389 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:46,319 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:47,180 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:48,670 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:48,671 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:48,672 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:48,672 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:30:48,673 | server.py:190 | aggregate_evaluate: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:30:48,673 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:30:48,673 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 05:30:48,673 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:30:49,670 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:50,612 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:51,015 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:51,016 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:51,608 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:51,816 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:52,659 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:53,631 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:54,577 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:54,578 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:31:36,666 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:31:38,554 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19064168448.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'memory': 38128336896.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0}
debug | INFO flwr 2024-07-09 05:31:38,554 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:31:38,554 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:31:38,560 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:31:38,560 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:31:38,560 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:32:11,535 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:32:13,432 | app.py:228 | Flower VCE: Ray initialized with resources: {'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'object_store_memory': 19062997401.0, 'memory': 38125994804.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-09 05:32:13,432 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:32:13,432 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:32:13,437 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:32:13,438 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:32:13,438 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:32:19,815 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:32:19,815 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:32:19,862 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 05:32:19,862 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:32:19,862 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:32:19,862 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:32:28,764 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}

debug | ERROR flwr 2024-07-09 05:32:28,764 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}
debug | ERROR flwr 2024-07-09 05:32:37,184 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}

debug | ERROR flwr 2024-07-09 05:32:37,184 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}
debug | ERROR flwr 2024-07-09 05:32:45,470 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}

debug | ERROR flwr 2024-07-09 05:32:45,470 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}
debug | ERROR flwr 2024-07-09 05:32:53,774 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}

debug | ERROR flwr 2024-07-09 05:32:53,774 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}
debug | ERROR flwr 2024-07-09 05:33:01,941 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}

debug | ERROR flwr 2024-07-09 05:33:01,941 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}
debug | INFO flwr 2024-07-09 05:33:01,942 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:33:01,986 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 42.12357196200173)
debug | INFO flwr 2024-07-09 05:33:01,986 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:33:14,061 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 05:33:14,061 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 05:33:14,062 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:33:14,062 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 05:33:14,062 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:36:26,395 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:36:28,295 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19062658252.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'memory': 38125316507.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-09 05:36:28,295 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:36:28,295 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:36:28,301 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:36:28,301 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:36:28,301 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:36:34,882 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:36:34,882 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:36:34,928 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 05:36:34,929 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:36:34,929 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:36:34,929 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:37:18,142 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 05:37:18,554 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 05:37:18,581 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 43.652717135002604)
debug | INFO flwr 2024-07-09 05:37:18,581 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:37:30,705 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 05:37:30,706 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 05:37:30,706 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:37:30,706 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 05:37:30,706 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:38:12,781 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:38:13,210 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 98.28165723299753)
debug | INFO flwr 2024-07-09 05:38:13,210 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:38:25,221 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:38:25,221 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:38:25,221 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 05:38:25,222 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:39:07,557 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:39:07,977 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 153.0484258209981)
debug | INFO flwr 2024-07-09 05:39:07,977 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:39:19,945 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:39:19,945 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:39:19,945 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 05:39:19,945 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:40:01,949 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:40:02,379 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 207.45056535400363)
debug | INFO flwr 2024-07-09 05:40:02,379 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:40:14,355 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:40:14,355 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:40:14,355 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-09 05:40:14,355 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:40:56,804 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:40:57,225 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 262.29624242999853)
debug | INFO flwr 2024-07-09 05:40:57,225 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:41:09,186 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:41:09,187 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:41:09,187 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-09 05:41:09,187 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:41:51,448 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:41:51,868 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 316.9396297639978)
debug | INFO flwr 2024-07-09 05:41:51,868 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:42:03,718 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:42:03,718 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:42:03,718 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-09 05:42:03,718 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:42:45,875 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:43:04,459 | server.py:129 | fit progress: (7, tensor(1.3939, device='cuda:0'), {'accuracy': 0.5631111111111111}, 389.5302933159983)
debug | INFO flwr 2024-07-09 05:43:04,488 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:43:16,471 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:43:16,482 | server.py:494 | 
debug | INFO flwr 2024-07-09 05:43:16,482 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 05:43:16,482 | server.py:496 | Run finished 7 round(s) in 401.54s
debug | INFO flwr 2024-07-09 05:43:16,482 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 1: 6.236139416694641
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 2: 5.984530663490295
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 3: 5.8612425327301025
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 4: 5.802330040931702
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 5: 5.783141160011292
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 6: 5.759219741821289
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 7: 5.723884439468383
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 7: 1.3939374685287476
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	              (7, 0.5631111111111111)]}
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:499 | 
debug | INFO flwr 2024-07-09 05:45:49,677 | app.py:193 | Starting Flower simulation, config: num_rounds=4, no round_timeout
debug | INFO flwr 2024-07-09 05:45:51,583 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19060694630.0, 'node:__internal_head__': 1.0, 'memory': 38121389262.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0}
debug | INFO flwr 2024-07-09 05:45:51,583 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:45:51,583 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:45:51,588 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:45:51,589 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:45:51,589 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:45:59,047 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:45:59,047 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:45:59,095 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 05:45:59,095 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:45:59,095 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:45:59,095 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:46:39,977 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-09 05:46:40,160 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 05:46:40,191 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 41.09592936199624)
debug | INFO flwr 2024-07-09 05:46:40,191 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:46:50,895 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-09 05:46:50,895 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 05:46:50,895 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:46:50,895 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 05:46:50,895 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:47:31,209 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:47:31,408 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 92.31358774099499)
debug | INFO flwr 2024-07-09 05:47:31,409 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:47:42,010 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:47:42,010 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:47:42,010 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 05:47:42,010 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:48:22,533 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:48:22,707 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 143.61267748799582)
debug | INFO flwr 2024-07-09 05:48:22,708 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:48:33,431 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:48:33,432 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:48:33,432 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 05:48:33,432 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:49:14,049 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:49:24,012 | server.py:129 | fit progress: (4, tensor(1.7529, device='cuda:0'), {'accuracy': 0.46355555555555555}, 204.9173240300006)
debug | INFO flwr 2024-07-09 05:49:24,028 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:49:34,740 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:49:34,744 | server.py:494 | 
debug | INFO flwr 2024-07-09 05:49:34,744 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 05:49:34,744 | server.py:496 | Run finished 4 round(s) in 215.65s
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 		round 1: 5.97545018196106
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 		round 2: 5.823779487609864
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 		round 3: 5.746642994880676
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 		round 4: 5.717197561264038
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 		round 4: 1.7528555393218994
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 	{'accuracy': [(0, -1), (1, -1), (2, -1), (3, -1), (4, 0.46355555555555555)]}
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:499 | 
debug | INFO flwr 2024-07-09 05:51:44,381 | app.py:193 | Starting Flower simulation, config: num_rounds=4, no round_timeout
debug | INFO flwr 2024-07-09 05:51:46,280 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38121141044.0, 'object_store_memory': 19060570521.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-09 05:51:46,280 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:51:46,280 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:51:46,285 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:51:46,285 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:51:46,285 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:51:54,041 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:51:54,042 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:52:16,620 | server.py:97 | initial parameters (loss, other metrics): tensor(1.5878, device='cuda:0'), {'accuracy': 0.4726666666666667}
debug | INFO flwr 2024-07-09 05:52:16,635 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:52:16,635 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:52:16,635 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:52:57,550 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-09 05:52:57,737 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 05:53:19,705 | server.py:129 | fit progress: (1, tensor(1.2851, device='cuda:0'), {'accuracy': 0.562}, 63.0698853579961)
debug | INFO flwr 2024-07-09 05:53:19,706 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:53:30,344 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-09 05:53:30,344 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 05:53:30,344 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:53:30,344 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 05:53:30,345 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:54:10,577 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:54:32,761 | server.py:129 | fit progress: (2, tensor(1.2061, device='cuda:0'), {'accuracy': 0.586}, 136.1264950439945)
debug | INFO flwr 2024-07-09 05:54:32,762 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:54:43,416 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:54:43,416 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:54:43,416 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 05:54:43,416 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:55:24,130 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:55:46,268 | server.py:129 | fit progress: (3, tensor(1.1538, device='cuda:0'), {'accuracy': 0.5935555555555555}, 209.63333235399477)
debug | INFO flwr 2024-07-09 05:55:46,269 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:55:56,980 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:55:56,980 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:55:56,980 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 05:55:56,980 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:56:37,707 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:56:59,957 | server.py:129 | fit progress: (4, tensor(1.1401, device='cuda:0'), {'accuracy': 0.6023333333333334}, 283.322516659995)
debug | INFO flwr 2024-07-09 05:56:59,958 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:57:10,703 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:57:10,708 | server.py:494 | 
debug | INFO flwr 2024-07-09 05:57:10,708 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 05:57:10,708 | server.py:496 | Run finished 4 round(s) in 294.07s
debug | INFO flwr 2024-07-09 05:57:10,708 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 05:57:10,708 | server.py:498 | 		round 1: 5.953476881980896
debug | INFO flwr 2024-07-09 05:57:10,708 | server.py:498 | 		round 2: 5.8075024604797365
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 		round 3: 5.791598010063171
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 		round 4: 5.726619458198547
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 		round 0: 1.5877822637557983
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 		round 1: 1.2850899696350098
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 		round 2: 1.206124186515808
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 		round 3: 1.1537820100784302
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 		round 4: 1.140051007270813
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 	{'accuracy': [(0, 0.4726666666666667),
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 	              (1, 0.562),
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 	              (2, 0.586),
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 	              (3, 0.5935555555555555),
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 	              (4, 0.6023333333333334)]}
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:499 | 
debug | INFO flwr 2024-07-09 05:57:53,889 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:57:55,784 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19062085632.0, 'memory': 38124171264.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-09 05:57:55,785 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:57:55,785 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:57:55,790 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:57:55,790 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:57:55,790 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:58:03,018 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:58:03,018 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:58:25,835 | server.py:97 | initial parameters (loss, other metrics): tensor(1.4719, device='cuda:0'), {'accuracy': 0.49166666666666664}
debug | INFO flwr 2024-07-09 05:58:25,856 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:58:25,856 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:58:25,856 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:59:18,519 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 05:59:18,944 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 05:59:40,928 | server.py:129 | fit progress: (1, tensor(1.4636, device='cuda:0'), {'accuracy': 0.5401111111111111}, 75.07224877100089)
debug | INFO flwr 2024-07-09 05:59:40,929 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:59:44,332 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 05:59:44,332 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 05:59:44,332 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:59:44,332 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 05:59:44,332 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:00:35,483 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:00:57,913 | server.py:129 | fit progress: (2, tensor(1.3902, device='cuda:0'), {'accuracy': 0.5686666666666667}, 152.05672797099396)
debug | INFO flwr 2024-07-09 06:00:57,914 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:01:01,377 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:01:01,377 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:01:01,377 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 06:01:01,377 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:01:53,566 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:02:16,122 | server.py:129 | fit progress: (3, tensor(1.3315, device='cuda:0'), {'accuracy': 0.5705555555555556}, 230.26623617400037)
debug | INFO flwr 2024-07-09 06:02:16,123 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:02:19,597 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:02:19,597 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:02:19,597 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 06:02:19,597 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:03:11,598 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:03:34,082 | server.py:129 | fit progress: (4, tensor(1.3129, device='cuda:0'), {'accuracy': 0.568}, 308.22569258499425)
debug | INFO flwr 2024-07-09 06:03:34,083 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:03:37,496 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:03:37,496 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:03:37,496 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-09 06:03:37,496 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:04:29,382 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:04:51,960 | server.py:129 | fit progress: (5, tensor(1.1840, device='cuda:0'), {'accuracy': 0.5963333333333334}, 386.104498626999)
debug | INFO flwr 2024-07-09 06:04:51,961 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:04:55,097 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:04:55,097 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:04:55,097 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-09 06:04:55,097 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:05:46,971 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:06:09,624 | server.py:129 | fit progress: (6, tensor(1.1694, device='cuda:0'), {'accuracy': 0.6076666666666667}, 463.76774220899824)
debug | INFO flwr 2024-07-09 06:06:09,625 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:06:12,766 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:06:12,767 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:06:12,767 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-09 06:06:12,767 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:07:04,362 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:07:26,791 | server.py:129 | fit progress: (7, tensor(1.1347, device='cuda:0'), {'accuracy': 0.6093333333333333}, 540.935081509997)
debug | INFO flwr 2024-07-09 06:07:26,792 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:07:29,926 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:07:29,936 | server.py:494 | 
debug | INFO flwr 2024-07-09 06:07:29,936 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 06:07:29,936 | server.py:496 | Run finished 7 round(s) in 544.07s
debug | INFO flwr 2024-07-09 06:07:29,936 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 06:07:29,936 | server.py:498 | 		round 1: 5.211320877075195
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 2: 4.994849109649659
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 3: 4.926776313781739
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 4: 4.88064603805542
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 5: 4.839172267913819
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 6: 4.814996337890625
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 7: 4.776057147979737
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 0: 1.4718796014785767
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 1: 1.463558554649353
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 2: 1.390241026878357
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 3: 1.3315293788909912
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 4: 1.3128658533096313
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 5: 1.183953046798706
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 6: 1.1693751811981201
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 7: 1.1346561908721924
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	{'accuracy': [(0, 0.49166666666666664),
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	              (1, 0.5401111111111111),
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	              (2, 0.5686666666666667),
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	              (3, 0.5705555555555556),
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	              (4, 0.568),
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	              (5, 0.5963333333333334),
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	              (6, 0.6076666666666667),
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	              (7, 0.6093333333333333)]}
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:499 | 
debug | INFO flwr 2024-07-09 06:11:09,894 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 06:11:11,783 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19061563392.0, 'memory': 38123126784.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-09 06:11:11,783 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 06:11:11,783 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 06:11:11,789 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 06:11:11,789 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 06:11:11,789 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 06:11:32,930 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 06:11:34,837 | app.py:228 | Flower VCE: Ray initialized with resources: {'accelerator_type:G': 1.0, 'GPU': 1.0, 'memory': 38123166107.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19061583052.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-09 06:11:34,837 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 06:11:34,837 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 06:11:34,845 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 06:11:34,845 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 06:11:34,845 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 06:11:41,270 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 06:11:41,270 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 06:11:41,319 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 06:11:41,319 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:11:41,319 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 06:11:41,319 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:12:33,070 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 06:12:33,490 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 06:12:33,521 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 52.20181102499919)
debug | INFO flwr 2024-07-09 06:12:33,521 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:12:36,807 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 06:12:36,808 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 06:12:36,808 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:12:36,808 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 06:12:36,808 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:13:27,054 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:13:27,493 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 106.17375174499466)
debug | INFO flwr 2024-07-09 06:13:27,493 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:13:30,791 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:13:30,791 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:13:30,791 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 06:13:30,791 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:14:21,088 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:14:21,518 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 160.19877343999542)
debug | INFO flwr 2024-07-09 06:14:21,518 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:14:24,751 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:14:24,751 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:14:24,751 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 06:14:24,751 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:15:15,124 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:15:15,548 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 214.22923340899433)
debug | INFO flwr 2024-07-09 06:15:15,548 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:15:18,756 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:15:18,756 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:15:18,756 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-09 06:15:18,756 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:16:08,750 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:16:09,182 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 267.8631455079958)
debug | INFO flwr 2024-07-09 06:16:09,182 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:16:12,269 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:16:12,269 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:16:12,269 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-09 06:16:12,269 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:17:02,381 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:17:02,815 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 321.4957471069938)
debug | INFO flwr 2024-07-09 06:17:02,815 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:17:06,037 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:17:06,037 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:17:06,038 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-09 06:17:06,038 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:17:56,326 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:19:33,522 | server.py:129 | fit progress: (7, tensor(1.0880, device='cuda:0'), {'accuracy': 0.6766}, 472.20257860999845)
debug | INFO flwr 2024-07-09 06:19:33,537 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:19:36,820 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:19:36,829 | server.py:494 | 
debug | INFO flwr 2024-07-09 06:19:36,829 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 06:19:36,829 | server.py:496 | Run finished 7 round(s) in 475.50s
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 1: 5.248742008209229
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 2: 5.02385196685791
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 3: 4.93183479309082
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 4: 4.874852180480957
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 5: 4.825312328338623
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 6: 4.790541076660157
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 7: 4.808391952514649
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 7: 1.088034987449646
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	              (7, 0.6766)]}
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:499 | 
debug | INFO flwr 2024-07-09 06:21:03,230 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 06:21:05,139 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38120740455.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19060370227.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0}
debug | INFO flwr 2024-07-09 06:21:05,139 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 06:21:05,139 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 06:21:05,144 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 06:21:05,144 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 06:21:05,145 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 06:21:12,446 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 06:21:12,447 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 06:21:12,492 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 06:21:12,492 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:21:12,492 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 06:21:12,492 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:22:03,376 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | WARNING flwr 2024-07-09 06:22:03,631 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 06:22:03,662 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 51.170070576998114)
debug | INFO flwr 2024-07-09 06:22:03,662 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:22:06,093 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | WARNING flwr 2024-07-09 06:22:06,093 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 06:22:06,093 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:22:06,093 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 06:22:06,093 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:22:56,078 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:22:56,358 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 103.8659105800034)
debug | INFO flwr 2024-07-09 06:22:56,358 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:22:58,726 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:22:58,726 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:22:58,726 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 06:22:58,726 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:23:48,381 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:23:48,657 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 156.16484148699965)
debug | INFO flwr 2024-07-09 06:23:48,657 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:23:50,947 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:23:50,947 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:23:50,947 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 06:23:50,948 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:24:41,048 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:24:41,310 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 208.81822554999962)
debug | INFO flwr 2024-07-09 06:24:41,310 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:24:43,553 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:24:43,553 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:24:43,553 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-09 06:24:43,553 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:25:33,533 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:25:33,807 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 261.315246569)
debug | INFO flwr 2024-07-09 06:25:33,807 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:25:36,099 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:25:36,099 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:25:36,099 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-09 06:25:36,099 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:26:25,978 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:26:26,255 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 313.76324182400276)
debug | INFO flwr 2024-07-09 06:26:26,255 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:26:28,615 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:26:28,615 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:26:28,615 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-09 06:26:28,615 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:27:18,380 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:28:55,881 | server.py:129 | fit progress: (7, tensor(0.9647, device='cuda:0'), {'accuracy': 0.698}, 463.38891955000145)
debug | INFO flwr 2024-07-09 06:28:55,898 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:28:58,362 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:494 | 
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:496 | Run finished 7 round(s) in 465.87s
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:498 | 		round 1: 5.5897895495096845
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:498 | 		round 2: 5.453289190928142
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:498 | 		round 3: 5.354172070821126
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:498 | 		round 4: 5.301459789276123
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:498 | 		round 5: 5.259003639221191
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:498 | 		round 6: 5.265838781992595
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:498 | 		round 7: 5.219785213470459
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 		round 7: 0.9647364020347595
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	              (7, 0.698)]}
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:499 | 
debug | INFO flwr 2024-07-09 06:36:29,101 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 06:36:30,999 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 38119981056.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'object_store_memory': 19059990528.0}
debug | INFO flwr 2024-07-09 06:36:30,999 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 06:36:30,999 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 06:36:31,004 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 06:36:31,004 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 06:36:31,005 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 06:36:37,278 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 06:36:37,279 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 06:36:37,325 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 06:36:37,325 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:36:37,325 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 06:36:37,325 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:37:27,834 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | WARNING flwr 2024-07-09 06:37:28,093 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 06:37:28,124 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 50.79887716599478)
debug | INFO flwr 2024-07-09 06:37:28,124 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:37:30,520 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | WARNING flwr 2024-07-09 06:37:30,520 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 06:37:30,521 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:37:30,521 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 06:37:30,521 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:38:20,515 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:38:20,792 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 103.46691839099367)
debug | INFO flwr 2024-07-09 06:38:20,792 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:38:23,197 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:38:23,197 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:38:23,197 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 06:38:23,197 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:39:13,099 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:39:13,364 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 156.03838115099643)
debug | INFO flwr 2024-07-09 06:39:13,364 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:39:15,738 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:39:15,738 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:39:15,738 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 06:39:15,738 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:40:06,155 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:40:06,432 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 209.10678741499578)
debug | INFO flwr 2024-07-09 06:40:06,432 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:40:08,693 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:40:08,693 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:40:08,693 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-09 06:40:08,693 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:40:59,066 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:40:59,338 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 262.0129346689937)
debug | INFO flwr 2024-07-09 06:40:59,338 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:41:01,722 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:41:01,722 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:41:01,722 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-09 06:41:01,722 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:41:51,866 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:41:52,137 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 314.8122824289967)
debug | INFO flwr 2024-07-09 06:41:52,138 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:41:54,498 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:41:54,498 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:41:54,498 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-09 06:41:54,498 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:42:44,268 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:45:08,735 | server.py:129 | fit progress: (7, tensor(1.0998, device='cuda:0'), {'accuracy': 0.6738}, 511.4102673499947)
debug | INFO flwr 2024-07-09 06:45:08,752 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:45:10,986 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:494 | 
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:496 | Run finished 7 round(s) in 513.66s
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:498 | 		round 1: 5.582475185394287
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:498 | 		round 2: 5.417523543039958
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:498 | 		round 3: 5.369914690653483
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:498 | 		round 4: 5.288664817810059
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:498 | 		round 5: 5.307216167449951
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:498 | 		round 6: 5.242175102233887
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 		round 7: 5.22846523920695
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 		round 7: 1.099819540977478
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	              (7, 0.6738)]}
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:499 | 
debug | INFO flwr 2024-07-09 06:51:50,373 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 06:51:52,273 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38114402304.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19057201152.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-09 06:51:52,273 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 06:51:52,273 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 06:51:52,278 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 06:51:52,278 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 06:51:52,278 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 06:51:58,627 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 06:51:58,627 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 06:51:58,674 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 06:51:58,674 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:51:58,675 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 06:51:58,675 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:53:28,112 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | WARNING flwr 2024-07-09 06:53:28,376 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 06:53:28,407 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 89.73202439200395)
debug | INFO flwr 2024-07-09 06:53:28,407 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:53:31,586 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | WARNING flwr 2024-07-09 06:53:31,586 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 06:53:31,586 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:53:31,586 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 06:53:31,586 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:54:59,387 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:54:59,660 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 180.98600071100373)
debug | INFO flwr 2024-07-09 06:54:59,661 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:55:02,906 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:55:02,906 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:55:02,906 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 06:55:02,906 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:56:30,927 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:56:31,187 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 272.5124957000007)
debug | INFO flwr 2024-07-09 06:56:31,187 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:56:34,357 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:56:34,357 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:56:34,357 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 06:56:34,357 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:58:02,311 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:58:02,587 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 363.9120378000007)
debug | INFO flwr 2024-07-09 06:58:02,587 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:58:05,633 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:58:05,633 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:58:05,633 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-09 06:58:05,633 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:59:33,082 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:59:33,347 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 454.672682714001)
debug | INFO flwr 2024-07-09 06:59:33,347 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:59:36,538 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:59:36,538 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:59:36,538 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-09 06:59:36,538 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 07:01:05,175 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 07:01:05,455 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 546.780551996002)
debug | INFO flwr 2024-07-09 07:01:05,455 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 07:01:08,602 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 07:01:08,602 | server.py:110 | 
debug | INFO flwr 2024-07-09 07:01:08,602 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-09 07:01:08,602 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 07:02:36,916 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 07:07:01,032 | server.py:129 | fit progress: (7, tensor(1.0548, device='cuda:0'), {'accuracy': 0.691}, 902.3574085419968)
debug | INFO flwr 2024-07-09 07:07:01,046 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 07:07:04,247 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 07:07:04,254 | server.py:494 | 
debug | INFO flwr 2024-07-09 07:07:04,254 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 07:07:04,254 | server.py:496 | Run finished 7 round(s) in 905.57s
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 1: 4.888335704803467
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 2: 4.487450917561849
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 3: 4.276104927062988
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 4: 4.164086659749349
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 5: 4.190336545308431
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 6: 4.041756629943848
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 7: 3.916382074356079
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 7: 1.0547795295715332
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	              (7, 0.691)]}
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:499 | 
debug | INFO flwr 2024-07-09 20:51:31,672 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 20:51:33,605 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19057525555.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'memory': 38115051111.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-09 20:51:33,605 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 20:51:33,606 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 20:51:33,611 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 20:51:33,611 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 20:51:33,611 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-09 20:51:39,725 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=117594, ip=172.17.0.2, actor_id=15dd97a6a887a636c04ef23b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7581b80f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 37, in load_partition
    partition = partition.train_test_split(test_size=client_train_split, seed=42)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 567, in wrapper
    out: Union["Dataset", "DatasetDict"] = func(self, *args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/fingerprint.py", line 482, in wrapper
    out = func(dataset, *args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4534, in train_test_split
    raise ValueError(
ValueError: test_size=0.0 should be either positive and smaller than the number of samples 16667 or a float in the (0, 1) range

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=117594, ip=172.17.0.2, actor_id=15dd97a6a887a636c04ef23b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7581b80f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: test_size=0.0 should be either positive and smaller than the number of samples 16667 or a float in the (0, 1) range

debug | ERROR flwr 2024-07-09 20:51:39,726 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=117594, ip=172.17.0.2, actor_id=15dd97a6a887a636c04ef23b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7581b80f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 37, in load_partition
    partition = partition.train_test_split(test_size=client_train_split, seed=42)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 567, in wrapper
    out: Union["Dataset", "DatasetDict"] = func(self, *args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/fingerprint.py", line 482, in wrapper
    out = func(dataset, *args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4534, in train_test_split
    raise ValueError(
ValueError: test_size=0.0 should be either positive and smaller than the number of samples 16667 or a float in the (0, 1) range

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=117594, ip=172.17.0.2, actor_id=15dd97a6a887a636c04ef23b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7581b80f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: test_size=0.0 should be either positive and smaller than the number of samples 16667 or a float in the (0, 1) range
debug | ERROR flwr 2024-07-09 20:51:39,726 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=117594, ip=172.17.0.2, actor_id=15dd97a6a887a636c04ef23b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7581b80f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 37, in load_partition
    partition = partition.train_test_split(test_size=client_train_split, seed=42)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 567, in wrapper
    out: Union["Dataset", "DatasetDict"] = func(self, *args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/fingerprint.py", line 482, in wrapper
    out = func(dataset, *args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4534, in train_test_split
    raise ValueError(
ValueError: test_size=0.0 should be either positive and smaller than the number of samples 16667 or a float in the (0, 1) range

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=117594, ip=172.17.0.2, actor_id=15dd97a6a887a636c04ef23b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7581b80f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: test_size=0.0 should be either positive and smaller than the number of samples 16667 or a float in the (0, 1) range
debug | ERROR flwr 2024-07-09 20:51:39,726 | app.py:329 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=117594, ip=172.17.0.2, actor_id=15dd97a6a887a636c04ef23b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7581b80f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 37, in load_partition
    partition = partition.train_test_split(test_size=client_train_split, seed=42)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 567, in wrapper
    out: Union["Dataset", "DatasetDict"] = func(self, *args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/fingerprint.py", line 482, in wrapper
    out = func(dataset, *args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4534, in train_test_split
    raise ValueError(
ValueError: test_size=0.0 should be either positive and smaller than the number of samples 16667 or a float in the (0, 1) range

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=117594, ip=172.17.0.2, actor_id=15dd97a6a887a636c04ef23b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7581b80f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: test_size=0.0 should be either positive and smaller than the number of samples 16667 or a float in the (0, 1) range

debug | ERROR flwr 2024-07-09 20:51:39,726 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-09 20:54:27,757 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 20:54:29,674 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 19071066931.0, 'memory': 38142133863.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-09 20:54:29,674 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 20:54:29,674 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 20:54:29,679 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 20:54:29,679 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 20:54:29,679 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 20:54:36,391 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 20:54:36,391 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 20:54:36,436 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 20:54:36,436 | server.py:110 | 
debug | INFO flwr 2024-07-09 20:54:36,436 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 20:54:36,436 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 20:56:01,001 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | WARNING flwr 2024-07-09 20:56:01,257 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 20:56:01,288 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 84.85160051999264)
debug | INFO flwr 2024-07-09 20:56:01,288 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 20:56:07,018 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | WARNING flwr 2024-07-09 20:56:07,018 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 20:56:07,018 | server.py:110 | 
debug | INFO flwr 2024-07-09 20:56:07,018 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 20:56:07,018 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 20:57:31,538 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 20:57:31,814 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 175.37781975299004)
debug | INFO flwr 2024-07-09 20:57:31,814 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 20:57:37,540 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 20:57:37,540 | server.py:110 | 
debug | INFO flwr 2024-07-09 20:57:37,541 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 20:57:37,541 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 20:59:01,918 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 20:59:02,180 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 265.7438684239896)
debug | INFO flwr 2024-07-09 20:59:02,180 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 20:59:07,981 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 20:59:07,981 | server.py:110 | 
debug | INFO flwr 2024-07-09 20:59:07,981 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 20:59:07,981 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 21:00:32,948 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 21:00:33,223 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 356.78696667499025)
debug | INFO flwr 2024-07-09 21:00:33,223 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 21:00:38,886 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 21:00:38,886 | server.py:110 | 
debug | INFO flwr 2024-07-09 21:00:38,886 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-09 21:00:38,886 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 21:02:03,129 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 21:02:03,397 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 446.96102718799375)
debug | INFO flwr 2024-07-09 21:02:03,397 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 21:02:09,024 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 21:02:09,024 | server.py:110 | 
debug | INFO flwr 2024-07-09 21:02:09,024 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-09 21:02:09,024 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 21:03:33,167 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 21:03:33,456 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 537.0201395359909)
debug | INFO flwr 2024-07-09 21:03:33,457 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 21:03:39,088 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 21:03:39,088 | server.py:110 | 
debug | INFO flwr 2024-07-09 21:03:39,088 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-09 21:03:39,088 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 21:05:04,248 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 21:09:26,430 | server.py:129 | fit progress: (7, tensor(1.1343, device='cuda:0'), {'accuracy': 0.6732}, 889.9934238089918)
debug | INFO flwr 2024-07-09 21:09:26,444 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 21:09:32,123 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 21:09:32,130 | server.py:494 | 
debug | INFO flwr 2024-07-09 21:09:32,130 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 21:09:32,130 | server.py:496 | Run finished 7 round(s) in 895.69s
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 1: 5.162083864212036
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 2: 4.706534147262573
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 3: 4.437013943990071
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 4: 4.401867707570394
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 5: 4.280681689580281
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 6: 4.209592620531718
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 7: 4.1551030079523725
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 7: 1.1342896223068237
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-09 21:09:32,132 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-09 21:09:32,132 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-09 21:09:32,132 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-09 21:09:32,132 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-09 21:09:32,132 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-09 21:09:32,132 | server.py:498 | 	              (7, 0.6732)]}
debug | INFO flwr 2024-07-09 21:09:32,132 | server.py:499 | 
debug | INFO flwr 2024-07-09 21:12:51,566 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-09 21:12:53,459 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 38139204404.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'object_store_memory': 19069602201.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-09 21:12:53,460 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 21:12:53,460 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 21:12:53,466 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 21:12:53,466 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 21:12:53,466 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 21:12:59,794 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 21:12:59,794 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 21:13:50,760 | server.py:97 | initial parameters (loss, other metrics): tensor(1.1673, device='cuda:0'), {'accuracy': 0.6206}
debug | INFO flwr 2024-07-09 21:13:50,777 | server.py:110 | 
debug | INFO flwr 2024-07-09 21:13:50,777 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 21:13:50,777 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 21:15:27,975 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-09 21:15:50,949 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-09 21:15:52,834 | app.py:228 | Flower VCE: Ray initialized with resources: {'accelerator_type:G': 1.0, 'GPU': 1.0, 'memory': 37817460327.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'node:__internal_head__': 1.0, 'object_store_memory': 18908730163.0}
debug | INFO flwr 2024-07-09 21:15:52,834 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 21:15:52,834 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 21:15:52,839 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 21:15:52,840 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 21:15:52,840 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 21:15:58,967 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 21:15:58,967 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-09 21:15:59,085 | app.py:328 | default_collate: batch must contain tensors, numpy arrays, numbers, dicts or lists; found <class 'PIL.PngImagePlugin.PngImageFile'>
debug | ERROR flwr 2024-07-09 21:15:59,087 | app.py:329 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/collate.py", line 154, in collate
    clone.update({key: collate([d[key] for d in batch], collate_fn_map=collate_fn_map) for key in elem})
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/collate.py", line 154, in <dictcomp>
    clone.update({key: collate([d[key] for d in batch], collate_fn_map=collate_fn_map) for key in elem})
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/collate.py", line 191, in collate
    raise TypeError(default_collate_err_msg_format.format(elem_type))
TypeError: default_collate: batch must contain tensors, numpy arrays, numbers, dicts or lists; found <class 'PIL.PngImagePlugin.PngImageFile'>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/src/fedSSL/model.py", line 185, in evaluate
    self.fine_tune_predictor()
  File "/root/src/fedSSL/model.py", line 201, in fine_tune_predictor
    for item in self.trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 54, in fetch
    return self.collate_fn(data)
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/collate.py", line 316, in default_collate
    return collate(batch, collate_fn_map=default_collate_fn_map)
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/collate.py", line 161, in collate
    return {key: collate([d[key] for d in batch], collate_fn_map=collate_fn_map) for key in elem}
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/collate.py", line 161, in <dictcomp>
    return {key: collate([d[key] for d in batch], collate_fn_map=collate_fn_map) for key in elem}
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/collate.py", line 191, in collate
    raise TypeError(default_collate_err_msg_format.format(elem_type))
TypeError: default_collate: batch must contain tensors, numpy arrays, numbers, dicts or lists; found <class 'PIL.PngImagePlugin.PngImageFile'>

debug | ERROR flwr 2024-07-09 21:15:59,087 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-09 21:24:03,472 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-09 21:24:05,354 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38135004366.0, 'object_store_memory': 19067502182.0, 'node:__internal_head__': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-09 21:24:05,354 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 21:24:05,354 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 21:24:05,360 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 21:24:05,360 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 21:24:05,360 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 21:24:11,429 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 21:24:11,429 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 21:26:29,277 | server.py:97 | initial parameters (loss, other metrics): tensor(0.9749, device='cuda:0'), {'accuracy': 0.68288}
debug | INFO flwr 2024-07-09 21:26:29,293 | server.py:110 | 
debug | INFO flwr 2024-07-09 21:26:29,294 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 21:26:29,294 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 21:27:20,072 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 21:27:20,490 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 21:29:36,508 | server.py:129 | fit progress: (1, tensor(0.9852, device='cuda:0'), {'accuracy': 0.68516}, 187.21447323499888)
debug | INFO flwr 2024-07-09 21:29:36,509 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 21:29:41,332 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 21:29:41,332 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 21:29:41,345 | server.py:494 | 
debug | INFO flwr 2024-07-09 21:29:41,345 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 21:29:41,345 | server.py:496 | Run finished 1 round(s) in 192.04s
debug | INFO flwr 2024-07-09 21:29:41,345 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 21:29:41,345 | server.py:498 | 		round 1: 6.15165147781372
debug | INFO flwr 2024-07-09 21:29:41,345 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 21:29:41,345 | server.py:498 | 		round 0: 0.9749431014060974
debug | INFO flwr 2024-07-09 21:29:41,346 | server.py:498 | 		round 1: 0.9851893782615662
debug | INFO flwr 2024-07-09 21:29:41,346 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 21:29:41,346 | server.py:498 | 	{'accuracy': [(0, 0.68288), (1, 0.68516)]}
debug | INFO flwr 2024-07-09 21:29:41,346 | server.py:499 | 
debug | INFO flwr 2024-07-09 21:33:42,429 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-09 21:33:44,338 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19065907200.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'node:__internal_head__': 1.0, 'memory': 38131814400.0}
debug | INFO flwr 2024-07-09 21:33:44,339 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 21:33:44,339 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 21:33:44,344 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 21:33:44,344 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 21:33:44,344 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 21:33:50,879 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 21:33:50,879 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 21:35:22,613 | server.py:97 | initial parameters (loss, other metrics): tensor(1.0838, device='cuda:0'), {'accuracy': 0.6322}
debug | INFO flwr 2024-07-09 21:35:22,628 | server.py:110 | 
debug | INFO flwr 2024-07-09 21:35:22,628 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 21:35:22,628 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 21:36:13,835 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 21:36:14,251 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 21:37:45,345 | server.py:129 | fit progress: (1, tensor(1.0042, device='cuda:0'), {'accuracy': 0.6602}, 142.71711094699276)
debug | INFO flwr 2024-07-09 21:37:45,346 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 21:37:50,155 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 21:37:50,155 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:494 | 
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:496 | Run finished 1 round(s) in 147.53s
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:498 | 		round 1: 6.149458599090576
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:498 | 		round 0: 1.0837589502334595
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:498 | 		round 1: 1.0041648149490356
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:498 | 	{'accuracy': [(0, 0.6322), (1, 0.6602)]}
debug | INFO flwr 2024-07-09 21:37:50,171 | server.py:499 | 
debug | INFO flwr 2024-07-09 21:52:29,575 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-09 21:52:31,496 | app.py:228 | Flower VCE: Ray initialized with resources: {'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19067899084.0, 'memory': 38135798171.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0}
debug | INFO flwr 2024-07-09 21:52:31,496 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 21:52:31,496 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 21:52:31,502 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 21:52:31,502 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 21:52:31,502 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 21:52:37,910 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 21:52:37,910 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 21:53:49,470 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-09 21:53:51,385 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38135655630.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19067827814.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0}
debug | INFO flwr 2024-07-09 21:53:51,385 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 21:53:51,385 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 21:53:51,390 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 21:53:51,390 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 21:53:51,390 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 21:53:58,064 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 21:53:58,064 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 21:55:40,181 | server.py:97 | initial parameters (loss, other metrics): tensor(1.3807, device='cuda:0'), {'accuracy': 0.70774}
debug | INFO flwr 2024-07-09 21:55:40,202 | server.py:110 | 
debug | INFO flwr 2024-07-09 21:55:40,202 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 21:55:40,202 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 21:56:27,757 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 21:56:28,178 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 21:58:09,512 | server.py:129 | fit progress: (1, tensor(1.1916, device='cuda:0'), {'accuracy': 0.73936}, 149.3101174589974)
debug | INFO flwr 2024-07-09 21:58:09,513 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 21:58:14,132 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 21:58:14,132 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:494 | 
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:496 | Run finished 1 round(s) in 153.93s
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:498 | 		round 1: 6.182422065734864
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:498 | 		round 0: 1.3807141780853271
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:498 | 		round 1: 1.1916399002075195
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:498 | 	{'accuracy': [(0, 0.70774), (1, 0.73936)]}
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:499 | 
debug | INFO flwr 2024-07-09 21:59:58,011 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 21:59:59,921 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19069736140.0, 'memory': 38139472283.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-09 21:59:59,922 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 21:59:59,922 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 21:59:59,927 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 21:59:59,927 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 21:59:59,927 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 22:00:06,657 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 22:00:06,657 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 22:00:06,702 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 22:00:06,703 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:00:06,703 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 22:00:06,703 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:00:53,436 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 22:00:53,858 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 22:00:53,884 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 47.18123190499318)
debug | INFO flwr 2024-07-09 22:00:53,884 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:00:58,486 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 22:00:58,486 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 22:00:58,486 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:00:58,487 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 22:00:58,487 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:01:44,384 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:01:44,800 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 98.09751045699522)
debug | INFO flwr 2024-07-09 22:01:44,800 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:01:49,348 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:01:49,348 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:01:49,348 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 22:01:49,348 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:02:35,001 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:02:35,429 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 148.7261436760018)
debug | INFO flwr 2024-07-09 22:02:35,429 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:02:39,985 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:02:39,985 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:02:39,985 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 22:02:39,986 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:03:25,197 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:03:25,641 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 198.93846467099502)
debug | INFO flwr 2024-07-09 22:03:25,641 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:03:30,093 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:03:30,094 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:03:30,094 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-09 22:03:30,094 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:04:15,542 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:04:15,971 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 249.26861319999443)
debug | INFO flwr 2024-07-09 22:04:15,971 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:04:20,314 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:04:20,315 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:04:20,315 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-09 22:04:20,315 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:05:06,083 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:05:06,507 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 299.80426495100255)
debug | INFO flwr 2024-07-09 22:05:06,507 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:05:10,988 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:05:10,988 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:05:10,988 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-09 22:05:10,988 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:05:56,823 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:07:22,128 | server.py:129 | fit progress: (7, tensor(0.9644, device='cuda:0'), {'accuracy': 0.7643}, 435.4251210729999)
debug | INFO flwr 2024-07-09 22:07:22,146 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:07:26,538 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:07:26,548 | server.py:494 | 
debug | INFO flwr 2024-07-09 22:07:26,548 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 22:07:26,548 | server.py:496 | Run finished 7 round(s) in 439.84s
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 1: 6.202238464355469
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 2: 5.924941444396973
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 3: 5.838752365112304
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 4: 5.777553081512451
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 5: 5.745726108551025
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 6: 5.719148349761963
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 7: 5.699215602874756
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 7: 0.964449405670166
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-09 22:07:26,550 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-09 22:07:26,550 | server.py:498 | 	              (7, 0.7643)]}
debug | INFO flwr 2024-07-09 22:07:26,550 | server.py:499 | 
debug | INFO flwr 2024-07-09 22:14:53,055 | app.py:193 | Starting Flower simulation, config: num_rounds=15, no round_timeout
debug | INFO flwr 2024-07-09 22:14:54,938 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19069007462.0, 'memory': 38138014926.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-09 22:14:54,939 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 22:14:54,939 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 22:14:54,945 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 22:14:54,945 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 22:14:54,945 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 22:15:01,246 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 22:15:01,246 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 22:15:01,293 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 22:15:01,293 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:15:01,293 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 22:15:01,293 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 22:15:01,956 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:01,956 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | ERROR flwr 2024-07-09 22:15:02,503 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:02,503 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | ERROR flwr 2024-07-09 22:15:03,078 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:03,078 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | ERROR flwr 2024-07-09 22:15:03,626 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:03,626 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | ERROR flwr 2024-07-09 22:15:04,073 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:04,073 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | INFO flwr 2024-07-09 22:15:04,073 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 22:15:04,117 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 2.823737460988923)
debug | INFO flwr 2024-07-09 22:15:04,117 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 22:15:04,707 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:04,707 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | ERROR flwr 2024-07-09 22:15:05,192 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:05,193 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | ERROR flwr 2024-07-09 22:15:05,672 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:05,672 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | ERROR flwr 2024-07-09 22:15:06,156 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:06,156 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | ERROR flwr 2024-07-09 22:15:06,643 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:06,643 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | INFO flwr 2024-07-09 22:15:28,000 | app.py:193 | Starting Flower simulation, config: num_rounds=15, no round_timeout
debug | INFO flwr 2024-07-09 22:15:29,869 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'object_store_memory': 19066828800.0, 'memory': 38133657600.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-09 22:15:29,869 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 22:15:29,869 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 22:15:29,875 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 22:15:29,875 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 22:15:29,875 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 22:15:36,397 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 22:15:36,397 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 22:15:36,443 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 22:15:36,443 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:15:36,443 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 22:15:36,443 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 22:15:37,098 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:37,099 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | ERROR flwr 2024-07-09 22:15:37,653 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:37,653 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | ERROR flwr 2024-07-09 22:15:38,265 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:38,265 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | ERROR flwr 2024-07-09 22:15:38,820 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:38,821 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | ERROR flwr 2024-07-09 22:15:39,288 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:39,288 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | INFO flwr 2024-07-09 22:15:39,289 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 22:15:39,332 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 2.8886687330086716)
debug | INFO flwr 2024-07-09 22:15:39,332 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 22:15:39,908 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:39,908 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | ERROR flwr 2024-07-09 22:15:40,390 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:40,390 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | ERROR flwr 2024-07-09 22:15:40,870 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:40,870 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | ERROR flwr 2024-07-09 22:15:41,354 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:41,354 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | ERROR flwr 2024-07-09 22:15:41,844 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:41,844 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | INFO flwr 2024-07-09 22:16:09,732 | app.py:193 | Starting Flower simulation, config: num_rounds=15, no round_timeout
debug | INFO flwr 2024-07-09 22:16:11,596 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38134181070.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19067090534.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-09 22:16:11,597 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 22:16:11,597 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 22:16:11,602 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 22:16:11,602 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 22:16:11,602 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 22:16:18,343 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 22:16:18,343 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 22:16:18,389 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 22:16:18,389 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:16:18,389 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 22:16:18,389 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:17:42,921 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 22:17:43,340 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 22:17:43,364 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 84.97509330199682)
debug | INFO flwr 2024-07-09 22:17:43,365 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:17:49,991 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 22:17:49,991 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 22:17:49,991 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:17:49,991 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 22:17:49,991 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:19:14,181 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:19:14,595 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 176.20573606599646)
debug | INFO flwr 2024-07-09 22:19:14,595 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:19:21,144 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:19:21,144 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:19:21,144 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 22:19:21,144 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:20:45,092 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:20:45,521 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 267.13172684299934)
debug | INFO flwr 2024-07-09 22:20:45,521 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:20:52,078 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:20:52,078 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:20:52,078 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 22:20:52,078 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:22:15,961 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:22:16,395 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 358.00607356500404)
debug | INFO flwr 2024-07-09 22:22:16,396 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:22:22,846 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:22:22,846 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:22:22,846 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-09 22:22:22,846 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:23:46,433 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:23:46,873 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 448.48398309599725)
debug | INFO flwr 2024-07-09 22:23:46,873 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:23:53,270 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:23:53,271 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:23:53,271 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-09 22:23:53,271 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:25:16,604 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:25:17,039 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 538.6500675999996)
debug | INFO flwr 2024-07-09 22:25:17,040 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:25:23,367 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:25:23,367 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:25:23,367 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-09 22:25:23,367 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:26:47,178 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:26:47,583 | server.py:129 | fit progress: (7, -1, {'accuracy': -1}, 629.1935090500046)
debug | INFO flwr 2024-07-09 22:26:47,583 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:26:53,926 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:26:53,926 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:26:53,926 | server.py:111 | [ROUND 8]
debug | INFO flwr 2024-07-09 22:26:53,926 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:28:17,173 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:28:17,600 | server.py:129 | fit progress: (8, -1, {'accuracy': -1}, 719.2109420659981)
debug | INFO flwr 2024-07-09 22:28:17,600 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:28:24,109 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:28:24,109 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:28:24,109 | server.py:111 | [ROUND 9]
debug | INFO flwr 2024-07-09 22:28:24,109 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:29:48,623 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:29:48,959 | server.py:129 | fit progress: (9, -1, {'accuracy': -1}, 810.5699641190004)
debug | INFO flwr 2024-07-09 22:29:48,959 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:29:55,363 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:29:55,363 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:29:55,363 | server.py:111 | [ROUND 10]
debug | INFO flwr 2024-07-09 22:29:55,363 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:31:19,056 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:31:19,403 | server.py:129 | fit progress: (10, -1, {'accuracy': -1}, 901.0141541409976)
debug | INFO flwr 2024-07-09 22:31:19,404 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:31:25,708 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:31:25,708 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:31:25,708 | server.py:111 | [ROUND 11]
debug | INFO flwr 2024-07-09 22:31:25,708 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:32:48,812 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:32:49,181 | server.py:129 | fit progress: (11, -1, {'accuracy': -1}, 990.7921144260035)
debug | INFO flwr 2024-07-09 22:32:49,182 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:32:55,499 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:32:55,499 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:32:55,499 | server.py:111 | [ROUND 12]
debug | INFO flwr 2024-07-09 22:32:55,499 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:34:18,646 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:34:19,050 | server.py:129 | fit progress: (12, -1, {'accuracy': -1}, 1080.6603169430018)
debug | INFO flwr 2024-07-09 22:34:19,050 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:34:25,389 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:34:25,389 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:34:25,390 | server.py:111 | [ROUND 13]
debug | INFO flwr 2024-07-09 22:34:25,390 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:35:48,995 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:35:49,420 | server.py:129 | fit progress: (13, -1, {'accuracy': -1}, 1171.0307398650039)
debug | INFO flwr 2024-07-09 22:35:49,420 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:35:55,839 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:35:55,839 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:35:55,839 | server.py:111 | [ROUND 14]
debug | INFO flwr 2024-07-09 22:35:55,839 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:37:19,354 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:37:19,775 | server.py:129 | fit progress: (14, -1, {'accuracy': -1}, 1261.3860674830066)
debug | INFO flwr 2024-07-09 22:37:19,776 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:37:26,113 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:37:26,113 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:37:26,113 | server.py:111 | [ROUND 15]
debug | INFO flwr 2024-07-09 22:37:26,114 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:38:49,385 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:41:34,317 | server.py:129 | fit progress: (15, tensor(0.8372, device='cuda:0'), {'accuracy': 0.78048}, 1515.927358424)
debug | INFO flwr 2024-07-09 22:41:34,331 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:41:40,728 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:41:40,739 | server.py:494 | 
debug | INFO flwr 2024-07-09 22:41:40,739 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 22:41:40,739 | server.py:496 | Run finished 15 round(s) in 1522.34s
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 1: 6.195074844360351
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 2: 5.9619261741638185
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 3: 5.879641056060791
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 4: 5.838528251647949
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 5: 5.7828937530517575
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 6: 5.7791729927062985
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 7: 5.750582695007324
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 8: 5.738361454010009
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 9: 5.717372417449951
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 10: 5.728444957733155
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 11: 5.699051761627198
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 12: 5.69235200881958
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 13: 5.6610572814941404
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 14: 5.670615482330322
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 15: 5.663570976257324
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 7: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 8: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 9: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 10: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 11: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 12: -1
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 		round 13: -1
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 		round 14: -1
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 		round 15: 0.8371709585189819
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (7, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (8, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (9, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (10, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (11, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (12, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (13, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (14, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (15, 0.78048)]}
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:499 | 
debug | INFO flwr 2024-07-10 03:44:35,274 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-10 03:44:37,166 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38146614068.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19073307033.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0}
debug | INFO flwr 2024-07-10 03:44:37,166 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 03:44:37,166 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 03:44:37,171 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 03:44:37,171 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 03:44:37,172 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 03:45:04,663 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-10 03:45:06,577 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 19073648640.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'memory': 38147297280.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-10 03:45:06,577 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 03:45:06,577 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 03:45:06,583 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 03:45:06,583 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 03:45:06,583 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 03:45:12,637 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 03:45:12,637 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 03:45:12,682 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-10 03:45:12,682 | server.py:110 | 
debug | INFO flwr 2024-07-10 03:45:12,683 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 03:45:12,683 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 03:46:36,868 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-10 03:46:37,287 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | ERROR flwr 2024-07-10 03:46:37,312 | app.py:328 | name 'net' is not defined
debug | ERROR flwr 2024-07-10 03:46:37,312 | app.py:329 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 113, in fit
    res_fit = self.fit_round(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 249, in fit_round
    ] = self.strategy.aggregate_fit(server_round, results, failures)
  File "/root/src/fedSSL/server.py", line 56, in aggregate_fit
    params_dict = zip(net.state_dict().keys(), aggregated_ndarrays)
NameError: name 'net' is not defined

debug | ERROR flwr 2024-07-10 03:46:37,312 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-10 04:30:08,942 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-10 04:30:10,845 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 19072122470.0, 'memory': 38144244942.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-10 04:30:10,845 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 04:30:10,845 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 04:30:10,850 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 04:30:10,850 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 04:30:10,850 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 04:30:17,771 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 04:30:17,771 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 04:30:17,818 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-10 04:30:17,818 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:30:17,818 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 04:30:17,818 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:31:43,402 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-10 04:31:43,812 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | ERROR flwr 2024-07-10 04:31:43,841 | app.py:328 | name 'OrderedDict' is not defined
debug | ERROR flwr 2024-07-10 04:31:43,842 | app.py:329 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 113, in fit
    res_fit = self.fit_round(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 249, in fit_round
    ] = self.strategy.aggregate_fit(server_round, results, failures)
  File "/root/src/fedSSL/server.py", line 58, in aggregate_fit
    params_dict = zip(gb_simclr.state_dict().keys(), aggregated_ndarrays)
NameError: name 'OrderedDict' is not defined

debug | ERROR flwr 2024-07-10 04:31:43,842 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-10 04:33:01,746 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-10 04:33:03,653 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19071412224.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:__internal_head__': 1.0, 'memory': 38142824448.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-10 04:33:03,653 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 04:33:03,653 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 04:33:03,659 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 04:33:03,659 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 04:33:03,659 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 04:33:09,908 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 04:33:09,909 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 04:33:09,909 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:33:09,909 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 04:33:09,909 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:34:35,060 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-10 04:34:35,486 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 04:34:35,667 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:34:42,264 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-10 04:34:42,264 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 04:34:42,264 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:34:42,264 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-10 04:34:42,264 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:36:06,143 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:36:06,703 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:36:13,278 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:36:13,278 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:36:13,278 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-10 04:36:13,278 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:37:36,832 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:37:37,414 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:37:43,907 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:37:43,907 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:37:43,907 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-10 04:37:43,907 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:39:07,708 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:39:08,294 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:39:14,724 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:39:14,725 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:39:14,725 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-10 04:39:14,725 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:40:38,354 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:40:38,927 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:40:45,272 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:40:45,272 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:40:45,272 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-10 04:40:45,272 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:42:09,239 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:42:09,817 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:42:16,179 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:42:16,179 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:42:16,179 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-10 04:42:16,179 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:43:39,799 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:43:40,385 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:43:46,766 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:494 | 
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:496 | Run finished 7 round(s) in 636.86s
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:498 | 		round 1: 6.2307204246521
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:498 | 		round 2: 5.974423885345459
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:498 | 		round 3: 5.888739395141601
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:498 | 		round 4: 5.81892728805542
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:498 | 		round 5: 5.7987510681152346
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:498 | 		round 6: 5.774398994445801
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:498 | 		round 7: 5.7242742538452145
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:499 | 
debug | INFO flwr 2024-07-10 04:54:43,265 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-10 04:54:45,166 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 18946770124.0, 'memory': 37893540251.0, 'node:__internal_head__': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-10 04:54:45,166 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 04:54:45,166 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 04:54:45,172 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 04:54:45,172 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 04:54:45,172 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 04:54:51,786 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 04:54:51,786 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 04:54:51,786 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:54:51,786 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 04:55:18,399 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-10 04:55:20,331 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 18996740505.0, 'node:__internal_head__': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'memory': 37993481012.0}
debug | INFO flwr 2024-07-10 04:55:20,331 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 04:55:20,331 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 04:55:20,336 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 04:55:20,336 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 04:55:20,336 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 04:55:31,742 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 04:55:31,742 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 04:55:31,742 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:55:31,742 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 04:58:13,754 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-10 04:58:15,655 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'object_store_memory': 19028781465.0, 'memory': 38057562932.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-10 04:58:15,655 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 04:58:15,655 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 04:58:15,661 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 04:58:15,661 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 04:58:15,661 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 04:58:22,029 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 04:58:22,029 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 04:58:22,029 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:58:22,029 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 04:58:22,029 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-10 04:59:45,727 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-10 04:59:45,909 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | ERROR flwr 2024-07-10 04:59:45,987 | app.py:328 | Parent directory model_weights does not exist.
debug | ERROR flwr 2024-07-10 04:59:45,988 | app.py:329 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 113, in fit
    res_fit = self.fit_round(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 249, in fit_round
    ] = self.strategy.aggregate_fit(server_round, results, failures)
  File "/root/src/fedSSL/server.py", line 64, in aggregate_fit
    torch.save(gb_simclr.state_dict(), f"model_weights/model_round_{server_round}.pth")
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/serialization.py", line 627, in save
    with _open_zipfile_writer(f) as opened_zipfile:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/serialization.py", line 501, in _open_zipfile_writer
    return container(name_or_buffer)
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/serialization.py", line 472, in __init__
    super().__init__(torch._C.PyTorchFileWriter(self.name))
RuntimeError: Parent directory model_weights does not exist.

debug | ERROR flwr 2024-07-10 04:59:45,988 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-10 05:01:09,526 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-10 05:01:11,424 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38054105088.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19027052544.0}
debug | INFO flwr 2024-07-10 05:01:11,424 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 05:01:11,424 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 05:01:11,430 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 05:01:11,430 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 05:01:11,430 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 05:01:17,871 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 05:01:17,871 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 05:01:17,871 | server.py:110 | 
debug | INFO flwr 2024-07-10 05:01:17,871 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 05:01:17,871 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-10 05:02:41,247 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-10 05:02:41,431 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 05:02:41,616 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-10 05:02:46,791 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-10 05:02:46,791 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 05:02:46,794 | server.py:494 | 
debug | INFO flwr 2024-07-10 05:02:46,794 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-10 05:02:46,794 | server.py:496 | Run finished 1 round(s) in 88.92s
debug | INFO flwr 2024-07-10 05:02:46,794 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-10 05:02:46,794 | server.py:498 | 		round 1: 5.715798536936442
debug | INFO flwr 2024-07-10 05:02:46,794 | server.py:499 | 
debug | INFO flwr 2024-07-10 05:05:50,385 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-10 05:05:52,279 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38086338971.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19043169484.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-10 05:05:52,279 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 05:05:52,279 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 05:05:52,285 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 05:05:52,285 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 05:05:52,285 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 05:05:58,642 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 05:05:58,643 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 05:05:58,643 | server.py:110 | 
debug | INFO flwr 2024-07-10 05:05:58,643 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 05:05:58,643 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-10 05:07:22,355 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-10 05:07:22,539 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 05:07:22,839 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-10 05:07:28,063 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-10 05:07:28,064 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 05:07:28,067 | server.py:494 | 
debug | INFO flwr 2024-07-10 05:07:28,067 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-10 05:07:28,067 | server.py:496 | Run finished 1 round(s) in 89.42s
debug | INFO flwr 2024-07-10 05:07:28,067 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-10 05:07:28,067 | server.py:498 | 		round 1: 5.715804020563762
debug | INFO flwr 2024-07-10 05:07:28,067 | server.py:499 | 
debug | INFO flwr 2024-07-10 05:10:00,580 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-10 05:10:02,503 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19044202905.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'memory': 38088405812.0}
debug | INFO flwr 2024-07-10 05:10:02,503 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 05:10:02,503 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 05:10:02,508 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 05:10:02,509 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 05:10:02,509 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 05:10:09,984 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 05:10:09,985 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 05:10:09,985 | server.py:110 | 
debug | INFO flwr 2024-07-10 05:10:09,985 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 05:10:09,985 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-10 05:11:33,598 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-10 05:11:33,780 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 05:11:34,089 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-10 05:11:39,324 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-10 05:11:39,324 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 05:11:39,327 | server.py:494 | 
debug | INFO flwr 2024-07-10 05:11:39,327 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-10 05:11:39,327 | server.py:496 | Run finished 1 round(s) in 89.34s
debug | INFO flwr 2024-07-10 05:11:39,327 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-10 05:11:39,327 | server.py:498 | 		round 1: 5.718878746032715
debug | INFO flwr 2024-07-10 05:11:39,327 | server.py:499 | 
debug | INFO flwr 2024-07-10 05:14:48,425 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-10 05:14:50,343 | app.py:228 | Flower VCE: Ray initialized with resources: {'accelerator_type:G': 1.0, 'GPU': 1.0, 'memory': 38070317876.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19035158937.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-10 05:14:50,343 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 05:14:50,343 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 05:14:50,348 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 05:14:50,348 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 05:14:50,348 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 05:15:40,533 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-10 05:15:42,425 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19034711654.0, 'node:__internal_head__': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'memory': 38069423310.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-10 05:15:42,425 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 05:15:42,425 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 05:15:42,431 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 05:15:42,431 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 05:15:42,431 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 05:16:32,517 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-10 05:16:34,422 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19045056921.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'memory': 38090113844.0}
debug | INFO flwr 2024-07-10 05:16:34,422 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 05:16:34,422 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 05:16:34,427 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 05:16:34,427 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 05:16:34,427 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 05:16:40,685 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 05:16:40,685 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 05:16:40,685 | server.py:110 | 
debug | INFO flwr 2024-07-10 05:16:40,685 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 05:16:40,685 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-10 05:18:02,148 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-10 05:18:02,331 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 05:18:02,524 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-10 05:18:07,716 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-10 05:18:07,716 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 05:18:07,719 | server.py:494 | 
debug | INFO flwr 2024-07-10 05:18:07,719 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-10 05:18:07,719 | server.py:496 | Run finished 1 round(s) in 87.03s
debug | INFO flwr 2024-07-10 05:18:07,719 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-10 05:18:07,719 | server.py:498 | 		round 1: 5.741991678873698
debug | INFO flwr 2024-07-10 05:18:07,719 | server.py:499 | 
debug | INFO flwr 2024-07-11 00:47:41,556 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-11 00:47:44,789 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'object_store_memory': 13381232640.0, 'memory': 26762465280.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-11 00:47:44,790 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 00:47:44,790 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 00:47:44,816 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 00:47:44,816 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 00:47:44,816 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 00:47:59,051 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 00:47:59,051 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 00:47:59,051 | server.py:110 | 
debug | INFO flwr 2024-07-11 00:47:59,051 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 00:47:59,051 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 00:51:39,248 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 00:51:41,697 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | ERROR flwr 2024-07-11 00:51:41,840 | app.py:328 | Parent directory ./model_weights does not exist.
debug | ERROR flwr 2024-07-11 00:51:41,841 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 113, in fit
    res_fit = self.fit_round(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 249, in fit_round
    ] = self.strategy.aggregate_fit(server_round, results, failures)
  File "/root/fedSSL/server.py", line 64, in aggregate_fit
    torch.save(gb_simclr.state_dict(), f"./model_weights/model_round_{server_round}.pth")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/serialization.py", line 627, in save
    with _open_zipfile_writer(f) as opened_zipfile:
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/serialization.py", line 501, in _open_zipfile_writer
    return container(name_or_buffer)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/serialization.py", line 472, in __init__
    super().__init__(torch._C.PyTorchFileWriter(self.name))
RuntimeError: Parent directory ./model_weights does not exist.

debug | ERROR flwr 2024-07-11 00:51:41,841 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-11 00:52:39,086 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-11 00:52:42,958 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'memory': 26747078247.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13373539123.0}
debug | INFO flwr 2024-07-11 00:52:42,959 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 00:52:42,959 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 00:52:42,981 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 00:52:42,981 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 00:52:42,982 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 00:52:57,354 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 00:52:57,354 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 00:52:57,354 | server.py:110 | 
debug | INFO flwr 2024-07-11 00:52:57,354 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 00:52:57,354 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 00:56:31,279 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 00:56:32,453 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 00:56:32,806 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 00:56:50,169 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 00:56:50,170 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 00:56:50,193 | server.py:494 | 
debug | INFO flwr 2024-07-11 00:56:50,193 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-11 00:56:50,193 | server.py:496 | Run finished 1 round(s) in 232.82s
debug | INFO flwr 2024-07-11 00:56:50,193 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-11 00:56:50,193 | server.py:498 | 		round 1: 6.2015557289123535
debug | INFO flwr 2024-07-11 00:56:50,193 | server.py:499 | 
debug | INFO flwr 2024-07-11 01:16:07,571 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-11 01:16:11,382 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26736385230.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'object_store_memory': 13368192614.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-11 01:16:11,382 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 01:16:11,382 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 01:16:11,398 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 01:16:11,399 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 01:16:11,399 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 01:16:25,246 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 01:16:25,247 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 01:16:25,247 | server.py:110 | 
debug | INFO flwr 2024-07-11 01:16:25,247 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 01:16:25,247 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 01:20:01,487 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 01:20:03,887 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 01:20:04,309 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 01:20:20,426 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 01:20:20,426 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 01:20:20,453 | server.py:494 | 
debug | INFO flwr 2024-07-11 01:20:20,454 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-11 01:20:20,454 | server.py:496 | Run finished 1 round(s) in 235.18s
debug | INFO flwr 2024-07-11 01:20:20,454 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-11 01:20:20,454 | server.py:498 | 		round 1: 6.184123134613037
debug | INFO flwr 2024-07-11 01:20:20,454 | server.py:499 | 
debug | INFO flwr 2024-07-11 17:29:57,475 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 17:30:00,463 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'object_store_memory': 13365248409.0, 'CPU': 13.0, 'memory': 26730496820.0}
debug | INFO flwr 2024-07-11 17:30:00,463 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 17:30:00,463 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 17:30:00,484 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 17:30:00,484 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 17:30:00,484 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-11 17:30:06,424 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=26127, ip=172.17.0.3, actor_id=9cde74b7392e21f2ebf3203301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7aa00fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 44, in load_partition
    federated_dataset = FederatedDataset(dataset="cifar10", partitioners=IidPartitioner(NUM_CLIENTS))
NameError: name 'IidPartitioner' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=26127, ip=172.17.0.3, actor_id=9cde74b7392e21f2ebf3203301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7aa00fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'IidPartitioner' is not defined

debug | ERROR flwr 2024-07-11 17:30:06,424 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=26127, ip=172.17.0.3, actor_id=9cde74b7392e21f2ebf3203301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7aa00fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 44, in load_partition
    federated_dataset = FederatedDataset(dataset="cifar10", partitioners=IidPartitioner(NUM_CLIENTS))
NameError: name 'IidPartitioner' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=26127, ip=172.17.0.3, actor_id=9cde74b7392e21f2ebf3203301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7aa00fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'IidPartitioner' is not defined
debug | ERROR flwr 2024-07-11 17:30:06,424 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=26127, ip=172.17.0.3, actor_id=9cde74b7392e21f2ebf3203301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7aa00fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 44, in load_partition
    federated_dataset = FederatedDataset(dataset="cifar10", partitioners=IidPartitioner(NUM_CLIENTS))
NameError: name 'IidPartitioner' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=26127, ip=172.17.0.3, actor_id=9cde74b7392e21f2ebf3203301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7aa00fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'IidPartitioner' is not defined
debug | ERROR flwr 2024-07-11 17:30:06,425 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=26127, ip=172.17.0.3, actor_id=9cde74b7392e21f2ebf3203301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7aa00fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 44, in load_partition
    federated_dataset = FederatedDataset(dataset="cifar10", partitioners=IidPartitioner(NUM_CLIENTS))
NameError: name 'IidPartitioner' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=26127, ip=172.17.0.3, actor_id=9cde74b7392e21f2ebf3203301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7aa00fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'IidPartitioner' is not defined

debug | ERROR flwr 2024-07-11 17:30:06,426 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-11 17:35:27,628 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 17:35:31,414 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'memory': 26766444135.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13383222067.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-11 17:35:31,414 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 17:35:31,414 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 17:35:31,433 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 17:35:31,433 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 17:35:31,433 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-11 17:35:43,972 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27818, ip=172.17.0.3, actor_id=5d8d777d8e9a7f50e465d1c301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f19587f6050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 48, in load_partition
    partition = train_data.load_partition(partition_id)
AttributeError: 'Dataset' object has no attribute 'load_partition'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27818, ip=172.17.0.3, actor_id=5d8d777d8e9a7f50e465d1c301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f19587f6050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'Dataset' object has no attribute 'load_partition'

debug | ERROR flwr 2024-07-11 17:35:43,972 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27818, ip=172.17.0.3, actor_id=5d8d777d8e9a7f50e465d1c301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f19587f6050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 48, in load_partition
    partition = train_data.load_partition(partition_id)
AttributeError: 'Dataset' object has no attribute 'load_partition'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27818, ip=172.17.0.3, actor_id=5d8d777d8e9a7f50e465d1c301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f19587f6050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'Dataset' object has no attribute 'load_partition'
debug | ERROR flwr 2024-07-11 17:35:43,972 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=27818, ip=172.17.0.3, actor_id=5d8d777d8e9a7f50e465d1c301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f19587f6050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 48, in load_partition
    partition = train_data.load_partition(partition_id)
AttributeError: 'Dataset' object has no attribute 'load_partition'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27818, ip=172.17.0.3, actor_id=5d8d777d8e9a7f50e465d1c301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f19587f6050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'Dataset' object has no attribute 'load_partition'
debug | ERROR flwr 2024-07-11 17:35:43,973 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27818, ip=172.17.0.3, actor_id=5d8d777d8e9a7f50e465d1c301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f19587f6050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 48, in load_partition
    partition = train_data.load_partition(partition_id)
AttributeError: 'Dataset' object has no attribute 'load_partition'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27818, ip=172.17.0.3, actor_id=5d8d777d8e9a7f50e465d1c301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f19587f6050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'Dataset' object has no attribute 'load_partition'

debug | ERROR flwr 2024-07-11 17:35:43,974 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-11 17:42:33,977 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 17:42:37,732 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'memory': 26740553319.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13370276659.0}
debug | INFO flwr 2024-07-11 17:42:37,733 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 17:42:37,733 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 17:42:37,754 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 17:42:37,754 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 17:42:37,754 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-11 17:42:50,934 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=29422, ip=172.17.0.3, actor_id=a5b73e5f877de6c6895d647a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f051c015f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 50, in load_partition
    partition = train_data.load_partition(partition_id)
AttributeError: 'Dataset' object has no attribute 'load_partition'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=29422, ip=172.17.0.3, actor_id=a5b73e5f877de6c6895d647a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f051c015f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'Dataset' object has no attribute 'load_partition'

debug | ERROR flwr 2024-07-11 17:42:50,934 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=29422, ip=172.17.0.3, actor_id=a5b73e5f877de6c6895d647a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f051c015f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 50, in load_partition
    partition = train_data.load_partition(partition_id)
AttributeError: 'Dataset' object has no attribute 'load_partition'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=29422, ip=172.17.0.3, actor_id=a5b73e5f877de6c6895d647a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f051c015f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'Dataset' object has no attribute 'load_partition'
debug | ERROR flwr 2024-07-11 17:42:50,935 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=29422, ip=172.17.0.3, actor_id=a5b73e5f877de6c6895d647a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f051c015f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 50, in load_partition
    partition = train_data.load_partition(partition_id)
AttributeError: 'Dataset' object has no attribute 'load_partition'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=29422, ip=172.17.0.3, actor_id=a5b73e5f877de6c6895d647a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f051c015f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'Dataset' object has no attribute 'load_partition'
debug | ERROR flwr 2024-07-11 17:42:50,936 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=29422, ip=172.17.0.3, actor_id=a5b73e5f877de6c6895d647a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f051c015f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 50, in load_partition
    partition = train_data.load_partition(partition_id)
AttributeError: 'Dataset' object has no attribute 'load_partition'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=29422, ip=172.17.0.3, actor_id=a5b73e5f877de6c6895d647a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f051c015f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'Dataset' object has no attribute 'load_partition'

debug | ERROR flwr 2024-07-11 17:42:50,936 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-11 17:43:24,347 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 17:43:28,132 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'object_store_memory': 13382150553.0, 'memory': 26764301108.0}
debug | INFO flwr 2024-07-11 17:43:28,132 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 17:43:28,133 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 17:43:28,151 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 17:43:28,151 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 17:43:28,151 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 17:43:43,587 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 17:43:43,588 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-11 17:44:32,400 | app.py:328 | name 'csv' is not defined
debug | ERROR flwr 2024-07-11 17:44:32,401 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/fedSSL/model.py", line 193, in evaluate
    writer = csv.writer(file)
NameError: name 'csv' is not defined

debug | ERROR flwr 2024-07-11 17:44:32,401 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-11 17:53:26,229 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 17:53:29,119 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26671155611.0, 'object_store_memory': 13335577804.0, 'node:__internal_head__': 1.0, 'CPU': 13.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-11 17:53:29,119 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 17:53:29,119 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 17:53:29,140 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 17:53:29,141 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 17:53:29,141 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 17:53:43,112 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 17:53:43,112 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 17:54:28,498 | server.py:97 | initial parameters (loss, other metrics): tensor(1.8363, device='cuda:0'), {'accuracy': 0.372}
debug | INFO flwr 2024-07-11 17:54:28,500 | server.py:110 | 
debug | INFO flwr 2024-07-11 17:54:28,500 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 17:54:28,500 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 17:58:07,651 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 17:58:11,290 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 17:58:59,341 | server.py:129 | fit progress: (1, tensor(1.2786, device='cuda:0'), {'accuracy': 0.5588}, 270.84131529694423)
debug | INFO flwr 2024-07-11 17:58:59,343 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 17:59:18,006 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 17:59:18,007 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 17:59:18,007 | server.py:110 | 
debug | INFO flwr 2024-07-11 17:59:18,007 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-11 17:59:18,007 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 21:05:26,182 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 21:05:29,969 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13324701696.0, 'CPU': 13.0, 'node:__internal_head__': 1.0, 'memory': 26649403392.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-11 21:05:29,970 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 21:05:29,970 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 21:05:29,989 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 21:05:29,989 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 21:05:29,989 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 21:05:43,153 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 21:05:43,153 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 21:06:28,684 | server.py:97 | initial parameters (loss, other metrics): tensor(1.8924, device='cuda:0'), {'accuracy': 0.3358}
debug | INFO flwr 2024-07-11 21:06:28,686 | server.py:110 | 
debug | INFO flwr 2024-07-11 21:06:28,686 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 21:06:28,686 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:07:58,024 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-11 21:07:58,412 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 21:08:50,539 | server.py:129 | fit progress: (1, tensor(1.3070, device='cuda:0'), {'accuracy': 0.5438}, 141.85298943100497)
debug | INFO flwr 2024-07-11 21:08:50,541 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:09:39,391 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 21:09:43,250 | app.py:228 | Flower VCE: Ray initialized with resources: {'GPU': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13135042560.0, 'memory': 26270085120.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-11 21:09:43,250 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 21:09:43,250 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 21:09:43,271 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 21:09:43,271 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 21:09:43,271 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 21:09:56,696 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 21:09:56,696 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-11 21:10:48,149 | app.py:328 | invalid index of a 0-dim tensor. Use `tensor.item()` in Python or `tensor.item<T>()` in C++ to convert a 0-dim tensor to a number
debug | ERROR flwr 2024-07-11 21:10:48,150 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/fedSSL/model.py", line 191, in evaluate
    data = ["test", (useResnet18), NUM_CLIENTS, self.round, loss[0], accuracy, -1]
IndexError: invalid index of a 0-dim tensor. Use `tensor.item()` in Python or `tensor.item<T>()` in C++ to convert a 0-dim tensor to a number

debug | ERROR flwr 2024-07-11 21:10:48,150 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-11 21:11:08,565 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 21:11:11,608 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 13311886540.0, 'CPU': 13.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'memory': 26623773083.0}
debug | INFO flwr 2024-07-11 21:11:11,608 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 21:11:11,608 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 21:11:11,626 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 21:11:11,626 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 21:11:11,626 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 21:11:25,766 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 21:11:25,766 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 21:12:20,827 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 21:12:24,639 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'memory': 26606115227.0, 'node:__internal_head__': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'object_store_memory': 13303057612.0}
debug | INFO flwr 2024-07-11 21:12:24,639 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 21:12:24,639 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 21:12:24,660 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 21:12:24,661 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 21:12:24,661 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 21:12:39,032 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 21:12:39,032 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 21:13:36,609 | server.py:97 | initial parameters (loss, other metrics): tensor(1.8979, device='cuda:0'), {'accuracy': 0.3324}
debug | INFO flwr 2024-07-11 21:13:36,681 | server.py:110 | 
debug | INFO flwr 2024-07-11 21:13:36,682 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 21:13:36,682 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:15:06,631 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-11 21:15:07,593 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 21:15:56,306 | server.py:129 | fit progress: (1, tensor(1.3002, device='cuda:0'), {'accuracy': 0.538}, 139.6246904679574)
debug | INFO flwr 2024-07-11 21:15:56,308 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:16:03,061 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-11 21:16:03,061 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 21:16:03,062 | server.py:110 | 
debug | INFO flwr 2024-07-11 21:16:03,062 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-11 21:16:03,062 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:17:30,222 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-11 21:18:26,379 | server.py:129 | fit progress: (2, tensor(1.3329, device='cuda:0'), {'accuracy': 0.57}, 289.6977351740934)
debug | INFO flwr 2024-07-11 21:18:26,381 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:18:32,807 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-11 21:18:32,807 | server.py:110 | 
debug | INFO flwr 2024-07-11 21:18:32,807 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-11 21:18:32,807 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:20:00,465 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-11 21:20:51,789 | server.py:129 | fit progress: (3, tensor(1.3048, device='cuda:0'), {'accuracy': 0.5772}, 435.10772358672693)
debug | INFO flwr 2024-07-11 21:20:51,791 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:20:58,907 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-11 21:20:58,908 | server.py:110 | 
debug | INFO flwr 2024-07-11 21:20:58,908 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-11 21:20:58,908 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:22:26,014 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-11 21:23:21,546 | server.py:129 | fit progress: (4, tensor(1.2969, device='cuda:0'), {'accuracy': 0.5928}, 584.8643993418664)
debug | INFO flwr 2024-07-11 21:23:21,548 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:23:27,937 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-11 21:23:27,937 | server.py:110 | 
debug | INFO flwr 2024-07-11 21:23:27,937 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-11 21:23:27,938 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:24:54,811 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-11 21:25:48,895 | server.py:129 | fit progress: (5, tensor(1.1819, device='cuda:0'), {'accuracy': 0.616}, 732.2133942670189)
debug | INFO flwr 2024-07-11 21:25:48,897 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:25:56,026 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-11 21:25:56,026 | server.py:110 | 
debug | INFO flwr 2024-07-11 21:25:56,027 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-11 21:25:56,027 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:27:23,624 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-11 21:28:14,288 | server.py:129 | fit progress: (6, tensor(1.1059, device='cuda:0'), {'accuracy': 0.6252}, 877.6068556788377)
debug | INFO flwr 2024-07-11 21:28:14,290 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:28:20,568 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-11 21:28:20,568 | server.py:110 | 
debug | INFO flwr 2024-07-11 21:28:20,569 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-11 21:28:20,569 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:29:47,482 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-11 21:30:42,390 | server.py:129 | fit progress: (7, tensor(1.1542, device='cuda:0'), {'accuracy': 0.6098}, 1025.7085171537474)
debug | INFO flwr 2024-07-11 21:30:42,392 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:30:49,017 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-11 21:30:49,018 | server.py:110 | 
debug | INFO flwr 2024-07-11 21:30:49,018 | server.py:111 | [ROUND 8]
debug | INFO flwr 2024-07-11 21:30:49,018 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:32:16,019 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-11 21:33:08,686 | server.py:129 | fit progress: (8, tensor(1.0785, device='cuda:0'), {'accuracy': 0.6294}, 1172.004399668891)
debug | INFO flwr 2024-07-11 21:33:08,688 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:33:15,752 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-11 21:33:15,763 | server.py:494 | 
debug | INFO flwr 2024-07-11 21:33:15,763 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-11 21:33:15,764 | server.py:496 | Run finished 8 round(s) in 1179.07s
debug | INFO flwr 2024-07-11 21:33:15,764 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-11 21:33:15,765 | server.py:498 | 		round 1: 6.288799047470093
debug | INFO flwr 2024-07-11 21:33:15,765 | server.py:498 | 		round 2: 6.03227162361145
debug | INFO flwr 2024-07-11 21:33:15,765 | server.py:498 | 		round 3: 5.91101598739624
debug | INFO flwr 2024-07-11 21:33:15,765 | server.py:498 | 		round 4: 5.890433073043823
debug | INFO flwr 2024-07-11 21:33:15,765 | server.py:498 | 		round 5: 5.866361856460571
debug | INFO flwr 2024-07-11 21:33:15,765 | server.py:498 | 		round 6: 5.769541263580322
debug | INFO flwr 2024-07-11 21:33:15,765 | server.py:498 | 		round 7: 5.81545877456665
debug | INFO flwr 2024-07-11 21:33:15,765 | server.py:498 | 		round 8: 5.763072490692139
debug | INFO flwr 2024-07-11 21:33:15,765 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-11 21:33:15,765 | server.py:498 | 		round 0: 1.8979328870773315
debug | INFO flwr 2024-07-11 21:33:15,765 | server.py:498 | 		round 1: 1.300188422203064
debug | INFO flwr 2024-07-11 21:33:15,765 | server.py:498 | 		round 2: 1.3328708410263062
debug | INFO flwr 2024-07-11 21:33:15,765 | server.py:498 | 		round 3: 1.304766058921814
debug | INFO flwr 2024-07-11 21:33:15,766 | server.py:498 | 		round 4: 1.2968645095825195
debug | INFO flwr 2024-07-11 21:33:15,766 | server.py:498 | 		round 5: 1.1819385290145874
debug | INFO flwr 2024-07-11 21:33:15,766 | server.py:498 | 		round 6: 1.1059240102767944
debug | INFO flwr 2024-07-11 21:33:15,766 | server.py:498 | 		round 7: 1.1542149782180786
debug | INFO flwr 2024-07-11 21:33:15,766 | server.py:498 | 		round 8: 1.0785212516784668
debug | INFO flwr 2024-07-11 21:33:15,766 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-11 21:33:15,766 | server.py:498 | 	{'accuracy': [(0, 0.3324),
debug | INFO flwr 2024-07-11 21:33:15,766 | server.py:498 | 	              (1, 0.538),
debug | INFO flwr 2024-07-11 21:33:15,766 | server.py:498 | 	              (2, 0.57),
debug | INFO flwr 2024-07-11 21:33:15,766 | server.py:498 | 	              (3, 0.5772),
debug | INFO flwr 2024-07-11 21:33:15,766 | server.py:498 | 	              (4, 0.5928),
debug | INFO flwr 2024-07-11 21:33:15,766 | server.py:498 | 	              (5, 0.616),
debug | INFO flwr 2024-07-11 21:33:15,767 | server.py:498 | 	              (6, 0.6252),
debug | INFO flwr 2024-07-11 21:33:15,767 | server.py:498 | 	              (7, 0.6098),
debug | INFO flwr 2024-07-11 21:33:15,767 | server.py:498 | 	              (8, 0.6294)]}
debug | INFO flwr 2024-07-11 21:33:15,767 | server.py:499 | 
debug | INFO flwr 2024-07-11 21:33:40,879 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 21:33:44,660 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'node:__internal_head__': 1.0, 'memory': 26594090190.0, 'object_store_memory': 13297045094.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-11 21:33:44,660 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 21:33:44,660 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 21:33:44,679 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 21:33:44,679 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 21:33:44,679 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 21:33:57,806 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 21:33:57,806 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 21:34:51,325 | server.py:97 | initial parameters (loss, other metrics): tensor(1.8569, device='cuda:0'), {'accuracy': 0.3724}
debug | INFO flwr 2024-07-11 21:34:51,375 | server.py:110 | 
debug | INFO flwr 2024-07-11 21:34:51,375 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 21:34:51,375 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:36:18,151 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-11 21:36:18,588 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 21:37:06,717 | server.py:129 | fit progress: (1, tensor(1.2957, device='cuda:0'), {'accuracy': 0.5574}, 135.34199137799442)
debug | INFO flwr 2024-07-11 21:37:06,719 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:37:13,302 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-11 21:37:13,302 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 21:37:13,302 | server.py:110 | 
debug | INFO flwr 2024-07-11 21:37:13,302 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-11 21:37:13,302 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-11 21:38:10,635 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 21:38:14,495 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'memory': 26252665652.0, 'object_store_memory': 13126332825.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0}
debug | INFO flwr 2024-07-11 21:38:14,495 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 21:38:14,495 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 21:38:14,517 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 21:38:14,518 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 21:38:14,518 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 21:38:27,205 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 21:38:27,206 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 21:39:44,333 | server.py:97 | initial parameters (loss, other metrics): tensor(1.6736, device='cuda:0'), {'accuracy': 0.44}
debug | INFO flwr 2024-07-11 21:39:44,403 | server.py:110 | 
debug | INFO flwr 2024-07-11 21:39:44,404 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 21:39:44,404 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 21:43:21,957 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 21:43:25,531 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 21:44:42,656 | server.py:129 | fit progress: (1, tensor(1.4048, device='cuda:0'), {'accuracy': 0.5776}, 298.25205137301236)
debug | INFO flwr 2024-07-11 21:44:42,658 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 21:44:59,236 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 21:44:59,236 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 21:44:59,236 | server.py:110 | 
debug | INFO flwr 2024-07-11 21:44:59,236 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-11 21:44:59,237 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 21:48:35,821 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 21:49:55,637 | server.py:129 | fit progress: (2, tensor(1.2835, device='cuda:0'), {'accuracy': 0.6152}, 611.2332249102183)
debug | INFO flwr 2024-07-11 21:49:55,639 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 21:50:12,011 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 21:50:12,012 | server.py:110 | 
debug | INFO flwr 2024-07-11 21:50:12,012 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-11 21:50:12,012 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 21:53:45,366 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 21:55:04,245 | server.py:129 | fit progress: (3, tensor(1.2244, device='cuda:0'), {'accuracy': 0.6384}, 919.8413334162906)
debug | INFO flwr 2024-07-11 21:55:04,247 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 21:55:20,701 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 21:55:20,702 | server.py:110 | 
debug | INFO flwr 2024-07-11 21:55:20,702 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-11 21:55:20,702 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 21:58:55,907 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 22:00:13,108 | server.py:129 | fit progress: (4, tensor(1.1759, device='cuda:0'), {'accuracy': 0.6506}, 1228.7043895223178)
debug | INFO flwr 2024-07-11 22:00:13,110 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 22:00:30,083 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 22:00:30,083 | server.py:110 | 
debug | INFO flwr 2024-07-11 22:00:30,083 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-11 22:00:30,084 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 22:04:04,678 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 22:05:23,798 | server.py:129 | fit progress: (5, tensor(1.1503, device='cuda:0'), {'accuracy': 0.657}, 1539.3943729940802)
debug | INFO flwr 2024-07-11 22:05:23,800 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 22:05:39,632 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 22:05:39,632 | server.py:110 | 
debug | INFO flwr 2024-07-11 22:05:39,632 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-11 22:05:39,632 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 22:09:13,049 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 22:10:31,212 | server.py:129 | fit progress: (6, tensor(1.1490, device='cuda:0'), {'accuracy': 0.6644}, 1846.8081709933467)
debug | INFO flwr 2024-07-11 22:10:31,214 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 22:10:48,411 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 22:10:48,411 | server.py:110 | 
debug | INFO flwr 2024-07-11 22:10:48,411 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-11 22:10:48,411 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 22:14:23,468 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 22:15:41,402 | server.py:129 | fit progress: (7, tensor(1.1807, device='cuda:0'), {'accuracy': 0.6616}, 2156.9987047011964)
debug | INFO flwr 2024-07-11 22:15:41,404 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 22:15:58,200 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 22:15:58,200 | server.py:110 | 
debug | INFO flwr 2024-07-11 22:15:58,200 | server.py:111 | [ROUND 8]
debug | INFO flwr 2024-07-11 22:15:58,201 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 22:19:33,665 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 22:20:54,800 | server.py:129 | fit progress: (8, tensor(1.2019, device='cuda:0'), {'accuracy': 0.6614}, 2470.3961356622167)
debug | INFO flwr 2024-07-11 22:20:54,802 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 22:21:12,327 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 22:21:12,358 | server.py:494 | 
debug | INFO flwr 2024-07-11 22:21:12,358 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-11 22:21:12,358 | server.py:496 | Run finished 8 round(s) in 2487.92s
debug | INFO flwr 2024-07-11 22:21:12,361 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-11 22:21:12,362 | server.py:498 | 		round 1: 6.203775691986084
debug | INFO flwr 2024-07-11 22:21:12,362 | server.py:498 | 		round 2: 5.9640013694763185
debug | INFO flwr 2024-07-11 22:21:12,362 | server.py:498 | 		round 3: 5.8727113723754885
debug | INFO flwr 2024-07-11 22:21:12,362 | server.py:498 | 		round 4: 5.811402130126953
debug | INFO flwr 2024-07-11 22:21:12,362 | server.py:498 | 		round 5: 5.77493371963501
debug | INFO flwr 2024-07-11 22:21:12,362 | server.py:498 | 		round 6: 5.781373119354248
debug | INFO flwr 2024-07-11 22:21:12,363 | server.py:498 | 		round 7: 5.734033393859863
debug | INFO flwr 2024-07-11 22:21:12,363 | server.py:498 | 		round 8: 5.720357227325439
debug | INFO flwr 2024-07-11 22:21:12,363 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-11 22:21:12,363 | server.py:498 | 		round 0: 1.6735944747924805
debug | INFO flwr 2024-07-11 22:21:12,363 | server.py:498 | 		round 1: 1.4047712087631226
debug | INFO flwr 2024-07-11 22:21:12,363 | server.py:498 | 		round 2: 1.2834749221801758
debug | INFO flwr 2024-07-11 22:21:12,363 | server.py:498 | 		round 3: 1.2243884801864624
debug | INFO flwr 2024-07-11 22:21:12,364 | server.py:498 | 		round 4: 1.175907015800476
debug | INFO flwr 2024-07-11 22:21:12,364 | server.py:498 | 		round 5: 1.1502708196640015
debug | INFO flwr 2024-07-11 22:21:12,364 | server.py:498 | 		round 6: 1.1490343809127808
debug | INFO flwr 2024-07-11 22:21:12,364 | server.py:498 | 		round 7: 1.180698275566101
debug | INFO flwr 2024-07-11 22:21:12,364 | server.py:498 | 		round 8: 1.2019355297088623
debug | INFO flwr 2024-07-11 22:21:12,364 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-11 22:21:12,364 | server.py:498 | 	{'accuracy': [(0, 0.44),
debug | INFO flwr 2024-07-11 22:21:12,364 | server.py:498 | 	              (1, 0.5776),
debug | INFO flwr 2024-07-11 22:21:12,365 | server.py:498 | 	              (2, 0.6152),
debug | INFO flwr 2024-07-11 22:21:12,365 | server.py:498 | 	              (3, 0.6384),
debug | INFO flwr 2024-07-11 22:21:12,365 | server.py:498 | 	              (4, 0.6506),
debug | INFO flwr 2024-07-11 22:21:12,365 | server.py:498 | 	              (5, 0.657),
debug | INFO flwr 2024-07-11 22:21:12,365 | server.py:498 | 	              (6, 0.6644),
debug | INFO flwr 2024-07-11 22:21:12,365 | server.py:498 | 	              (7, 0.6616),
debug | INFO flwr 2024-07-11 22:21:12,365 | server.py:498 | 	              (8, 0.6614)]}
debug | INFO flwr 2024-07-11 22:21:12,366 | server.py:499 | 
debug | INFO flwr 2024-07-11 22:35:24,443 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 22:35:28,262 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'memory': 26572006196.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13286003097.0}
debug | INFO flwr 2024-07-11 22:35:28,262 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 22:35:28,262 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 22:35:28,277 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 22:35:28,277 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 22:35:28,277 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 22:35:41,072 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 22:35:41,072 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 22:35:41,253 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-11 22:35:41,254 | server.py:110 | 
debug | INFO flwr 2024-07-11 22:35:41,254 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 22:35:41,254 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 22:39:17,873 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 22:39:21,057 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 22:39:21,616 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 220.3629025053233)
debug | INFO flwr 2024-07-11 22:39:21,617 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 22:39:38,613 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 22:39:38,613 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 22:39:38,614 | server.py:110 | 
debug | INFO flwr 2024-07-11 22:39:38,614 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-11 22:39:38,614 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 22:43:13,205 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 22:43:16,509 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 455.2554793963209)
debug | INFO flwr 2024-07-11 22:43:16,509 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 22:43:32,510 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 22:43:32,511 | server.py:110 | 
debug | INFO flwr 2024-07-11 22:43:32,511 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-11 22:43:32,511 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 22:45:08,857 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 22:45:12,704 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 13132610764.0, 'memory': 26265221531.0, 'CPU': 13.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-11 22:45:12,704 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 22:45:12,705 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 22:45:12,723 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 22:45:12,723 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 22:45:12,723 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 22:45:26,722 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 22:45:26,722 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 22:45:26,775 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-11 22:45:26,775 | server.py:110 | 
debug | INFO flwr 2024-07-11 22:45:26,775 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 22:45:26,775 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 22:48:53,845 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 22:48:54,349 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 22:48:54,631 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 207.85598556976765)
debug | INFO flwr 2024-07-11 22:48:54,631 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 22:49:07,941 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 22:49:07,942 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 22:49:07,942 | server.py:110 | 
debug | INFO flwr 2024-07-11 22:49:07,942 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-11 22:49:07,942 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 22:52:33,929 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 22:52:34,716 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 427.94118282571435)
debug | INFO flwr 2024-07-11 22:52:34,717 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 22:52:48,177 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 22:52:48,177 | server.py:110 | 
debug | INFO flwr 2024-07-11 22:52:48,177 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-11 22:52:48,177 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 22:57:37,707 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 22:57:40,609 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13302252748.0, 'memory': 26604505499.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'CPU': 13.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-11 22:57:40,609 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 22:57:40,609 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 22:57:40,630 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 22:57:40,630 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 22:57:40,630 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-11 22:57:46,601 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=103710, ip=172.17.0.3, actor_id=f0c66c59ef3146a225ba214701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f1b940c9ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 48, in load_partition
    print("TIMES CALLED:", times)
NameError: name 'times' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=103710, ip=172.17.0.3, actor_id=f0c66c59ef3146a225ba214701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f1b940c9ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'times' is not defined

debug | ERROR flwr 2024-07-11 22:57:46,601 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=103710, ip=172.17.0.3, actor_id=f0c66c59ef3146a225ba214701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f1b940c9ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 48, in load_partition
    print("TIMES CALLED:", times)
NameError: name 'times' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=103710, ip=172.17.0.3, actor_id=f0c66c59ef3146a225ba214701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f1b940c9ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'times' is not defined
debug | ERROR flwr 2024-07-11 22:57:46,602 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=103710, ip=172.17.0.3, actor_id=f0c66c59ef3146a225ba214701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f1b940c9ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 48, in load_partition
    print("TIMES CALLED:", times)
NameError: name 'times' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=103710, ip=172.17.0.3, actor_id=f0c66c59ef3146a225ba214701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f1b940c9ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'times' is not defined
debug | ERROR flwr 2024-07-11 22:57:46,603 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=103710, ip=172.17.0.3, actor_id=f0c66c59ef3146a225ba214701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f1b940c9ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 48, in load_partition
    print("TIMES CALLED:", times)
NameError: name 'times' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=103710, ip=172.17.0.3, actor_id=f0c66c59ef3146a225ba214701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f1b940c9ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'times' is not defined

debug | ERROR flwr 2024-07-11 22:57:46,603 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-11 22:58:18,889 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 22:58:22,721 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'CPU': 13.0, 'object_store_memory': 13302391603.0, 'memory': 26604783207.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-11 22:58:22,722 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 22:58:22,722 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 22:58:22,744 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 22:58:22,745 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 22:58:22,745 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-11 22:58:28,569 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=105038, ip=172.17.0.3, actor_id=04a9fb6aae9e221bdb65519701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5c080fdf60>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    times += 1
UnboundLocalError: local variable 'times' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=105038, ip=172.17.0.3, actor_id=04a9fb6aae9e221bdb65519701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5c080fdf60>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'times' referenced before assignment

debug | ERROR flwr 2024-07-11 22:58:28,569 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=105038, ip=172.17.0.3, actor_id=04a9fb6aae9e221bdb65519701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5c080fdf60>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    times += 1
UnboundLocalError: local variable 'times' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=105038, ip=172.17.0.3, actor_id=04a9fb6aae9e221bdb65519701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5c080fdf60>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'times' referenced before assignment
debug | ERROR flwr 2024-07-11 22:58:28,569 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=105038, ip=172.17.0.3, actor_id=04a9fb6aae9e221bdb65519701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5c080fdf60>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    times += 1
UnboundLocalError: local variable 'times' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=105038, ip=172.17.0.3, actor_id=04a9fb6aae9e221bdb65519701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5c080fdf60>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'times' referenced before assignment
debug | ERROR flwr 2024-07-11 22:58:28,571 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=105038, ip=172.17.0.3, actor_id=04a9fb6aae9e221bdb65519701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5c080fdf60>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    times += 1
UnboundLocalError: local variable 'times' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=105038, ip=172.17.0.3, actor_id=04a9fb6aae9e221bdb65519701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5c080fdf60>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'times' referenced before assignment

debug | ERROR flwr 2024-07-11 22:58:28,571 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-11 22:58:50,676 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 22:58:54,470 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'object_store_memory': 13301354496.0, 'memory': 26602708992.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-11 22:58:54,470 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 22:58:54,470 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 22:58:54,487 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 22:58:54,487 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 22:58:54,487 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 22:59:07,556 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 22:59:07,556 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 22:59:07,672 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-11 22:59:07,673 | server.py:110 | 
debug | INFO flwr 2024-07-11 22:59:07,673 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 22:59:07,673 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:02:42,918 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 23:02:43,868 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 23:02:44,393 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 216.7206986658275)
debug | INFO flwr 2024-07-11 23:02:44,394 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:03:00,287 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 23:03:00,287 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 23:03:00,287 | server.py:110 | 
debug | INFO flwr 2024-07-11 23:03:00,287 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-11 23:03:00,288 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:05:31,236 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 23:05:35,040 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'memory': 26603011278.0, 'node:__internal_head__': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'object_store_memory': 13301505638.0}
debug | INFO flwr 2024-07-11 23:05:35,040 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 23:05:35,040 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 23:05:35,061 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 23:05:35,061 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 23:05:35,061 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-11 23:05:47,126 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=113286, ip=172.17.0.3, actor_id=93c7c6851e1bae9d0bcb6ca301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f79240fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 68, in load_partition
    trainloader = DataLoader(partition["train"], batch_size=BATCH_SIZE, shuffle = True, seed=42)
TypeError: DataLoader.__init__() got an unexpected keyword argument 'seed'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=113286, ip=172.17.0.3, actor_id=93c7c6851e1bae9d0bcb6ca301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f79240fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: DataLoader.__init__() got an unexpected keyword argument 'seed'

debug | ERROR flwr 2024-07-11 23:05:47,127 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=113286, ip=172.17.0.3, actor_id=93c7c6851e1bae9d0bcb6ca301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f79240fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 68, in load_partition
    trainloader = DataLoader(partition["train"], batch_size=BATCH_SIZE, shuffle = True, seed=42)
TypeError: DataLoader.__init__() got an unexpected keyword argument 'seed'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=113286, ip=172.17.0.3, actor_id=93c7c6851e1bae9d0bcb6ca301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f79240fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: DataLoader.__init__() got an unexpected keyword argument 'seed'
debug | ERROR flwr 2024-07-11 23:05:47,127 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=113286, ip=172.17.0.3, actor_id=93c7c6851e1bae9d0bcb6ca301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f79240fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 68, in load_partition
    trainloader = DataLoader(partition["train"], batch_size=BATCH_SIZE, shuffle = True, seed=42)
TypeError: DataLoader.__init__() got an unexpected keyword argument 'seed'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=113286, ip=172.17.0.3, actor_id=93c7c6851e1bae9d0bcb6ca301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f79240fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: DataLoader.__init__() got an unexpected keyword argument 'seed'
debug | ERROR flwr 2024-07-11 23:05:47,128 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=113286, ip=172.17.0.3, actor_id=93c7c6851e1bae9d0bcb6ca301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f79240fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 68, in load_partition
    trainloader = DataLoader(partition["train"], batch_size=BATCH_SIZE, shuffle = True, seed=42)
TypeError: DataLoader.__init__() got an unexpected keyword argument 'seed'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=113286, ip=172.17.0.3, actor_id=93c7c6851e1bae9d0bcb6ca301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f79240fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: DataLoader.__init__() got an unexpected keyword argument 'seed'

debug | ERROR flwr 2024-07-11 23:05:47,129 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-11 23:07:18,976 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 23:07:22,757 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 13300905984.0, 'memory': 26601811968.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-11 23:07:22,757 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 23:07:22,757 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 23:07:22,777 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 23:07:22,778 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 23:07:22,778 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 23:07:35,545 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 23:07:35,545 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 23:07:35,667 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-11 23:07:35,668 | server.py:110 | 
debug | INFO flwr 2024-07-11 23:07:35,668 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 23:07:35,668 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:11:18,206 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 23:11:19,143 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 23:11:19,673 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 224.0052220672369)
debug | INFO flwr 2024-07-11 23:11:19,673 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:11:36,020 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 23:11:36,021 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 23:11:36,021 | server.py:110 | 
debug | INFO flwr 2024-07-11 23:11:36,021 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-11 23:11:36,021 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:15:17,141 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 23:15:19,467 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 463.7992393919267)
debug | INFO flwr 2024-07-11 23:15:19,467 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:15:36,003 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 23:15:36,004 | server.py:110 | 
debug | INFO flwr 2024-07-11 23:15:36,004 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-11 23:15:36,004 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:20:07,297 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 23:20:11,060 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13299100876.0, 'memory': 26598201755.0, 'CPU': 13.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-11 23:20:11,060 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 23:20:11,061 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 27, 'num_gpus': 1.0}
debug | WARNING flwr 2024-07-11 23:20:11,061 | ray_actor.py:124 | The ActorPool is empty. The system (CPUs=13.0, GPUs=1.0) does not meet the criteria to host at least one client with resources: {'num_cpus': 27, 'num_gpus': 1.0}. Lowering the `client_resources` could help.
debug | INFO flwr 2024-07-11 23:20:58,432 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 23:21:02,257 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13298821939.0, 'node:__internal_head__': 1.0, 'memory': 26597643879.0, 'CPU': 13.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-11 23:21:02,258 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 23:21:02,258 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 23:21:02,278 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 23:21:02,278 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 23:21:02,279 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 23:21:15,558 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 23:21:15,558 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 23:21:15,667 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-11 23:21:15,667 | server.py:110 | 
debug | INFO flwr 2024-07-11 23:21:15,667 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 23:21:15,668 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:23:52,970 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-11 23:23:56,762 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26278735872.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13139367936.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-11 23:23:56,763 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 23:23:56,763 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 23:23:56,782 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 23:23:56,782 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 23:23:56,782 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 23:24:10,072 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 23:24:10,072 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 23:24:10,173 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-11 23:24:10,174 | server.py:110 | 
debug | INFO flwr 2024-07-11 23:24:10,174 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 23:24:10,174 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:28:30,856 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 23:28:31,842 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 23:28:32,352 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 262.17837486602366)
debug | INFO flwr 2024-07-11 23:28:32,352 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:28:51,795 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 23:28:51,795 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 23:28:51,795 | server.py:110 | 
debug | INFO flwr 2024-07-11 23:28:51,795 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-11 23:28:51,796 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:32:55,019 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-11 23:32:57,921 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13295056896.0, 'node:__internal_head__': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'memory': 26590113792.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-11 23:32:57,922 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 23:32:57,922 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 23:32:57,936 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 23:32:57,937 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 23:32:57,937 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 23:33:10,713 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 23:33:10,714 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 23:33:10,821 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-11 23:33:10,821 | server.py:110 | 
debug | INFO flwr 2024-07-11 23:33:10,822 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 23:33:10,822 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:36:17,448 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-11 23:36:21,237 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'object_store_memory': 13273511116.0, 'memory': 26547022235.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-11 23:36:21,238 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 23:36:21,238 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 23:36:21,258 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 23:36:21,258 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 23:36:21,258 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 23:36:34,106 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 23:36:34,106 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 23:36:34,225 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-11 23:36:34,225 | server.py:110 | 
debug | INFO flwr 2024-07-11 23:36:34,225 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 23:36:34,226 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:41:00,715 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 23:41:01,638 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 23:41:02,149 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 267.9239424788393)
debug | INFO flwr 2024-07-11 23:41:02,150 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:41:22,673 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 23:41:22,674 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 23:41:22,674 | server.py:110 | 
debug | INFO flwr 2024-07-11 23:41:22,674 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-11 23:41:22,674 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:45:49,008 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 23:45:50,559 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 556.3339336710051)
debug | INFO flwr 2024-07-11 23:45:50,560 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:46:10,263 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 23:46:10,263 | server.py:110 | 
debug | INFO flwr 2024-07-11 23:46:10,263 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-11 23:46:10,264 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:50:41,072 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 23:50:43,350 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 849.1246704799123)
debug | INFO flwr 2024-07-11 23:50:43,350 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:51:01,552 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-11 23:51:01,552 | server.py:110 | 
debug | INFO flwr 2024-07-11 23:51:01,552 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-11 23:51:01,553 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 23:56:52,340 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-11 23:56:55,958 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13250084044.0, 'memory': 26500168091.0, 'CPU': 8.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-11 23:56:55,959 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 23:56:55,959 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1.0}
debug | WARNING flwr 2024-07-11 23:56:55,960 | ray_actor.py:124 | The ActorPool is empty. The system (CPUs=8.0, GPUs=1.0) does not meet the criteria to host at least one client with resources: {'num_cpus': 12, 'num_gpus': 1.0}. Lowering the `client_resources` could help.
debug | INFO flwr 2024-07-11 23:57:26,795 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-11 23:57:30,387 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26498813952.0, 'node:__internal_head__': 1.0, 'CPU': 8.0, 'object_store_memory': 13249406976.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0}
debug | INFO flwr 2024-07-11 23:57:30,387 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 23:57:30,387 | app.py:242 | No `client_resources` specified. Using minimal resources for clients.
debug | INFO flwr 2024-07-11 23:57:30,387 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 0.0}
debug | INFO flwr 2024-07-11 23:57:30,411 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 8 actors
debug | INFO flwr 2024-07-11 23:57:30,412 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 23:57:30,412 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 23:57:43,136 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 23:57:43,136 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 23:57:43,257 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-11 23:57:43,257 | server.py:110 | 
debug | INFO flwr 2024-07-11 23:57:43,257 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 23:57:43,257 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-12 00:00:56,299 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-12 00:00:59,264 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26040306894.0, 'CPU': 13.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13020153446.0}
debug | INFO flwr 2024-07-12 00:00:59,264 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-12 00:00:59,264 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 8, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-12 00:00:59,279 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-12 00:00:59,280 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-12 00:00:59,280 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-12 00:01:12,926 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-12 00:01:12,926 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-12 00:01:13,040 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-12 00:01:13,041 | server.py:110 | 
debug | INFO flwr 2024-07-12 00:01:13,041 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-12 00:01:13,041 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-12 00:05:18,704 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-12 00:05:19,729 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-12 00:05:20,245 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 247.2041106969118)
debug | INFO flwr 2024-07-12 00:05:20,245 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-12 00:05:37,847 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-12 00:05:37,847 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-12 00:05:37,847 | server.py:110 | 
debug | INFO flwr 2024-07-12 00:05:37,847 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-12 00:05:37,848 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-12 00:09:45,796 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-12 00:09:47,233 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 514.1920348359272)
debug | INFO flwr 2024-07-12 00:09:47,233 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-12 00:10:04,605 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-12 00:10:04,606 | server.py:110 | 
debug | INFO flwr 2024-07-12 00:10:04,606 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-12 00:10:04,606 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-12 00:14:17,586 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-12 00:14:19,011 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 785.9707012390718)
debug | INFO flwr 2024-07-12 00:14:19,012 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-12 00:14:35,748 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-12 00:14:35,748 | server.py:110 | 
debug | INFO flwr 2024-07-12 00:14:35,748 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-12 00:14:35,748 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-12 00:18:42,843 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-12 00:18:44,280 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 1051.2395177772269)
debug | INFO flwr 2024-07-12 00:18:44,281 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-12 00:19:00,842 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-12 00:19:00,843 | server.py:110 | 
debug | INFO flwr 2024-07-12 00:19:00,843 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-12 00:19:00,843 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-12 00:23:09,959 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-12 00:23:11,407 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 1318.3662572260946)
debug | INFO flwr 2024-07-12 00:23:11,407 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-12 00:23:27,593 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-12 00:23:27,593 | server.py:110 | 
debug | INFO flwr 2024-07-12 00:23:27,593 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-12 00:23:27,594 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-12 00:27:34,107 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-12 00:27:35,716 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 1582.6753068119287)
debug | INFO flwr 2024-07-12 00:27:35,716 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-12 00:27:53,570 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-12 00:27:53,570 | server.py:110 | 
debug | INFO flwr 2024-07-12 00:27:53,570 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-12 00:27:53,571 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-12 00:29:07,948 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-12 00:29:11,770 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 22641374823.0, 'object_store_memory': 11320687411.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'CPU': 13.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-12 00:29:11,772 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-12 00:29:11,772 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 8, 'num_gpus': 2.0}
debug | WARNING flwr 2024-07-12 00:29:11,774 | ray_actor.py:124 | The ActorPool is empty. The system (CPUs=13.0, GPUs=1.0) does not meet the criteria to host at least one client with resources: {'num_cpus': 8, 'num_gpus': 2.0}. Lowering the `client_resources` could help.
debug | INFO flwr 2024-07-12 00:32:01,763 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-12 00:32:03,061 | server.py:129 | fit progress: (7, -1, {'accuracy': -1}, 1850.0205945912749)
debug | INFO flwr 2024-07-12 00:32:03,062 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-12 00:32:22,184 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-12 00:32:22,217 | server.py:494 | 
debug | INFO flwr 2024-07-12 00:32:22,217 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-12 00:32:22,217 | server.py:496 | Run finished 7 round(s) in 1869.14s
debug | INFO flwr 2024-07-12 00:32:22,217 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-12 00:32:22,218 | server.py:498 | 		round 1: 6.244431114196777
debug | INFO flwr 2024-07-12 00:32:22,218 | server.py:498 | 		round 2: 5.957053375244141
debug | INFO flwr 2024-07-12 00:32:22,218 | server.py:498 | 		round 3: 5.908468532562256
debug | INFO flwr 2024-07-12 00:32:22,218 | server.py:498 | 		round 4: 5.8061073303222654
debug | INFO flwr 2024-07-12 00:32:22,218 | server.py:498 | 		round 5: 5.7976987838745115
debug | INFO flwr 2024-07-12 00:32:22,218 | server.py:498 | 		round 6: 5.765830421447754
debug | INFO flwr 2024-07-12 00:32:22,218 | server.py:498 | 		round 7: 5.728838062286377
debug | INFO flwr 2024-07-12 00:32:22,218 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-12 00:32:22,218 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-12 00:32:22,218 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-12 00:32:22,218 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-12 00:32:22,219 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-12 00:32:22,219 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-12 00:32:22,219 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-12 00:32:22,219 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-12 00:32:22,219 | server.py:498 | 		round 7: -1
debug | INFO flwr 2024-07-12 00:32:22,219 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-12 00:32:22,219 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-12 00:32:22,219 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-12 00:32:22,219 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-12 00:32:22,219 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-12 00:32:22,219 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-12 00:32:22,219 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-12 00:32:22,219 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-12 00:32:22,220 | server.py:498 | 	              (7, -1)]}
debug | INFO flwr 2024-07-12 00:32:22,220 | server.py:499 | 
debug | INFO flwr 2024-07-12 00:33:27,516 | app.py:193 | Starting Flower simulation, config: num_rounds=5, no round_timeout
debug | INFO flwr 2024-07-12 00:33:30,437 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'memory': 26572564071.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13286282035.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-12 00:33:30,437 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-12 00:33:30,437 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 8, 'num_gpus': 2.0}
debug | WARNING flwr 2024-07-12 00:33:30,438 | ray_actor.py:124 | The ActorPool is empty. The system (CPUs=13.0, GPUs=1.0) does not meet the criteria to host at least one client with resources: {'num_cpus': 8, 'num_gpus': 2.0}. Lowering the `client_resources` could help.
debug | INFO flwr 2024-07-12 00:39:24,441 | app.py:193 | Starting Flower simulation, config: num_rounds=5, no round_timeout
debug | INFO flwr 2024-07-12 00:39:28,328 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'node:__internal_head__': 1.0, 'memory': 26608880027.0, 'object_store_memory': 13304440012.0}
debug | INFO flwr 2024-07-12 00:39:28,328 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-12 00:39:28,328 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 8, 'num_gpus': 2.0}
debug | WARNING flwr 2024-07-12 00:39:28,329 | ray_actor.py:124 | The ActorPool is empty. The system (CPUs=13.0, GPUs=1.0) does not meet the criteria to host at least one client with resources: {'num_cpus': 8, 'num_gpus': 2.0}. Lowering the `client_resources` could help.
debug | INFO flwr 2024-07-12 00:42:08,145 | app.py:193 | Starting Flower simulation, config: num_rounds=5, no round_timeout
debug | INFO flwr 2024-07-12 00:42:12,009 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26608452404.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'object_store_memory': 13304226201.0, 'CPU': 13.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-12 00:42:12,009 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-12 00:42:12,009 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 8, 'num_gpus': 0}
debug | INFO flwr 2024-07-12 00:42:12,028 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-12 00:42:12,028 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-12 00:42:12,028 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-12 00:42:24,577 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-12 00:42:24,578 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-12 00:42:24,698 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-12 00:42:24,699 | server.py:110 | 
debug | INFO flwr 2024-07-12 00:42:24,699 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-12 00:42:24,699 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 00:43:13,508 | app.py:193 | Starting Flower simulation, config: num_rounds=5, no round_timeout
debug | INFO flwr 2024-07-12 00:43:17,343 | app.py:228 | Flower VCE: Ray initialized with resources: {'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'object_store_memory': 13172454604.0, 'node:__internal_head__': 1.0, 'memory': 26344909211.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-12 00:43:17,343 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-12 00:43:17,343 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 4, 'num_gpus': 0}
debug | INFO flwr 2024-07-12 00:43:17,359 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 3 actors
debug | INFO flwr 2024-07-12 00:43:17,359 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-12 00:43:17,359 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-12 00:43:30,126 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-12 00:43:30,126 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-12 00:43:30,231 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-12 00:43:30,232 | server.py:110 | 
debug | INFO flwr 2024-07-12 00:43:30,232 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-12 00:43:30,232 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 00:45:00,319 | app.py:193 | Starting Flower simulation, config: num_rounds=5, no round_timeout
debug | INFO flwr 2024-07-12 00:45:04,201 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 26566262784.0, 'object_store_memory': 13283131392.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-12 00:45:04,201 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-12 00:45:04,201 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-12 00:45:04,216 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-12 00:45:04,217 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-12 00:45:04,217 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-12 00:45:17,654 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-12 00:45:17,655 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-12 00:45:17,768 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-12 00:45:17,768 | server.py:110 | 
debug | INFO flwr 2024-07-12 00:45:17,768 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-12 00:45:17,769 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 00:49:43,960 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | WARNING flwr 2024-07-12 00:49:44,541 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-12 00:49:45,110 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 267.34193257801235)
debug | INFO flwr 2024-07-12 00:49:45,111 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 00:50:01,107 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | WARNING flwr 2024-07-12 00:50:01,107 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-12 00:50:01,107 | server.py:110 | 
debug | INFO flwr 2024-07-12 00:50:01,107 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-12 00:50:01,107 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 00:54:24,289 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 00:54:25,393 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 547.6241598539054)
debug | INFO flwr 2024-07-12 00:54:25,393 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 00:54:42,120 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 00:54:42,120 | server.py:110 | 
debug | INFO flwr 2024-07-12 00:54:42,120 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-12 00:54:42,121 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 00:59:06,735 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 00:59:07,791 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 830.0230068829842)
debug | INFO flwr 2024-07-12 00:59:07,792 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 00:59:23,753 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 00:59:23,753 | server.py:110 | 
debug | INFO flwr 2024-07-12 00:59:23,754 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-12 00:59:23,754 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 01:03:47,275 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 01:03:48,351 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 1110.5823730980046)
debug | INFO flwr 2024-07-12 01:03:48,351 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 01:04:04,280 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 01:04:04,281 | server.py:110 | 
debug | INFO flwr 2024-07-12 01:04:04,281 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-12 01:04:04,281 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 01:08:26,954 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 01:08:28,052 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 1390.2836580569856)
debug | INFO flwr 2024-07-12 01:08:28,052 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 01:08:43,878 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 01:08:43,908 | server.py:494 | 
debug | INFO flwr 2024-07-12 01:08:43,908 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-12 01:08:43,908 | server.py:496 | Run finished 5 round(s) in 1406.11s
debug | INFO flwr 2024-07-12 01:08:43,908 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-12 01:08:43,909 | server.py:498 | 		round 1: 5.872231324513753
debug | INFO flwr 2024-07-12 01:08:43,909 | server.py:498 | 		round 2: 5.667518854141235
debug | INFO flwr 2024-07-12 01:08:43,909 | server.py:498 | 		round 3: 5.582622130711873
debug | INFO flwr 2024-07-12 01:08:43,909 | server.py:498 | 		round 4: 5.543248097101848
debug | INFO flwr 2024-07-12 01:08:43,909 | server.py:498 | 		round 5: 5.533934036890666
debug | INFO flwr 2024-07-12 01:08:43,909 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-12 01:08:43,909 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-12 01:08:43,909 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-12 01:08:43,909 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-12 01:08:43,910 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-12 01:08:43,910 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-12 01:08:43,910 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-12 01:08:43,910 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-12 01:08:43,910 | server.py:498 | 	{'accuracy': [(0, -1), (1, -1), (2, -1), (3, -1), (4, -1), (5, -1)]}
debug | INFO flwr 2024-07-12 01:08:43,910 | server.py:499 | 
debug | INFO flwr 2024-07-12 19:10:05,783 | app.py:193 | Starting Flower simulation, config: num_rounds=5, no round_timeout
debug | INFO flwr 2024-07-12 19:10:08,676 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13388700057.0, 'memory': 26777400116.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0}
debug | INFO flwr 2024-07-12 19:10:08,677 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-12 19:10:08,677 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-12 19:10:08,692 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-12 19:10:08,692 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-12 19:10:08,692 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-12 19:10:22,625 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-12 19:10:22,625 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-12 19:10:22,737 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-12 19:10:22,737 | server.py:110 | 
debug | INFO flwr 2024-07-12 19:10:22,737 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-12 19:10:22,738 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 19:14:55,576 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | WARNING flwr 2024-07-12 19:14:56,166 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-12 19:14:56,699 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 273.9615836353041)
debug | INFO flwr 2024-07-12 19:14:56,699 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 19:15:13,896 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | WARNING flwr 2024-07-12 19:15:13,896 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-12 19:15:13,896 | server.py:110 | 
debug | INFO flwr 2024-07-12 19:15:13,896 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-12 19:15:13,896 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 19:19:58,241 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 19:19:59,355 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 576.6180363409221)
debug | INFO flwr 2024-07-12 19:19:59,356 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 19:20:15,868 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 19:20:15,869 | server.py:110 | 
debug | INFO flwr 2024-07-12 19:20:15,869 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-12 19:20:15,869 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 19:25:04,754 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 19:25:05,830 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 883.0929114180617)
debug | INFO flwr 2024-07-12 19:25:05,831 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 19:25:24,803 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 19:25:24,803 | server.py:110 | 
debug | INFO flwr 2024-07-12 19:25:24,803 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-12 19:25:24,804 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 19:30:10,130 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 19:30:11,229 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 1188.4921250399202)
debug | INFO flwr 2024-07-12 19:30:11,230 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 19:30:27,570 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 19:30:27,571 | server.py:110 | 
debug | INFO flwr 2024-07-12 19:30:27,571 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-12 19:30:27,571 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 19:35:12,153 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 19:35:13,294 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 1490.5565682812594)
debug | INFO flwr 2024-07-12 19:35:13,294 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 19:35:29,349 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 19:35:29,375 | server.py:494 | 
debug | INFO flwr 2024-07-12 19:35:29,376 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-12 19:35:29,376 | server.py:496 | Run finished 5 round(s) in 1506.61s
debug | INFO flwr 2024-07-12 19:35:29,376 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-12 19:35:29,377 | server.py:498 | 		round 1: 4.602032570611863
debug | INFO flwr 2024-07-12 19:35:29,377 | server.py:498 | 		round 2: 4.378713721320743
debug | INFO flwr 2024-07-12 19:35:29,377 | server.py:498 | 		round 3: 4.355894463402884
debug | INFO flwr 2024-07-12 19:35:29,377 | server.py:498 | 		round 4: 4.3016729808989025
debug | INFO flwr 2024-07-12 19:35:29,377 | server.py:498 | 		round 5: 4.272109031677246
debug | INFO flwr 2024-07-12 19:35:29,377 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-12 19:35:29,377 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-12 19:35:29,377 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-12 19:35:29,377 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-12 19:35:29,377 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-12 19:35:29,377 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-12 19:35:29,377 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-12 19:35:29,378 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-12 19:35:29,378 | server.py:498 | 	{'accuracy': [(0, -1), (1, -1), (2, -1), (3, -1), (4, -1), (5, -1)]}
debug | INFO flwr 2024-07-12 19:35:29,378 | server.py:499 | 
debug | INFO flwr 2024-07-12 22:24:36,521 | app.py:193 | Starting Flower simulation, config: num_rounds=5, no round_timeout
debug | INFO flwr 2024-07-12 22:24:40,440 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13377850982.0, 'memory': 26755701966.0, 'CPU': 13.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-12 22:24:40,441 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-12 22:24:40,441 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-12 22:24:40,458 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-12 22:24:40,458 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-12 22:24:40,458 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-12 22:24:53,457 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-12 22:24:53,457 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-12 22:24:53,568 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-12 22:24:53,568 | server.py:110 | 
debug | INFO flwr 2024-07-12 22:24:53,568 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-12 22:24:53,568 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 22:29:10,589 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | WARNING flwr 2024-07-12 22:29:11,259 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-12 22:29:11,787 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 258.2188410181552)
debug | INFO flwr 2024-07-12 22:29:11,787 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 22:29:29,996 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | WARNING flwr 2024-07-12 22:29:29,996 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-12 22:29:29,997 | server.py:110 | 
debug | INFO flwr 2024-07-12 22:29:29,997 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-12 22:29:29,997 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 22:33:53,966 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 22:33:55,149 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 541.5814878740348)
debug | INFO flwr 2024-07-12 22:33:55,150 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 22:34:11,659 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 22:34:11,659 | server.py:110 | 
debug | INFO flwr 2024-07-12 22:34:11,660 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-12 22:34:11,660 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 22:38:30,856 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 22:38:32,051 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 818.4830231619999)
debug | INFO flwr 2024-07-12 22:38:32,051 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 22:38:49,249 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 22:38:49,249 | server.py:110 | 
debug | INFO flwr 2024-07-12 22:38:49,250 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-12 22:38:49,250 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 22:43:08,650 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 22:43:09,800 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 1096.2323210104369)
debug | INFO flwr 2024-07-12 22:43:09,801 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 22:43:27,217 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 22:43:27,217 | server.py:110 | 
debug | INFO flwr 2024-07-12 22:43:27,217 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-12 22:43:27,217 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 22:47:46,666 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 22:47:47,877 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 1374.3094721552916)
debug | INFO flwr 2024-07-12 22:47:47,878 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-12 22:48:05,684 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-12 22:48:05,699 | server.py:494 | 
debug | INFO flwr 2024-07-12 22:48:05,699 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-12 22:48:05,699 | server.py:496 | Run finished 5 round(s) in 1392.12s
debug | INFO flwr 2024-07-12 22:48:05,700 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-12 22:48:05,700 | server.py:498 | 		round 1: 5.843903303146362
debug | INFO flwr 2024-07-12 22:48:05,700 | server.py:498 | 		round 2: 5.70376984278361
debug | INFO flwr 2024-07-12 22:48:05,700 | server.py:498 | 		round 3: 5.592829783757527
debug | INFO flwr 2024-07-12 22:48:05,700 | server.py:498 | 		round 4: 5.566960414250691
debug | INFO flwr 2024-07-12 22:48:05,700 | server.py:498 | 		round 5: 5.523473660151164
debug | INFO flwr 2024-07-12 22:48:05,701 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-12 22:48:05,701 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-12 22:48:05,701 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-12 22:48:05,701 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-12 22:48:05,701 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-12 22:48:05,701 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-12 22:48:05,701 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-12 22:48:05,701 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-12 22:48:05,701 | server.py:498 | 	{'accuracy': [(0, -1), (1, -1), (2, -1), (3, -1), (4, -1), (5, -1)]}
debug | INFO flwr 2024-07-12 22:48:05,701 | server.py:499 | 
debug | INFO flwr 2024-07-13 00:20:41,408 | app.py:193 | Starting Flower simulation, config: num_rounds=5, no round_timeout
debug | INFO flwr 2024-07-13 00:20:45,201 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 26760944027.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'object_store_memory': 13380472012.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-13 00:20:45,202 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-13 00:20:45,202 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-13 00:20:45,219 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-13 00:20:45,219 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-13 00:20:45,219 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-13 00:21:19,916 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-13 00:21:22,813 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26618125518.0, 'node:__internal_head__': 1.0, 'CPU': 13.0, 'object_store_memory': 13309062758.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-13 00:21:22,814 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-13 00:21:22,814 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-13 00:21:22,831 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-13 00:21:22,831 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-13 00:21:22,831 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-13 00:21:29,090 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=227885, ip=172.17.0.3, actor_id=6c3d53ca877b9710c46a2f2801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe6ec4edff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 50, in load_partition
    if partition_id not in client_dict.keys():
UnboundLocalError: local variable 'client_dict' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=227885, ip=172.17.0.3, actor_id=6c3d53ca877b9710c46a2f2801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe6ec4edff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'client_dict' referenced before assignment

debug | ERROR flwr 2024-07-13 00:21:29,090 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=227885, ip=172.17.0.3, actor_id=6c3d53ca877b9710c46a2f2801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe6ec4edff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 50, in load_partition
    if partition_id not in client_dict.keys():
UnboundLocalError: local variable 'client_dict' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=227885, ip=172.17.0.3, actor_id=6c3d53ca877b9710c46a2f2801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe6ec4edff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'client_dict' referenced before assignment
debug | ERROR flwr 2024-07-13 00:21:29,090 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=227885, ip=172.17.0.3, actor_id=6c3d53ca877b9710c46a2f2801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe6ec4edff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 50, in load_partition
    if partition_id not in client_dict.keys():
UnboundLocalError: local variable 'client_dict' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=227885, ip=172.17.0.3, actor_id=6c3d53ca877b9710c46a2f2801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe6ec4edff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'client_dict' referenced before assignment
debug | ERROR flwr 2024-07-13 00:21:29,091 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=227885, ip=172.17.0.3, actor_id=6c3d53ca877b9710c46a2f2801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe6ec4edff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 50, in load_partition
    if partition_id not in client_dict.keys():
UnboundLocalError: local variable 'client_dict' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=227885, ip=172.17.0.3, actor_id=6c3d53ca877b9710c46a2f2801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe6ec4edff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'client_dict' referenced before assignment

debug | ERROR flwr 2024-07-13 00:21:29,091 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-13 00:22:07,553 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-13 00:22:11,352 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26734283982.0, 'object_store_memory': 13367141990.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-13 00:22:11,352 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-13 00:22:11,352 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-13 00:22:11,367 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-13 00:22:11,367 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-13 00:22:11,367 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-13 00:22:17,019 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=229228, ip=172.17.0.3, actor_id=c93f766e7b06c9fa290237f901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff06c4ee050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 50, in load_partition
    if partition_id not in client_dict.keys():
AttributeError: 'NoneType' object has no attribute 'keys'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=229228, ip=172.17.0.3, actor_id=c93f766e7b06c9fa290237f901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff06c4ee050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'NoneType' object has no attribute 'keys'

debug | ERROR flwr 2024-07-13 00:22:17,020 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=229228, ip=172.17.0.3, actor_id=c93f766e7b06c9fa290237f901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff06c4ee050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 50, in load_partition
    if partition_id not in client_dict.keys():
AttributeError: 'NoneType' object has no attribute 'keys'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=229228, ip=172.17.0.3, actor_id=c93f766e7b06c9fa290237f901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff06c4ee050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'NoneType' object has no attribute 'keys'
debug | ERROR flwr 2024-07-13 00:22:17,020 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=229228, ip=172.17.0.3, actor_id=c93f766e7b06c9fa290237f901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff06c4ee050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 50, in load_partition
    if partition_id not in client_dict.keys():
AttributeError: 'NoneType' object has no attribute 'keys'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=229228, ip=172.17.0.3, actor_id=c93f766e7b06c9fa290237f901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff06c4ee050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'NoneType' object has no attribute 'keys'
debug | ERROR flwr 2024-07-13 00:22:17,021 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=229228, ip=172.17.0.3, actor_id=c93f766e7b06c9fa290237f901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff06c4ee050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 142, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 96, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 50, in load_partition
    if partition_id not in client_dict.keys():
AttributeError: 'NoneType' object has no attribute 'keys'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=229228, ip=172.17.0.3, actor_id=c93f766e7b06c9fa290237f901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff06c4ee050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'NoneType' object has no attribute 'keys'

debug | ERROR flwr 2024-07-13 00:22:17,022 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-13 00:23:29,000 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-13 00:23:32,822 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'object_store_memory': 13361388748.0, 'memory': 26722777499.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-13 00:23:32,822 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-13 00:23:32,823 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-13 00:23:32,842 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-13 00:23:32,842 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-13 00:23:32,842 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-13 00:23:45,377 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-13 00:23:45,377 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-13 00:23:45,497 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-13 00:23:45,497 | server.py:110 | 
debug | INFO flwr 2024-07-13 00:23:45,497 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-13 00:23:45,497 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | ERROR flwr 2024-07-13 00:23:46,930 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=230663, ip=172.17.0.3, actor_id=b894f3ee398b836269f0e0f101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe638592020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 111, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/fedSSL/client.py", line 39, in train
    z_i = net(x_i).to(DEVICE)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/nn/modules/module.py", line 1532, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/nn/modules/module.py", line 1541, in _call_impl
    return forward_call(*args, **kwargs)
  File "/root/fedSSL/model.py", line 130, in forward
    e1 = self.encoder(x)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/nn/modules/module.py", line 1532, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/nn/modules/module.py", line 1541, in _call_impl
    return forward_call(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torchvision/models/resnet.py", line 285, in forward
    return self._forward_impl(x)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torchvision/models/resnet.py", line 269, in _forward_impl
    x = self.bn1(x)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/nn/modules/module.py", line 1532, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/nn/modules/module.py", line 1541, in _call_impl
    return forward_call(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/nn/modules/batchnorm.py", line 142, in forward
    self._check_input_dim(input)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/nn/modules/batchnorm.py", line 425, in _check_input_dim
    raise ValueError(f"expected 4D input (got {input.dim()}D input)")
ValueError: expected 4D input (got 3D input)

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=230663, ip=172.17.0.3, actor_id=b894f3ee398b836269f0e0f101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe638592020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: expected 4D input (got 3D input)

debug | ERROR flwr 2024-07-13 00:23:46,930 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=230663, ip=172.17.0.3, actor_id=b894f3ee398b836269f0e0f101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe638592020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 111, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/fedSSL/client.py", line 39, in train
    z_i = net(x_i).to(DEVICE)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/nn/modules/module.py", line 1532, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/nn/modules/module.py", line 1541, in _call_impl
    return forward_call(*args, **kwargs)
  File "/root/fedSSL/model.py", line 130, in forward
    e1 = self.encoder(x)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/nn/modules/module.py", line 1532, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/nn/modules/module.py", line 1541, in _call_impl
    return forward_call(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torchvision/models/resnet.py", line 285, in forward
    return self._forward_impl(x)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torchvision/models/resnet.py", line 269, in _forward_impl
    x = self.bn1(x)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/nn/modules/module.py", line 1532, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/nn/modules/module.py", line 1541, in _call_impl
    return forward_call(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/nn/modules/batchnorm.py", line 142, in forward
    self._check_input_dim(input)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/nn/modules/batchnorm.py", line 425, in _check_input_dim
    raise ValueError(f"expected 4D input (got {input.dim()}D input)")
ValueError: expected 4D input (got 3D input)

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=230663, ip=172.17.0.3, actor_id=b894f3ee398b836269f0e0f101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe638592020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: expected 4D input (got 3D input)
debug | INFO flwr 2024-07-13 00:25:26,080 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-13 00:25:29,925 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13361079091.0, 'CPU': 13.0, 'memory': 26722158183.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-13 00:25:29,925 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-13 00:25:29,925 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-13 00:25:29,945 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-13 00:25:29,945 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-13 00:25:29,946 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-13 00:25:43,822 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-13 00:25:43,822 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-13 00:25:43,928 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-13 00:25:43,928 | server.py:110 | 
debug | INFO flwr 2024-07-13 00:25:43,928 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-13 00:25:43,928 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 00:30:06,282 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | WARNING flwr 2024-07-13 00:30:06,899 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-13 00:30:07,450 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 263.52257307898253)
debug | INFO flwr 2024-07-13 00:30:07,451 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 00:30:23,973 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | WARNING flwr 2024-07-13 00:30:23,973 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-13 00:30:23,973 | server.py:110 | 
debug | INFO flwr 2024-07-13 00:30:23,974 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-13 00:30:23,974 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 00:34:51,203 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 00:34:52,280 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 548.3521718727425)
debug | INFO flwr 2024-07-13 00:34:52,280 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 00:35:10,122 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 00:35:10,122 | server.py:110 | 
debug | INFO flwr 2024-07-13 00:35:10,122 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-13 00:35:10,122 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 00:39:41,011 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 00:39:42,080 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 838.152529925108)
debug | INFO flwr 2024-07-13 00:39:42,081 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 00:40:00,236 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 00:40:00,236 | server.py:110 | 
debug | INFO flwr 2024-07-13 00:40:00,236 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-13 00:40:00,236 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 00:44:27,705 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 00:44:29,055 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 1125.127074314747)
debug | INFO flwr 2024-07-13 00:44:29,055 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 00:44:47,818 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 00:44:47,818 | server.py:110 | 
debug | INFO flwr 2024-07-13 00:44:47,818 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-13 00:44:47,818 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 00:49:10,995 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 00:49:12,147 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 1408.2192173958756)
debug | INFO flwr 2024-07-13 00:49:12,147 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 00:49:30,262 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 00:49:30,262 | server.py:110 | 
debug | INFO flwr 2024-07-13 00:49:30,263 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-13 00:49:30,263 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 00:53:52,738 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 00:53:53,918 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 1689.9899104037322)
debug | INFO flwr 2024-07-13 00:53:53,918 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 00:54:11,593 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 00:54:11,593 | server.py:110 | 
debug | INFO flwr 2024-07-13 00:54:11,593 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-13 00:54:11,593 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 00:58:40,161 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 00:58:41,507 | server.py:129 | fit progress: (7, -1, {'accuracy': -1}, 1977.578725404106)
debug | INFO flwr 2024-07-13 00:58:41,507 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 00:58:57,840 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 00:58:57,859 | server.py:494 | 
debug | INFO flwr 2024-07-13 00:58:57,860 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-13 00:58:57,860 | server.py:496 | Run finished 7 round(s) in 1993.91s
debug | INFO flwr 2024-07-13 00:58:57,860 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-13 00:58:57,860 | server.py:498 | 		round 1: 5.859811941782634
debug | INFO flwr 2024-07-13 00:58:57,861 | server.py:498 | 		round 2: 5.6610517501831055
debug | INFO flwr 2024-07-13 00:58:57,861 | server.py:498 | 		round 3: 5.570685068766276
debug | INFO flwr 2024-07-13 00:58:57,861 | server.py:498 | 		round 4: 5.547366937001546
debug | INFO flwr 2024-07-13 00:58:57,861 | server.py:498 | 		round 5: 5.508465607961019
debug | INFO flwr 2024-07-13 00:58:57,861 | server.py:498 | 		round 6: 5.52274751663208
debug | INFO flwr 2024-07-13 00:58:57,861 | server.py:498 | 		round 7: 5.494250059127808
debug | INFO flwr 2024-07-13 00:58:57,861 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-13 00:58:57,861 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-13 00:58:57,861 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-13 00:58:57,861 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-13 00:58:57,861 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-13 00:58:57,861 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-13 00:58:57,861 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-13 00:58:57,862 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-13 00:58:57,862 | server.py:498 | 		round 7: -1
debug | INFO flwr 2024-07-13 00:58:57,862 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-13 00:58:57,862 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-13 00:58:57,862 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-13 00:58:57,862 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-13 00:58:57,862 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-13 00:58:57,862 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-13 00:58:57,862 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-13 00:58:57,862 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-13 00:58:57,862 | server.py:498 | 	              (7, -1)]}
debug | INFO flwr 2024-07-13 00:58:57,862 | server.py:499 | 
debug | INFO flwr 2024-07-13 01:00:50,455 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-13 01:00:53,377 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26715444020.0, 'object_store_memory': 13357722009.0, 'CPU': 13.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0}
debug | INFO flwr 2024-07-13 01:00:53,378 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-13 01:00:53,378 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-13 01:00:53,397 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-13 01:00:53,398 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-13 01:00:53,398 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-13 01:01:06,021 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-13 01:01:06,021 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-13 01:01:06,131 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-13 01:01:06,131 | server.py:110 | 
debug | INFO flwr 2024-07-13 01:01:06,131 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-13 01:01:06,131 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 04:28:16,495 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-13 04:28:20,280 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 26734738638.0, 'CPU': 13.0, 'object_store_memory': 13367369318.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0}
debug | INFO flwr 2024-07-13 04:28:20,281 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-13 04:28:20,281 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-13 04:28:20,297 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-13 04:28:20,298 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-13 04:28:20,298 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-13 04:28:33,503 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-13 04:28:33,503 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-13 04:28:33,627 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-13 04:28:33,628 | server.py:110 | 
debug | INFO flwr 2024-07-13 04:28:33,628 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-13 04:28:33,628 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 04:33:02,389 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | WARNING flwr 2024-07-13 04:33:02,952 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-13 04:33:03,483 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 269.8550378372893)
debug | INFO flwr 2024-07-13 04:33:03,483 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 04:33:20,056 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | WARNING flwr 2024-07-13 04:33:20,056 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-13 04:33:20,056 | server.py:110 | 
debug | INFO flwr 2024-07-13 04:33:20,056 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-13 04:33:20,056 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 04:37:48,071 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 04:37:49,258 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 555.6305902772583)
debug | INFO flwr 2024-07-13 04:37:49,259 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 04:38:07,958 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 04:38:07,958 | server.py:110 | 
debug | INFO flwr 2024-07-13 04:38:07,958 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-13 04:38:07,958 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 04:42:43,711 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 04:42:44,878 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 851.2508945651352)
debug | INFO flwr 2024-07-13 04:42:44,879 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 04:43:00,958 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 04:43:00,958 | server.py:110 | 
debug | INFO flwr 2024-07-13 04:43:00,958 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-13 04:43:00,959 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 04:47:36,103 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 04:47:37,192 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 1143.564160977956)
debug | INFO flwr 2024-07-13 04:47:37,192 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 04:47:53,991 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 04:47:53,991 | server.py:110 | 
debug | INFO flwr 2024-07-13 04:47:53,991 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-13 04:47:53,991 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 04:52:30,779 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 04:52:31,880 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 1438.2524669822305)
debug | INFO flwr 2024-07-13 04:52:31,880 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 04:52:51,406 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 04:52:51,406 | server.py:110 | 
debug | INFO flwr 2024-07-13 04:52:51,406 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-13 04:52:51,407 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 04:57:28,785 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 04:57:29,861 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 1736.2330941422842)
debug | INFO flwr 2024-07-13 04:57:29,861 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 04:57:45,763 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 04:57:45,763 | server.py:110 | 
debug | INFO flwr 2024-07-13 04:57:45,763 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-13 04:57:45,763 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 05:02:21,974 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 05:02:23,071 | server.py:129 | fit progress: (7, -1, {'accuracy': -1}, 2029.4430221612565)
debug | INFO flwr 2024-07-13 05:02:23,071 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-13 05:02:38,815 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-13 05:02:38,839 | server.py:494 | 
debug | INFO flwr 2024-07-13 05:02:38,839 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-13 05:02:38,839 | server.py:496 | Run finished 7 round(s) in 2045.19s
debug | INFO flwr 2024-07-13 05:02:38,839 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-13 05:02:38,840 | server.py:498 | 		round 1: 5.836464961369832
debug | INFO flwr 2024-07-13 05:02:38,840 | server.py:498 | 		round 2: 5.660664955774943
debug | INFO flwr 2024-07-13 05:02:38,840 | server.py:498 | 		round 3: 5.59738564491272
debug | INFO flwr 2024-07-13 05:02:38,840 | server.py:498 | 		round 4: 5.558961550394694
debug | INFO flwr 2024-07-13 05:02:38,840 | server.py:498 | 		round 5: 5.519684632619222
debug | INFO flwr 2024-07-13 05:02:38,840 | server.py:498 | 		round 6: 5.522773424784343
debug | INFO flwr 2024-07-13 05:02:38,840 | server.py:498 | 		round 7: 5.503352006276448
debug | INFO flwr 2024-07-13 05:02:38,840 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-13 05:02:38,841 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-13 05:02:38,841 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-13 05:02:38,841 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-13 05:02:38,841 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-13 05:02:38,841 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-13 05:02:38,841 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-13 05:02:38,841 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-13 05:02:38,841 | server.py:498 | 		round 7: -1
debug | INFO flwr 2024-07-13 05:02:38,841 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-13 05:02:38,841 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-13 05:02:38,841 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-13 05:02:38,841 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-13 05:02:38,841 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-13 05:02:38,842 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-13 05:02:38,842 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-13 05:02:38,842 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-13 05:02:38,842 | server.py:498 | 	              (7, -1)]}
debug | INFO flwr 2024-07-13 05:02:38,842 | server.py:499 | 
debug | INFO flwr 2024-07-13 05:39:23,381 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-13 05:39:27,190 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'memory': 26740211712.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13370105856.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0}
debug | INFO flwr 2024-07-13 05:39:27,191 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-13 05:39:27,191 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-13 05:39:27,209 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-13 05:39:27,209 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-13 05:39:27,209 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-13 05:39:40,910 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-13 05:39:40,910 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-13 05:39:41,015 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-13 05:39:41,016 | server.py:110 | 
debug | INFO flwr 2024-07-13 05:39:41,016 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-13 05:39:41,016 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-13 05:43:36,596 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-13 05:43:37,490 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-13 05:43:37,996 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 236.98001163825393)
debug | INFO flwr 2024-07-13 05:43:37,996 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-13 05:43:55,648 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-13 05:43:55,648 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-13 05:43:55,648 | server.py:110 | 
debug | INFO flwr 2024-07-13 05:43:55,648 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-13 05:43:55,648 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-13 05:44:36,572 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-13 05:44:40,516 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26739671040.0, 'CPU': 13.0, 'object_store_memory': 13369835520.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0}
debug | INFO flwr 2024-07-13 05:44:40,517 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-13 05:44:40,517 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-13 05:44:40,535 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-13 05:44:40,536 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-13 05:44:40,536 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-13 05:44:54,015 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-13 05:44:54,015 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-13 05:44:54,128 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-13 05:44:54,128 | server.py:110 | 
debug | INFO flwr 2024-07-13 05:44:54,128 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-13 05:44:54,128 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-13 05:49:14,220 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-13 05:49:15,127 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-13 05:49:15,671 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 261.5431470479816)
debug | INFO flwr 2024-07-13 05:49:15,671 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-13 05:49:32,675 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-13 05:49:32,676 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-13 05:49:32,676 | server.py:110 | 
debug | INFO flwr 2024-07-13 05:49:32,676 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-13 05:49:32,676 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-13 05:53:55,506 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-13 05:53:56,948 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 542.8202213142067)
debug | INFO flwr 2024-07-13 05:53:56,949 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-13 05:54:14,730 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-13 05:54:14,730 | server.py:110 | 
debug | INFO flwr 2024-07-13 05:54:14,730 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-13 05:54:14,731 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-13 05:58:47,793 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-13 05:58:49,391 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 835.263063817285)
debug | INFO flwr 2024-07-13 05:58:49,391 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-13 05:59:08,750 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-13 05:59:08,750 | server.py:110 | 
debug | INFO flwr 2024-07-13 05:59:08,750 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-13 05:59:08,750 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-13 06:03:42,133 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-13 06:03:43,571 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 1129.4431360689923)
debug | INFO flwr 2024-07-13 06:03:43,571 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-13 06:04:02,890 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-13 06:04:02,890 | server.py:110 | 
debug | INFO flwr 2024-07-13 06:04:02,890 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-13 06:04:02,890 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-13 06:08:30,652 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-13 06:08:32,072 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 1417.9442945639603)
debug | INFO flwr 2024-07-13 06:08:32,073 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-13 06:08:52,224 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-13 06:08:52,224 | server.py:110 | 
debug | INFO flwr 2024-07-13 06:08:52,224 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-13 06:08:52,225 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-13 06:13:22,484 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-13 06:13:23,941 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 1709.8130192579702)
debug | INFO flwr 2024-07-13 06:13:23,941 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-13 06:13:41,893 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-13 06:13:41,893 | server.py:110 | 
debug | INFO flwr 2024-07-13 06:13:41,893 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-13 06:13:41,893 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-13 06:18:14,487 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-13 06:18:15,936 | server.py:129 | fit progress: (7, -1, {'accuracy': -1}, 2001.8083878229372)
debug | INFO flwr 2024-07-13 06:18:15,937 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-13 06:18:33,839 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-13 06:18:33,870 | server.py:494 | 
debug | INFO flwr 2024-07-13 06:18:33,870 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-13 06:18:33,870 | server.py:496 | Run finished 7 round(s) in 2019.71s
debug | INFO flwr 2024-07-13 06:18:33,870 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-13 06:18:33,871 | server.py:498 | 		round 1: 6.216854381561279
debug | INFO flwr 2024-07-13 06:18:33,871 | server.py:498 | 		round 2: 5.989967632293701
debug | INFO flwr 2024-07-13 06:18:33,871 | server.py:498 | 		round 3: 5.87343168258667
debug | INFO flwr 2024-07-13 06:18:33,871 | server.py:498 | 		round 4: 5.82603702545166
debug | INFO flwr 2024-07-13 06:18:33,871 | server.py:498 | 		round 5: 5.804916572570801
debug | INFO flwr 2024-07-13 06:18:33,871 | server.py:498 | 		round 6: 5.786214351654053
debug | INFO flwr 2024-07-13 06:18:33,871 | server.py:498 | 		round 7: 5.757119274139404
debug | INFO flwr 2024-07-13 06:18:33,871 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-13 06:18:33,871 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-13 06:18:33,872 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-13 06:18:33,872 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-13 06:18:33,872 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-13 06:18:33,872 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-13 06:18:33,872 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-13 06:18:33,872 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-13 06:18:33,872 | server.py:498 | 		round 7: -1
debug | INFO flwr 2024-07-13 06:18:33,872 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-13 06:18:33,872 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-13 06:18:33,872 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-13 06:18:33,872 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-13 06:18:33,873 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-13 06:18:33,873 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-13 06:18:33,873 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-13 06:18:33,873 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-13 06:18:33,873 | server.py:498 | 	              (7, -1)]}
debug | INFO flwr 2024-07-13 06:18:33,873 | server.py:499 | 
debug | INFO flwr 2024-07-15 04:07:03,784 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-15 04:07:06,844 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26743502439.0, 'object_store_memory': 13371751219.0, 'CPU': 13.0, 'node:__internal_head__': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-15 04:07:06,844 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 04:07:06,845 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 04:07:06,863 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 04:07:06,863 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 04:07:06,863 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 04:07:19,470 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 04:07:19,470 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-15 04:07:20,109 | app.py:328 | 'int' object has no attribute 'to'
debug | ERROR flwr 2024-07-15 04:07:20,110 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/fedSSL/model.py", line 188, in evaluate
    self.fine_tune_predictor()
  File "/root/fedSSL/model.py", line 214, in fine_tune_predictor
    x, labels = x.to(DEVICE), labels.to(DEVICE)
AttributeError: 'int' object has no attribute 'to'

debug | ERROR flwr 2024-07-15 04:07:20,110 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 04:08:46,319 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-15 04:08:50,066 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 13358406451.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'CPU': 13.0, 'memory': 26716812903.0}
debug | INFO flwr 2024-07-15 04:08:50,066 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 04:08:50,066 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 04:08:50,082 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 04:08:50,082 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 04:08:50,082 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 04:09:03,239 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 04:09:03,240 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-15 04:09:03,430 | app.py:328 | 'int' object has no attribute 'to'
debug | ERROR flwr 2024-07-15 04:09:03,431 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/fedSSL/model.py", line 188, in evaluate
    self.fine_tune_predictor()
  File "/root/fedSSL/model.py", line 214, in fine_tune_predictor
    x, labels = x.to(DEVICE), labels.to(DEVICE)
AttributeError: 'int' object has no attribute 'to'

debug | ERROR flwr 2024-07-15 04:09:03,431 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 04:10:40,777 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-15 04:10:44,549 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26741180007.0, 'node:__internal_head__': 1.0, 'CPU': 13.0, 'object_store_memory': 13370590003.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-15 04:10:44,549 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 04:10:44,550 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 04:10:44,567 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 04:10:44,568 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 04:10:44,568 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 04:10:57,229 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 04:10:57,229 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-15 04:10:57,419 | app.py:328 | name 'label' is not defined
debug | ERROR flwr 2024-07-15 04:10:57,420 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/fedSSL/model.py", line 188, in evaluate
    self.fine_tune_predictor()
  File "/root/fedSSL/model.py", line 215, in fine_tune_predictor
    print(label)
NameError: name 'label' is not defined

debug | ERROR flwr 2024-07-15 04:10:57,420 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 04:11:21,280 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-15 04:11:24,237 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'memory': 26760853095.0, 'object_store_memory': 13380426547.0, 'node:__internal_head__': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-15 04:11:24,238 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 04:11:24,238 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 04:11:24,259 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 04:11:24,260 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 04:11:24,260 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 04:11:37,309 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 04:11:37,309 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-15 04:11:37,503 | app.py:328 | 'int' object has no attribute 'to'
debug | ERROR flwr 2024-07-15 04:11:37,504 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/fedSSL/model.py", line 188, in evaluate
    self.fine_tune_predictor()
  File "/root/fedSSL/model.py", line 217, in fine_tune_predictor
    x, labels = x.to(DEVICE), labels.to(DEVICE)
AttributeError: 'int' object has no attribute 'to'

debug | ERROR flwr 2024-07-15 04:11:37,504 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 04:22:41,086 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-15 04:22:44,893 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'object_store_memory': 13359930163.0, 'memory': 26719860327.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-15 04:22:44,893 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 04:22:44,893 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 04:22:44,914 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 04:22:44,914 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 04:22:44,914 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 04:22:58,150 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 04:22:58,151 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-15 04:22:58,345 | app.py:328 | 'int' object has no attribute 'to'
debug | ERROR flwr 2024-07-15 04:22:58,346 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/fedSSL/model.py", line 188, in evaluate
    self.fine_tune_predictor()
  File "/root/fedSSL/model.py", line 217, in fine_tune_predictor
    x, labels = x.to(DEVICE), labels.to(DEVICE)
AttributeError: 'int' object has no attribute 'to'

debug | ERROR flwr 2024-07-15 04:22:58,347 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 04:25:58,596 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-15 04:26:02,371 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 13380354048.0, 'memory': 26760708096.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-15 04:26:02,371 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 04:26:02,371 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 04:26:02,388 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 04:26:02,388 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 04:26:02,388 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 04:26:16,049 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 04:26:16,049 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-15 04:26:16,232 | app.py:328 | 'int' object has no attribute 'to'
debug | ERROR flwr 2024-07-15 04:26:16,238 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/fedSSL/model.py", line 188, in evaluate
    self.fine_tune_predictor()
  File "/root/fedSSL/model.py", line 217, in fine_tune_predictor
    x, labels = x.to(DEVICE), labels.to(DEVICE)
AttributeError: 'int' object has no attribute 'to'

debug | ERROR flwr 2024-07-15 04:26:16,238 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 04:27:15,128 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-15 04:27:18,101 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26759228622.0, 'CPU': 13.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13379614310.0}
debug | INFO flwr 2024-07-15 04:27:18,102 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 04:27:18,102 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 04:27:18,122 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 04:27:18,122 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 04:27:18,122 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 04:27:30,762 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 04:27:30,762 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 05:19:31,028 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-15 05:19:34,037 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'CPU': 13.0, 'memory': 26761418343.0, 'object_store_memory': 13380709171.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0}
debug | INFO flwr 2024-07-15 05:19:34,038 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 05:19:34,038 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 05:19:34,056 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 05:19:34,056 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 05:19:34,056 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 05:19:47,324 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 05:19:47,325 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 05:25:51,230 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-15 05:25:54,985 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'object_store_memory': 13380148838.0, 'memory': 26760297678.0, 'node:__internal_head__': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-15 05:25:54,985 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 05:25:54,985 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 05:25:55,003 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 05:25:55,003 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 05:25:55,003 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 05:26:08,314 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 05:26:08,314 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-15 05:32:30,734 | app.py:328 | name 'loss' is not defined
debug | ERROR flwr 2024-07-15 05:32:30,734 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/fedSSL/model.py", line 200, in evaluate
    return loss, {"accuracy": accuracy}
NameError: name 'loss' is not defined

debug | ERROR flwr 2024-07-15 05:32:30,735 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 05:47:11,290 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 05:47:14,204 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26757928551.0, 'object_store_memory': 13378964275.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-15 05:47:14,204 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 05:47:14,204 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 05:47:14,221 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 05:47:14,221 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 05:47:14,222 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 05:47:26,663 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 05:47:26,663 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 05:47:26,781 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-15 05:47:26,781 | server.py:110 | 
debug | INFO flwr 2024-07-15 05:47:26,781 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 05:47:26,781 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-15 05:51:52,319 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-15 05:51:56,122 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 05:51:56,934 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 270.152693411801)
debug | INFO flwr 2024-07-15 05:51:56,934 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-15 05:52:16,303 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-15 05:52:16,304 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 05:52:16,304 | server.py:110 | 
debug | INFO flwr 2024-07-15 05:52:16,304 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-15 05:52:16,304 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-15 05:56:47,236 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-15 05:56:50,897 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 564.1159223248251)
debug | INFO flwr 2024-07-15 05:56:50,897 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-15 05:57:10,343 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-15 05:57:10,343 | server.py:110 | 
debug | INFO flwr 2024-07-15 05:57:10,344 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-15 05:57:10,344 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-15 06:01:44,171 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-15 06:01:46,731 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 859.9500340046361)
debug | INFO flwr 2024-07-15 06:01:46,732 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-15 06:02:05,234 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-15 06:02:05,234 | server.py:110 | 
debug | INFO flwr 2024-07-15 06:02:05,234 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-15 06:02:05,235 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-15 06:06:40,398 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-15 06:06:44,321 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 1157.5393608417362)
debug | INFO flwr 2024-07-15 06:06:44,321 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-15 06:07:02,095 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-15 06:07:02,095 | server.py:110 | 
debug | INFO flwr 2024-07-15 06:07:02,095 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-15 06:07:02,095 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-15 06:11:35,755 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-15 06:11:39,228 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 1452.4472456206568)
debug | INFO flwr 2024-07-15 06:11:39,229 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-15 06:11:57,762 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-15 06:11:57,762 | server.py:110 | 
debug | INFO flwr 2024-07-15 06:11:57,762 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-15 06:11:57,763 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-15 06:16:34,739 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-15 06:16:37,114 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 1750.3326428500004)
debug | INFO flwr 2024-07-15 06:16:37,114 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-15 06:16:57,580 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-15 06:16:57,580 | server.py:110 | 
debug | INFO flwr 2024-07-15 06:16:57,580 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-15 06:16:57,581 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-15 06:21:29,946 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-15 06:21:31,774 | server.py:129 | fit progress: (7, -1, {'accuracy': -1}, 2044.9926303210668)
debug | INFO flwr 2024-07-15 06:21:31,774 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-15 06:21:51,907 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-15 06:21:51,932 | server.py:494 | 
debug | INFO flwr 2024-07-15 06:21:51,932 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-15 06:21:51,932 | server.py:496 | Run finished 7 round(s) in 2065.13s
debug | INFO flwr 2024-07-15 06:21:51,932 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-15 06:21:51,933 | server.py:498 | 		round 1: 6.210138416290283
debug | INFO flwr 2024-07-15 06:21:51,933 | server.py:498 | 		round 2: 5.948716449737549
debug | INFO flwr 2024-07-15 06:21:51,933 | server.py:498 | 		round 3: 5.862132167816162
debug | INFO flwr 2024-07-15 06:21:51,933 | server.py:498 | 		round 4: 5.810383701324463
debug | INFO flwr 2024-07-15 06:21:51,933 | server.py:498 | 		round 5: 5.781240653991699
debug | INFO flwr 2024-07-15 06:21:51,933 | server.py:498 | 		round 6: 5.753820514678955
debug | INFO flwr 2024-07-15 06:21:51,933 | server.py:498 | 		round 7: 5.7447765350341795
debug | INFO flwr 2024-07-15 06:21:51,933 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-15 06:21:51,933 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-15 06:21:51,933 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-15 06:21:51,934 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-15 06:21:51,934 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-15 06:21:51,934 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-15 06:21:51,934 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-15 06:21:51,934 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-15 06:21:51,934 | server.py:498 | 		round 7: -1
debug | INFO flwr 2024-07-15 06:21:51,934 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-15 06:21:51,934 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-15 06:21:51,934 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-15 06:21:51,934 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-15 06:21:51,934 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-15 06:21:51,934 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-15 06:21:51,934 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-15 06:21:51,935 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-15 06:21:51,935 | server.py:498 | 	              (7, -1)]}
debug | INFO flwr 2024-07-15 06:21:51,935 | server.py:499 | 
debug | INFO flwr 2024-07-15 06:28:05,216 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 06:28:09,016 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'object_store_memory': 13373191372.0, 'node:__internal_head__': 1.0, 'memory': 26746382747.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-15 06:28:09,016 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 06:28:09,016 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 06:28:09,033 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 06:28:09,034 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 06:28:09,034 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 06:28:21,791 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 06:28:21,792 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 06:28:21,899 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-15 06:28:21,899 | server.py:110 | 
debug | INFO flwr 2024-07-15 06:28:21,899 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 06:28:21,899 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | ERROR flwr 2024-07-15 06:28:23,061 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=371724, ip=172.17.0.3, actor_id=eeb0935f7c073795e979bff401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8634005ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 112, in fit
    round += 1/NUM_CLIENTS
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=371724, ip=172.17.0.3, actor_id=eeb0935f7c073795e979bff401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8634005ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-07-15 06:28:23,062 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=371724, ip=172.17.0.3, actor_id=eeb0935f7c073795e979bff401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8634005ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 112, in fit
    round += 1/NUM_CLIENTS
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=371724, ip=172.17.0.3, actor_id=eeb0935f7c073795e979bff401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8634005ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-07-15 06:28:23,856 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=371724, ip=172.17.0.3, actor_id=eeb0935f7c073795e979bff401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8634005ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 112, in fit
    round += 1/NUM_CLIENTS
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=371724, ip=172.17.0.3, actor_id=eeb0935f7c073795e979bff401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8634005ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-07-15 06:28:23,856 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=371724, ip=172.17.0.3, actor_id=eeb0935f7c073795e979bff401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8634005ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 112, in fit
    round += 1/NUM_CLIENTS
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=371724, ip=172.17.0.3, actor_id=eeb0935f7c073795e979bff401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8634005ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | INFO flwr 2024-07-15 06:28:23,857 | server.py:238 | aggregate_fit: received 0 results and 2 failures
debug | INFO flwr 2024-07-15 06:28:23,973 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 2.074227277189493)
debug | INFO flwr 2024-07-15 06:28:23,973 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 06:29:24,813 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 06:29:28,594 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26501293671.0, 'CPU': 13.0, 'object_store_memory': 13250646835.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0}
debug | INFO flwr 2024-07-15 06:29:28,594 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 06:29:28,594 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 06:29:28,611 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 06:29:28,612 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 06:29:28,612 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 06:29:41,549 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 06:29:41,549 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 06:29:41,662 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-15 06:29:41,663 | server.py:110 | 
debug | INFO flwr 2024-07-15 06:29:41,663 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 06:29:41,663 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 06:31:29,810 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-15 06:31:30,222 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 06:31:30,749 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 109.08660912327468)
debug | INFO flwr 2024-07-15 06:31:30,750 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 06:31:38,231 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-15 06:31:38,231 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 06:31:38,231 | server.py:110 | 
debug | INFO flwr 2024-07-15 06:31:38,231 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-15 06:31:38,231 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 06:32:55,190 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 06:32:59,031 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26723846555.0, 'object_store_memory': 13361923276.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'node:__internal_head__': 1.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-15 06:32:59,032 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 06:32:59,032 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 06:32:59,050 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 06:32:59,050 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 06:32:59,050 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 06:33:12,110 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 06:33:12,110 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 06:33:12,224 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-15 06:33:12,224 | server.py:110 | 
debug | INFO flwr 2024-07-15 06:33:12,224 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 06:33:12,225 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 06:48:21,058 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 06:48:24,836 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26718742119.0, 'object_store_memory': 13359371059.0, 'CPU': 13.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-15 06:48:24,837 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 06:48:24,837 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 06:48:24,855 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 06:48:24,856 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 06:48:24,856 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 06:48:30,535 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=381459, ip=172.17.0.3, actor_id=6fa6b88c4ed6fa67f516ecaa01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff4785a5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = load_partition(self.cid)
NameError: name 'load_partition' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=381459, ip=172.17.0.3, actor_id=6fa6b88c4ed6fa67f516ecaa01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff4785a5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'load_partition' is not defined

debug | ERROR flwr 2024-07-15 06:48:30,535 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=381459, ip=172.17.0.3, actor_id=6fa6b88c4ed6fa67f516ecaa01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff4785a5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = load_partition(self.cid)
NameError: name 'load_partition' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=381459, ip=172.17.0.3, actor_id=6fa6b88c4ed6fa67f516ecaa01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff4785a5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'load_partition' is not defined
debug | ERROR flwr 2024-07-15 06:48:30,535 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=381459, ip=172.17.0.3, actor_id=6fa6b88c4ed6fa67f516ecaa01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff4785a5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = load_partition(self.cid)
NameError: name 'load_partition' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=381459, ip=172.17.0.3, actor_id=6fa6b88c4ed6fa67f516ecaa01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff4785a5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'load_partition' is not defined
debug | ERROR flwr 2024-07-15 06:48:30,535 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=381459, ip=172.17.0.3, actor_id=6fa6b88c4ed6fa67f516ecaa01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff4785a5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = load_partition(self.cid)
NameError: name 'load_partition' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=381459, ip=172.17.0.3, actor_id=6fa6b88c4ed6fa67f516ecaa01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff4785a5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'load_partition' is not defined

debug | ERROR flwr 2024-07-15 06:48:30,536 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 06:48:50,584 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 06:48:54,608 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26738948507.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13369474252.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-15 06:48:54,609 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 06:48:54,609 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 06:48:54,627 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 06:48:54,627 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 06:48:54,627 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 06:49:00,287 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=382812, ip=172.17.0.3, actor_id=f20400d27e3b4a90d1d560d401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f10185b1fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = load_partition(self.cid)
NameError: name 'load_partition' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=382812, ip=172.17.0.3, actor_id=f20400d27e3b4a90d1d560d401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f10185b1fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'load_partition' is not defined

debug | ERROR flwr 2024-07-15 06:49:00,288 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=382812, ip=172.17.0.3, actor_id=f20400d27e3b4a90d1d560d401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f10185b1fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = load_partition(self.cid)
NameError: name 'load_partition' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=382812, ip=172.17.0.3, actor_id=f20400d27e3b4a90d1d560d401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f10185b1fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'load_partition' is not defined
debug | ERROR flwr 2024-07-15 06:49:00,288 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=382812, ip=172.17.0.3, actor_id=f20400d27e3b4a90d1d560d401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f10185b1fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = load_partition(self.cid)
NameError: name 'load_partition' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=382812, ip=172.17.0.3, actor_id=f20400d27e3b4a90d1d560d401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f10185b1fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'load_partition' is not defined
debug | ERROR flwr 2024-07-15 06:49:00,289 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=382812, ip=172.17.0.3, actor_id=f20400d27e3b4a90d1d560d401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f10185b1fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = load_partition(self.cid)
NameError: name 'load_partition' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=382812, ip=172.17.0.3, actor_id=f20400d27e3b4a90d1d560d401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f10185b1fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'load_partition' is not defined

debug | ERROR flwr 2024-07-15 06:49:00,289 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 06:49:19,918 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 06:49:22,856 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'CPU': 13.0, 'memory': 26737439540.0, 'object_store_memory': 13368719769.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-15 06:49:22,856 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 06:49:22,856 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 06:49:22,875 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 06:49:22,875 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 06:49:22,875 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 06:49:28,586 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=384180, ip=172.17.0.3, actor_id=368dc6cec5803ed2efa3426901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f25047f5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = load_partition(self.cid)
NameError: name 'load_partition' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=384180, ip=172.17.0.3, actor_id=368dc6cec5803ed2efa3426901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f25047f5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'load_partition' is not defined

debug | ERROR flwr 2024-07-15 06:49:28,587 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=384180, ip=172.17.0.3, actor_id=368dc6cec5803ed2efa3426901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f25047f5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = load_partition(self.cid)
NameError: name 'load_partition' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=384180, ip=172.17.0.3, actor_id=368dc6cec5803ed2efa3426901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f25047f5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'load_partition' is not defined
debug | ERROR flwr 2024-07-15 06:49:28,587 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=384180, ip=172.17.0.3, actor_id=368dc6cec5803ed2efa3426901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f25047f5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = load_partition(self.cid)
NameError: name 'load_partition' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=384180, ip=172.17.0.3, actor_id=368dc6cec5803ed2efa3426901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f25047f5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'load_partition' is not defined
debug | ERROR flwr 2024-07-15 06:49:28,588 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=384180, ip=172.17.0.3, actor_id=368dc6cec5803ed2efa3426901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f25047f5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = load_partition(self.cid)
NameError: name 'load_partition' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=384180, ip=172.17.0.3, actor_id=368dc6cec5803ed2efa3426901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f25047f5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'load_partition' is not defined

debug | ERROR flwr 2024-07-15 06:49:28,588 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 06:50:17,412 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 06:50:21,533 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13378895462.0, 'node:__internal_head__': 1.0, 'CPU': 13.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'memory': 26757790926.0}
debug | INFO flwr 2024-07-15 06:50:21,534 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 06:50:21,534 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 06:50:21,553 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 06:50:21,553 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 06:50:21,553 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 06:50:34,147 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=385640, ip=172.17.0.3, actor_id=9a1663cbb8951fc5534addf601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe51c2fdf90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 98, in __init__
    self.trainloader = DataLoader(train, batch_size = BATCH_SIZE)
NameError: name 'BATCH_SIZE' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=385640, ip=172.17.0.3, actor_id=9a1663cbb8951fc5534addf601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe51c2fdf90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'BATCH_SIZE' is not defined

debug | ERROR flwr 2024-07-15 06:50:34,147 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=385640, ip=172.17.0.3, actor_id=9a1663cbb8951fc5534addf601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe51c2fdf90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 98, in __init__
    self.trainloader = DataLoader(train, batch_size = BATCH_SIZE)
NameError: name 'BATCH_SIZE' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=385640, ip=172.17.0.3, actor_id=9a1663cbb8951fc5534addf601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe51c2fdf90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'BATCH_SIZE' is not defined
debug | ERROR flwr 2024-07-15 06:50:34,147 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=385640, ip=172.17.0.3, actor_id=9a1663cbb8951fc5534addf601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe51c2fdf90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 98, in __init__
    self.trainloader = DataLoader(train, batch_size = BATCH_SIZE)
NameError: name 'BATCH_SIZE' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=385640, ip=172.17.0.3, actor_id=9a1663cbb8951fc5534addf601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe51c2fdf90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'BATCH_SIZE' is not defined
debug | ERROR flwr 2024-07-15 06:50:34,148 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=385640, ip=172.17.0.3, actor_id=9a1663cbb8951fc5534addf601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe51c2fdf90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 98, in __init__
    self.trainloader = DataLoader(train, batch_size = BATCH_SIZE)
NameError: name 'BATCH_SIZE' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=385640, ip=172.17.0.3, actor_id=9a1663cbb8951fc5534addf601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe51c2fdf90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'BATCH_SIZE' is not defined

debug | ERROR flwr 2024-07-15 06:50:34,148 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 06:50:56,700 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 06:51:13,501 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 06:51:17,352 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13378411315.0, 'memory': 26756822631.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-15 06:51:17,353 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 06:51:17,353 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 06:51:17,373 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 06:51:17,373 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 06:51:17,373 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 06:51:30,160 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 06:51:30,160 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-15 06:51:30,272 | app.py:328 | name 'evaluateEveryRound' is not defined
debug | ERROR flwr 2024-07-15 06:51:30,273 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/fedSSL/model.py", line 181, in evaluate
    if not evaluateEveryRound:
NameError: name 'evaluateEveryRound' is not defined

debug | ERROR flwr 2024-07-15 06:51:30,273 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 06:51:52,995 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 06:51:56,827 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26720287950.0, 'CPU': 13.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13360143974.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-15 06:51:56,827 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 06:51:56,827 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 06:51:56,843 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 06:51:56,843 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 06:51:56,843 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 06:52:09,526 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 06:52:09,526 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-15 06:52:09,640 | app.py:328 | name 'evaluateEveryRound' is not defined
debug | ERROR flwr 2024-07-15 06:52:09,641 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/fedSSL/model.py", line 181, in evaluate
    if not evaluateEveryRound:
NameError: name 'evaluateEveryRound' is not defined

debug | ERROR flwr 2024-07-15 06:52:09,641 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 06:52:31,986 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 06:52:35,865 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 26757287118.0, 'CPU': 13.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'object_store_memory': 13378643558.0}
debug | INFO flwr 2024-07-15 06:52:35,865 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 06:52:35,865 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 06:52:35,885 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 06:52:35,886 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 06:52:35,886 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 06:52:48,478 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 06:52:48,479 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-15 06:52:48,585 | app.py:328 | name 'evaluateEveryRound' is not defined
debug | ERROR flwr 2024-07-15 06:52:48,586 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/fedSSL/model.py", line 181, in evaluate
    if not evaluateEveryRound:
NameError: name 'evaluateEveryRound' is not defined

debug | ERROR flwr 2024-07-15 06:52:48,587 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 06:53:11,246 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 06:53:14,202 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 13378617753.0, 'CPU': 13.0, 'memory': 26757235508.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0}
debug | INFO flwr 2024-07-15 06:53:14,203 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 06:53:14,203 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 06:53:14,222 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 06:53:14,222 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 06:53:14,222 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 06:53:27,491 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 06:53:27,491 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-15 06:53:27,594 | app.py:328 | name 'evaluateEveryRound' is not defined
debug | ERROR flwr 2024-07-15 06:53:27,595 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/fedSSL/model.py", line 181, in evaluate
    if not evaluateEveryRound:
NameError: name 'evaluateEveryRound' is not defined

debug | ERROR flwr 2024-07-15 06:53:27,595 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 06:53:49,819 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 06:53:53,639 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'CPU': 13.0, 'memory': 26756173824.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'object_store_memory': 13378086912.0}
debug | INFO flwr 2024-07-15 06:53:53,639 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 06:53:53,640 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 06:53:53,655 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 06:53:53,655 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 06:53:53,655 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 06:54:06,391 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 06:54:06,391 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-15 06:54:06,499 | app.py:328 | name 'evaluateEveryRound' is not defined
debug | ERROR flwr 2024-07-15 06:54:06,500 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/fedSSL/model.py", line 181, in evaluate
    if not evaluateEveryRound:
NameError: name 'evaluateEveryRound' is not defined

debug | ERROR flwr 2024-07-15 06:54:06,500 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 06:54:29,233 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 06:54:32,132 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13368396595.0, 'memory': 26736793191.0, 'CPU': 13.0, 'node:__internal_head__': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-15 06:54:32,133 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 06:54:32,133 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 06:54:32,150 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 06:54:32,150 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 06:54:32,150 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 06:54:44,708 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 06:54:44,708 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-15 06:54:44,824 | app.py:328 | name 'evaluateEveryRound' is not defined
debug | ERROR flwr 2024-07-15 06:54:44,825 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/fedSSL/model.py", line 181, in evaluate
    if not evaluateEveryRound:
NameError: name 'evaluateEveryRound' is not defined

debug | ERROR flwr 2024-07-15 06:54:44,825 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 06:55:08,194 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 06:55:11,992 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13359463219.0, 'memory': 26718926439.0, 'node:__internal_head__': 1.0, 'CPU': 13.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-15 06:55:11,993 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 06:55:11,993 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 06:55:12,015 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 06:55:12,015 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 06:55:12,015 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 06:55:23,817 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=395832, ip=172.17.0.3, actor_id=7fd76ae178957aa61edbc56901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f4c305b9f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=395832, ip=172.17.0.3, actor_id=7fd76ae178957aa61edbc56901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f4c305b9f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 06:55:23,817 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=395832, ip=172.17.0.3, actor_id=7fd76ae178957aa61edbc56901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f4c305b9f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=395832, ip=172.17.0.3, actor_id=7fd76ae178957aa61edbc56901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f4c305b9f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 06:55:23,817 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=395832, ip=172.17.0.3, actor_id=7fd76ae178957aa61edbc56901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f4c305b9f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=395832, ip=172.17.0.3, actor_id=7fd76ae178957aa61edbc56901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f4c305b9f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 06:55:23,819 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=395832, ip=172.17.0.3, actor_id=7fd76ae178957aa61edbc56901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f4c305b9f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=395832, ip=172.17.0.3, actor_id=7fd76ae178957aa61edbc56901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f4c305b9f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 06:55:23,819 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 06:55:47,918 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 06:55:50,812 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13378649702.0, 'memory': 26757299406.0, 'CPU': 13.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0}
debug | INFO flwr 2024-07-15 06:55:50,813 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 06:55:50,813 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 06:55:50,828 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 06:55:50,828 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 06:55:50,828 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 06:56:03,509 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 06:56:03,509 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-15 06:56:03,629 | app.py:328 | name 'evaluateEveryRound' is not defined
debug | ERROR flwr 2024-07-15 06:56:03,631 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/fedSSL/model.py", line 181, in evaluate
    if not evaluateEveryRound:
NameError: name 'evaluateEveryRound' is not defined

debug | ERROR flwr 2024-07-15 06:56:03,631 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 06:56:27,464 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 06:56:31,323 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26757690164.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13378845081.0, 'CPU': 13.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-15 06:56:31,323 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 06:56:31,323 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 06:56:31,341 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 06:56:31,341 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 06:56:31,341 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 06:56:43,467 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=398649, ip=172.17.0.3, actor_id=a35648e9c58f0e4e3bd4f41601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f2fe41b5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=398649, ip=172.17.0.3, actor_id=a35648e9c58f0e4e3bd4f41601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f2fe41b5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 06:56:43,467 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=398649, ip=172.17.0.3, actor_id=a35648e9c58f0e4e3bd4f41601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f2fe41b5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=398649, ip=172.17.0.3, actor_id=a35648e9c58f0e4e3bd4f41601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f2fe41b5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 06:56:43,467 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=398649, ip=172.17.0.3, actor_id=a35648e9c58f0e4e3bd4f41601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f2fe41b5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=398649, ip=172.17.0.3, actor_id=a35648e9c58f0e4e3bd4f41601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f2fe41b5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 06:56:43,468 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=398649, ip=172.17.0.3, actor_id=a35648e9c58f0e4e3bd4f41601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f2fe41b5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=398649, ip=172.17.0.3, actor_id=a35648e9c58f0e4e3bd4f41601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f2fe41b5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 06:56:43,468 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 06:57:06,822 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 06:57:09,698 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13378813132.0, 'node:__internal_head__': 1.0, 'memory': 26757626267.0, 'CPU': 13.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-15 06:57:09,698 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 06:57:09,698 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 06:57:09,714 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 06:57:09,714 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 06:57:09,714 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 06:57:22,272 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=400065, ip=172.17.0.3, actor_id=278402293ae21a2952e0f4b501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fb8880fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=400065, ip=172.17.0.3, actor_id=278402293ae21a2952e0f4b501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fb8880fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 06:57:22,273 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=400065, ip=172.17.0.3, actor_id=278402293ae21a2952e0f4b501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fb8880fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=400065, ip=172.17.0.3, actor_id=278402293ae21a2952e0f4b501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fb8880fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 06:57:22,273 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=400065, ip=172.17.0.3, actor_id=278402293ae21a2952e0f4b501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fb8880fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=400065, ip=172.17.0.3, actor_id=278402293ae21a2952e0f4b501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fb8880fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 06:57:22,274 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=400065, ip=172.17.0.3, actor_id=278402293ae21a2952e0f4b501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fb8880fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=400065, ip=172.17.0.3, actor_id=278402293ae21a2952e0f4b501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fb8880fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 06:57:22,275 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 07:02:56,727 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 07:03:00,513 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26736680142.0, 'CPU': 13.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'object_store_memory': 13368340070.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-15 07:03:00,513 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 07:03:00,513 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 07:03:00,534 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 07:03:00,534 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 07:03:00,534 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 07:03:13,551 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 07:03:13,551 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-15 07:03:13,657 | app.py:328 | name 'evaluateEveryRound' is not defined
debug | ERROR flwr 2024-07-15 07:03:13,657 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/fedSSL/model.py", line 181, in evaluate
    if not evaluateEveryRound:
NameError: name 'evaluateEveryRound' is not defined

debug | ERROR flwr 2024-07-15 07:03:13,658 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 07:04:12,907 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 07:04:16,688 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'memory': 26736658023.0, 'node:__internal_head__': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'object_store_memory': 13368329011.0}
debug | INFO flwr 2024-07-15 07:04:16,688 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 07:04:16,688 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 07:04:16,703 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 07:04:16,703 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 07:04:16,704 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 07:05:04,206 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 07:05:07,031 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26707719783.0, 'CPU': 13.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13353859891.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-15 07:05:07,032 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 07:05:07,032 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 07:05:07,049 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 07:05:07,050 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 07:05:07,050 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 07:05:21,143 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 07:05:21,143 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 07:05:21,257 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-15 07:05:21,257 | server.py:110 | 
debug | INFO flwr 2024-07-15 07:05:21,257 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 07:05:21,257 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | ERROR flwr 2024-07-15 07:05:22,250 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=404504, ip=172.17.0.3, actor_id=89f24177572141de27fbfbbd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5db83c5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=404504, ip=172.17.0.3, actor_id=89f24177572141de27fbfbbd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5db83c5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 07:05:22,251 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=404504, ip=172.17.0.3, actor_id=89f24177572141de27fbfbbd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5db83c5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=404504, ip=172.17.0.3, actor_id=89f24177572141de27fbfbbd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5db83c5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 07:06:10,867 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=404504, ip=172.17.0.3, actor_id=89f24177572141de27fbfbbd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5db83c5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    data = [(useResnet18), utils.NUM_CLIENTS, int(round), "train", results['Loss'], -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=404504, ip=172.17.0.3, actor_id=89f24177572141de27fbfbbd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5db83c5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined

debug | ERROR flwr 2024-07-15 07:06:10,867 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=404504, ip=172.17.0.3, actor_id=89f24177572141de27fbfbbd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5db83c5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    data = [(useResnet18), utils.NUM_CLIENTS, int(round), "train", results['Loss'], -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=404504, ip=172.17.0.3, actor_id=89f24177572141de27fbfbbd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5db83c5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined
debug | INFO flwr 2024-07-15 07:07:01,227 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 07:07:05,091 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'object_store_memory': 13244172288.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'memory': 26488344576.0}
debug | INFO flwr 2024-07-15 07:07:05,092 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 07:07:05,092 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 07:07:05,109 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 07:07:05,110 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 07:07:05,110 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 07:07:18,146 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 07:07:18,147 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 07:07:18,266 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-15 07:07:18,266 | server.py:110 | 
debug | INFO flwr 2024-07-15 07:07:18,266 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 07:07:18,266 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | ERROR flwr 2024-07-15 07:08:12,299 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    data = [(useResnet18), utils.NUM_CLIENTS, int(round), "train", results['Loss'], -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined

debug | ERROR flwr 2024-07-15 07:08:12,299 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    data = [(useResnet18), utils.NUM_CLIENTS, int(round), "train", results['Loss'], -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined
debug | ERROR flwr 2024-07-15 07:08:13,329 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 07:08:13,330 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 07:09:07,631 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    data = [(useResnet18), utils.NUM_CLIENTS, int(round), "train", results['Loss'], -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined

debug | ERROR flwr 2024-07-15 07:09:07,631 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    data = [(useResnet18), utils.NUM_CLIENTS, int(round), "train", results['Loss'], -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined
debug | ERROR flwr 2024-07-15 07:10:03,217 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    data = [(useResnet18), utils.NUM_CLIENTS, int(round), "train", results['Loss'], -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined

debug | ERROR flwr 2024-07-15 07:10:03,217 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    data = [(useResnet18), utils.NUM_CLIENTS, int(round), "train", results['Loss'], -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined
debug | ERROR flwr 2024-07-15 07:10:55,815 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    data = [(useResnet18), utils.NUM_CLIENTS, int(round), "train", results['Loss'], -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined

debug | ERROR flwr 2024-07-15 07:10:55,815 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    data = [(useResnet18), utils.NUM_CLIENTS, int(round), "train", results['Loss'], -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined
debug | ERROR flwr 2024-07-15 07:11:51,748 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    data = [(useResnet18), utils.NUM_CLIENTS, int(round), "train", results['Loss'], -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined

debug | ERROR flwr 2024-07-15 07:11:51,749 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    data = [(useResnet18), utils.NUM_CLIENTS, int(round), "train", results['Loss'], -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined
debug | INFO flwr 2024-07-15 07:11:51,749 | server.py:238 | aggregate_fit: received 0 results and 6 failures
debug | INFO flwr 2024-07-15 07:11:51,860 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 273.5939899100922)
debug | INFO flwr 2024-07-15 07:11:51,860 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | ERROR flwr 2024-07-15 07:11:56,044 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 134, in evaluate
    data = [ (useResnet18), utils.NUM_CLIENTS, int(round), "client test", loss, -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined

debug | ERROR flwr 2024-07-15 07:11:56,045 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 134, in evaluate
    data = [ (useResnet18), utils.NUM_CLIENTS, int(round), "client test", loss, -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined
debug | ERROR flwr 2024-07-15 07:11:59,964 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 134, in evaluate
    data = [ (useResnet18), utils.NUM_CLIENTS, int(round), "client test", loss, -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined

debug | ERROR flwr 2024-07-15 07:11:59,964 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 134, in evaluate
    data = [ (useResnet18), utils.NUM_CLIENTS, int(round), "client test", loss, -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined
debug | ERROR flwr 2024-07-15 07:12:03,922 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 134, in evaluate
    data = [ (useResnet18), utils.NUM_CLIENTS, int(round), "client test", loss, -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined

debug | ERROR flwr 2024-07-15 07:12:03,922 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 134, in evaluate
    data = [ (useResnet18), utils.NUM_CLIENTS, int(round), "client test", loss, -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined
debug | ERROR flwr 2024-07-15 07:12:07,946 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 134, in evaluate
    data = [ (useResnet18), utils.NUM_CLIENTS, int(round), "client test", loss, -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined

debug | ERROR flwr 2024-07-15 07:12:07,946 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 134, in evaluate
    data = [ (useResnet18), utils.NUM_CLIENTS, int(round), "client test", loss, -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined
debug | ERROR flwr 2024-07-15 07:12:08,856 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 07:12:08,857 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 07:12:12,370 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 134, in evaluate
    data = [ (useResnet18), utils.NUM_CLIENTS, int(round), "client test", loss, -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined

debug | ERROR flwr 2024-07-15 07:12:12,370 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 134, in evaluate
    data = [ (useResnet18), utils.NUM_CLIENTS, int(round), "client test", loss, -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined
debug | INFO flwr 2024-07-15 07:12:12,371 | server.py:190 | aggregate_evaluate: received 0 results and 6 failures
debug | INFO flwr 2024-07-15 07:12:12,371 | server.py:110 | 
debug | INFO flwr 2024-07-15 07:12:12,371 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-15 07:12:12,371 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | ERROR flwr 2024-07-15 07:13:07,006 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    data = [(useResnet18), utils.NUM_CLIENTS, int(round), "train", results['Loss'], -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined

debug | ERROR flwr 2024-07-15 07:13:07,006 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    data = [(useResnet18), utils.NUM_CLIENTS, int(round), "train", results['Loss'], -1, self.cid]
NameError: name 'useResnet18' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'useResnet18' is not defined
debug | ERROR flwr 2024-07-15 07:13:07,981 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 07:13:07,982 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=406564, ip=172.17.0.3, actor_id=6ec26526b9d9fb72b03e534a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f8ab47f5ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | INFO flwr 2024-07-15 07:13:29,372 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 07:13:33,270 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'object_store_memory': 13255832371.0, 'memory': 26511664743.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-15 07:13:33,271 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 07:13:33,271 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 07:13:33,289 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 07:13:33,289 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 07:13:33,290 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 07:13:46,037 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 07:13:46,037 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 07:13:46,147 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-15 07:13:46,147 | server.py:110 | 
debug | INFO flwr 2024-07-15 07:13:46,147 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 07:13:46,147 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | ERROR flwr 2024-07-15 07:14:41,121 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:14:41,121 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:15:32,979 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:15:32,980 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:15:33,796 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 07:15:33,797 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 07:16:27,829 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:16:27,830 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:17:19,616 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:17:19,616 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:18:14,920 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:18:14,920 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | INFO flwr 2024-07-15 07:18:14,921 | server.py:238 | aggregate_fit: received 0 results and 6 failures
debug | INFO flwr 2024-07-15 07:18:15,039 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 268.89192847022787)
debug | INFO flwr 2024-07-15 07:18:15,039 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | ERROR flwr 2024-07-15 07:18:16,045 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 07:18:16,045 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 07:18:19,728 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:18:19,728 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:18:23,344 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:18:23,345 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:18:27,023 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:18:27,024 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:18:30,943 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:18:30,943 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:18:34,409 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:18:34,409 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | INFO flwr 2024-07-15 07:18:34,409 | server.py:190 | aggregate_evaluate: received 0 results and 6 failures
debug | INFO flwr 2024-07-15 07:18:34,410 | server.py:110 | 
debug | INFO flwr 2024-07-15 07:18:34,410 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-15 07:18:34,410 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | ERROR flwr 2024-07-15 07:19:29,960 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:19:29,960 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:19:30,778 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 07:19:30,778 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 07:20:22,742 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:20:22,743 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=410797, ip=172.17.0.3, actor_id=a3f0a18621f4acacdd7b24e301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f32703b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | INFO flwr 2024-07-15 07:21:37,288 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 07:21:41,140 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 26512519988.0, 'object_store_memory': 13256259993.0, 'CPU': 13.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0}
debug | INFO flwr 2024-07-15 07:21:41,140 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 07:21:41,140 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 07:21:41,158 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 07:21:41,158 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 07:21:41,158 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 07:21:46,889 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=415368, ip=172.17.0.3, actor_id=65abf46483befccaed51a7ad01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fde94272020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 55, in load_partition
    client_fds = FederatedDataset(dataset="cifar10", partitioners={'train': IidPartitioner(utils.NUM_CLIENTS)})
NameError: name 'utils' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=415368, ip=172.17.0.3, actor_id=65abf46483befccaed51a7ad01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fde94272020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'utils' is not defined

debug | ERROR flwr 2024-07-15 07:21:46,889 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=415368, ip=172.17.0.3, actor_id=65abf46483befccaed51a7ad01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fde94272020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 55, in load_partition
    client_fds = FederatedDataset(dataset="cifar10", partitioners={'train': IidPartitioner(utils.NUM_CLIENTS)})
NameError: name 'utils' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=415368, ip=172.17.0.3, actor_id=65abf46483befccaed51a7ad01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fde94272020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'utils' is not defined
debug | ERROR flwr 2024-07-15 07:21:46,889 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=415368, ip=172.17.0.3, actor_id=65abf46483befccaed51a7ad01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fde94272020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 55, in load_partition
    client_fds = FederatedDataset(dataset="cifar10", partitioners={'train': IidPartitioner(utils.NUM_CLIENTS)})
NameError: name 'utils' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=415368, ip=172.17.0.3, actor_id=65abf46483befccaed51a7ad01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fde94272020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'utils' is not defined
debug | ERROR flwr 2024-07-15 07:21:46,890 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=415368, ip=172.17.0.3, actor_id=65abf46483befccaed51a7ad01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fde94272020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 55, in load_partition
    client_fds = FederatedDataset(dataset="cifar10", partitioners={'train': IidPartitioner(utils.NUM_CLIENTS)})
NameError: name 'utils' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=415368, ip=172.17.0.3, actor_id=65abf46483befccaed51a7ad01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fde94272020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'utils' is not defined

debug | ERROR flwr 2024-07-15 07:21:46,891 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 07:26:30,864 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 07:26:34,667 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13375698124.0, 'CPU': 13.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'node:__internal_head__': 1.0, 'memory': 26751396251.0}
debug | INFO flwr 2024-07-15 07:26:34,667 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 07:26:34,667 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 07:26:34,685 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 07:26:34,685 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 07:26:34,686 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 07:26:40,650 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=416785, ip=172.17.0.3, actor_id=0b3222dc1cd2142412fa292301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f53cc3b5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
TypeError: load_partition() missing 1 required positional argument: 'partitions'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=416785, ip=172.17.0.3, actor_id=0b3222dc1cd2142412fa292301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f53cc3b5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: load_partition() missing 1 required positional argument: 'partitions'

debug | ERROR flwr 2024-07-15 07:26:40,650 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=416785, ip=172.17.0.3, actor_id=0b3222dc1cd2142412fa292301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f53cc3b5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
TypeError: load_partition() missing 1 required positional argument: 'partitions'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=416785, ip=172.17.0.3, actor_id=0b3222dc1cd2142412fa292301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f53cc3b5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: load_partition() missing 1 required positional argument: 'partitions'
debug | ERROR flwr 2024-07-15 07:26:40,650 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=416785, ip=172.17.0.3, actor_id=0b3222dc1cd2142412fa292301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f53cc3b5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
TypeError: load_partition() missing 1 required positional argument: 'partitions'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=416785, ip=172.17.0.3, actor_id=0b3222dc1cd2142412fa292301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f53cc3b5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: load_partition() missing 1 required positional argument: 'partitions'
debug | ERROR flwr 2024-07-15 07:26:40,651 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=416785, ip=172.17.0.3, actor_id=0b3222dc1cd2142412fa292301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f53cc3b5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
TypeError: load_partition() missing 1 required positional argument: 'partitions'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=416785, ip=172.17.0.3, actor_id=0b3222dc1cd2142412fa292301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f53cc3b5f90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: load_partition() missing 1 required positional argument: 'partitions'

debug | ERROR flwr 2024-07-15 07:26:40,651 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 07:29:04,747 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 07:29:08,527 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13355666227.0, 'memory': 26711332455.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-15 07:29:08,528 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 07:29:08,528 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 07:29:08,545 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 07:29:08,546 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 07:29:08,546 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 07:29:21,300 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 07:29:21,300 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 07:29:21,408 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-15 07:29:21,408 | server.py:110 | 
debug | INFO flwr 2024-07-15 07:29:21,408 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 07:29:21,408 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 07:30:27,024 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 07:30:30,810 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13253613158.0, 'node:__internal_head__': 1.0, 'memory': 26507226318.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-15 07:30:30,810 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 07:30:30,810 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 07:30:30,825 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 07:30:30,825 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 07:30:30,826 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 07:30:43,369 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 07:30:43,369 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 07:30:43,478 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-15 07:30:43,478 | server.py:110 | 
debug | INFO flwr 2024-07-15 07:30:43,478 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 07:30:43,479 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | ERROR flwr 2024-07-15 07:31:35,657 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:31:35,658 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:32:27,683 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:32:27,684 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:33:23,017 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:33:23,017 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:33:23,922 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 07:33:23,923 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 07:34:17,087 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:34:17,088 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:35:12,888 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:35:12,888 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | INFO flwr 2024-07-15 07:35:12,889 | server.py:238 | aggregate_fit: received 0 results and 6 failures
debug | INFO flwr 2024-07-15 07:35:12,996 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 269.5180562431924)
debug | INFO flwr 2024-07-15 07:35:12,997 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | ERROR flwr 2024-07-15 07:35:17,326 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:35:17,326 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:35:21,445 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:35:21,445 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:35:25,717 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:35:25,717 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:35:29,502 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:35:29,502 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:35:30,291 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 07:35:30,291 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 07:35:33,702 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:35:33,703 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | INFO flwr 2024-07-15 07:35:33,703 | server.py:190 | aggregate_evaluate: received 0 results and 6 failures
debug | INFO flwr 2024-07-15 07:35:33,704 | server.py:110 | 
debug | INFO flwr 2024-07-15 07:35:33,704 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-15 07:35:33,704 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | ERROR flwr 2024-07-15 07:36:29,506 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:36:29,506 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:36:30,435 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 07:36:30,435 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 07:37:23,543 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:37:23,543 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:38:19,483 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:38:19,484 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:39:15,485 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(utils.datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:39:15,485 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(utils.datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:40:08,754 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(utils.datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:40:08,754 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 119, in fit
    with open(utils.datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | INFO flwr 2024-07-15 07:40:08,755 | server.py:238 | aggregate_fit: received 0 results and 6 failures
debug | INFO flwr 2024-07-15 07:40:08,859 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 565.3806148660369)
debug | INFO flwr 2024-07-15 07:40:08,859 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | ERROR flwr 2024-07-15 07:40:12,573 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(utils.datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:40:12,573 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(utils.datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:40:16,061 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(utils.datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:40:16,061 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(utils.datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:40:19,662 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(utils.datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:40:19,662 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(utils.datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:40:23,386 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(utils.datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:40:23,386 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(utils.datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | ERROR flwr 2024-07-15 07:40:24,444 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 07:40:24,444 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 07:40:27,897 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(utils.datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined

debug | ERROR flwr 2024-07-15 07:40:27,898 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 136, in evaluate
    with open(utils.datalog_path, 'a', newline='') as file:
NameError: name 'datalog_path' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=420031, ip=172.17.0.3, actor_id=a47c7cadd7ddc000ff2e6ffe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fdae4036020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'datalog_path' is not defined
debug | INFO flwr 2024-07-15 07:40:27,898 | server.py:190 | aggregate_evaluate: received 0 results and 6 failures
debug | INFO flwr 2024-07-15 07:40:27,898 | server.py:110 | 
debug | INFO flwr 2024-07-15 07:40:27,899 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-15 07:40:27,899 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 07:41:02,582 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 07:41:05,480 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26508204443.0, 'object_store_memory': 13254102220.0, 'node:__internal_head__': 1.0, 'CPU': 13.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-15 07:41:05,481 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 07:41:05,481 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 07:41:05,500 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 07:41:05,500 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 07:41:05,500 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 07:41:18,879 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 07:41:18,879 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 07:41:18,991 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-15 07:41:18,991 | server.py:110 | 
debug | INFO flwr 2024-07-15 07:41:18,991 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 07:41:18,991 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | ERROR flwr 2024-07-15 07:41:20,155 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=426285, ip=172.17.0.3, actor_id=2d6acc47abf488cf1164777801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fd4642e9ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=426285, ip=172.17.0.3, actor_id=2d6acc47abf488cf1164777801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fd4642e9ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 07:41:20,155 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=426285, ip=172.17.0.3, actor_id=2d6acc47abf488cf1164777801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fd4642e9ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 56, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=426285, ip=172.17.0.3, actor_id=2d6acc47abf488cf1164777801000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fd4642e9ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | INFO flwr 2024-07-15 07:42:40,824 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 07:42:44,656 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13144253644.0, 'memory': 26288507291.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'node:__internal_head__': 1.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-15 07:42:44,656 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 07:42:44,656 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 07:42:44,676 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 07:42:44,676 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 07:42:44,676 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 07:42:57,142 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 07:42:57,142 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 07:42:57,253 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-15 07:42:57,254 | server.py:110 | 
debug | INFO flwr 2024-07-15 07:42:57,254 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 07:42:57,254 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 07:48:43,407 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 07:48:47,225 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'object_store_memory': 13356570624.0, 'memory': 26713141248.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-15 07:48:47,225 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 07:48:47,225 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 07:48:47,241 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 07:48:47,241 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 07:48:47,241 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 07:48:53,028 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=432081, ip=172.17.0.3, actor_id=9cf783116ef1a158ad479e2201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f96e8005ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 55, in load_partition
    print("PARTS:", partitions)
NameError: name 'partitions' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=432081, ip=172.17.0.3, actor_id=9cf783116ef1a158ad479e2201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f96e8005ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'partitions' is not defined

debug | ERROR flwr 2024-07-15 07:48:53,028 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=432081, ip=172.17.0.3, actor_id=9cf783116ef1a158ad479e2201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f96e8005ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 55, in load_partition
    print("PARTS:", partitions)
NameError: name 'partitions' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=432081, ip=172.17.0.3, actor_id=9cf783116ef1a158ad479e2201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f96e8005ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'partitions' is not defined
debug | ERROR flwr 2024-07-15 07:48:53,029 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=432081, ip=172.17.0.3, actor_id=9cf783116ef1a158ad479e2201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f96e8005ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 55, in load_partition
    print("PARTS:", partitions)
NameError: name 'partitions' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=432081, ip=172.17.0.3, actor_id=9cf783116ef1a158ad479e2201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f96e8005ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'partitions' is not defined
debug | ERROR flwr 2024-07-15 07:48:53,030 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=432081, ip=172.17.0.3, actor_id=9cf783116ef1a158ad479e2201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f96e8005ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 55, in load_partition
    print("PARTS:", partitions)
NameError: name 'partitions' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=432081, ip=172.17.0.3, actor_id=9cf783116ef1a158ad479e2201000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f96e8005ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'partitions' is not defined

debug | ERROR flwr 2024-07-15 07:48:53,030 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 07:49:29,183 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 07:49:32,200 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'object_store_memory': 13347803136.0, 'memory': 26695606272.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-15 07:49:32,200 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 07:49:32,200 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 07:49:32,217 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 07:49:32,218 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 07:49:32,218 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 07:49:50,057 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 07:49:50,057 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 07:49:50,167 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-15 07:49:50,167 | server.py:110 | 
debug | INFO flwr 2024-07-15 07:49:50,167 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 07:49:50,168 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | ERROR flwr 2024-07-15 07:52:31,424 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=433475, ip=172.17.0.3, actor_id=0c7b7c04f2c361ddbd74be3601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f632c5ea080>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=433475, ip=172.17.0.3, actor_id=0c7b7c04f2c361ddbd74be3601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f632c5ea080>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 07:52:31,425 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=433475, ip=172.17.0.3, actor_id=0c7b7c04f2c361ddbd74be3601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f632c5ea080>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=433475, ip=172.17.0.3, actor_id=0c7b7c04f2c361ddbd74be3601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f632c5ea080>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | INFO flwr 2024-07-15 07:54:17,131 | server.py:238 | aggregate_fit: received 5 results and 1 failures
debug | WARNING flwr 2024-07-15 07:54:22,137 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 07:54:22,652 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 272.48420814424753)
debug | INFO flwr 2024-07-15 07:54:22,652 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | ERROR flwr 2024-07-15 07:54:38,507 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=433475, ip=172.17.0.3, actor_id=0c7b7c04f2c361ddbd74be3601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f632c5ea080>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=433475, ip=172.17.0.3, actor_id=0c7b7c04f2c361ddbd74be3601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f632c5ea080>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 07:54:38,508 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=433475, ip=172.17.0.3, actor_id=0c7b7c04f2c361ddbd74be3601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f632c5ea080>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=433475, ip=172.17.0.3, actor_id=0c7b7c04f2c361ddbd74be3601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f632c5ea080>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | INFO flwr 2024-07-15 07:54:42,545 | server.py:190 | aggregate_evaluate: received 5 results and 1 failures
debug | WARNING flwr 2024-07-15 07:54:42,545 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 07:54:42,545 | server.py:110 | 
debug | INFO flwr 2024-07-15 07:54:42,545 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-15 07:54:42,545 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | ERROR flwr 2024-07-15 07:56:34,583 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=433475, ip=172.17.0.3, actor_id=0c7b7c04f2c361ddbd74be3601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f632c5ea080>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=433475, ip=172.17.0.3, actor_id=0c7b7c04f2c361ddbd74be3601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f632c5ea080>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 07:56:34,584 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=433475, ip=172.17.0.3, actor_id=0c7b7c04f2c361ddbd74be3601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f632c5ea080>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=433475, ip=172.17.0.3, actor_id=0c7b7c04f2c361ddbd74be3601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f632c5ea080>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | INFO flwr 2024-07-15 07:57:19,083 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 07:57:22,884 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 26355044352.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'object_store_memory': 13177522176.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-15 07:57:22,884 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 07:57:22,884 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 07:57:22,904 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 07:57:22,905 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 07:57:22,905 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 07:57:35,101 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=438315, ip=172.17.0.3, actor_id=2cd33089f778d4e902d45fa001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe81c0b9fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=438315, ip=172.17.0.3, actor_id=2cd33089f778d4e902d45fa001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe81c0b9fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 07:57:35,102 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=438315, ip=172.17.0.3, actor_id=2cd33089f778d4e902d45fa001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe81c0b9fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=438315, ip=172.17.0.3, actor_id=2cd33089f778d4e902d45fa001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe81c0b9fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 07:57:35,102 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=438315, ip=172.17.0.3, actor_id=2cd33089f778d4e902d45fa001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe81c0b9fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=438315, ip=172.17.0.3, actor_id=2cd33089f778d4e902d45fa001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe81c0b9fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 07:57:35,103 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=438315, ip=172.17.0.3, actor_id=2cd33089f778d4e902d45fa001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe81c0b9fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 57, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=438315, ip=172.17.0.3, actor_id=2cd33089f778d4e902d45fa001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe81c0b9fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 07:57:35,104 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 08:03:30,784 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 08:03:34,585 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'CPU': 13.0, 'memory': 26698417767.0, 'object_store_memory': 13349208883.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0}
debug | INFO flwr 2024-07-15 08:03:34,585 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 08:03:34,585 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 08:03:34,604 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 08:03:34,604 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 08:03:34,605 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 08:03:47,109 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=439943, ip=172.17.0.3, actor_id=18979a56c12194e879f9c7e401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f628c709ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 61, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=439943, ip=172.17.0.3, actor_id=18979a56c12194e879f9c7e401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f628c709ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 08:03:47,109 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=439943, ip=172.17.0.3, actor_id=18979a56c12194e879f9c7e401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f628c709ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 61, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=439943, ip=172.17.0.3, actor_id=18979a56c12194e879f9c7e401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f628c709ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 08:03:47,109 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=439943, ip=172.17.0.3, actor_id=18979a56c12194e879f9c7e401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f628c709ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 61, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=439943, ip=172.17.0.3, actor_id=18979a56c12194e879f9c7e401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f628c709ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 08:03:47,110 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=439943, ip=172.17.0.3, actor_id=18979a56c12194e879f9c7e401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f628c709ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 61, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=439943, ip=172.17.0.3, actor_id=18979a56c12194e879f9c7e401000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f628c709ff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 08:03:47,110 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 08:05:26,667 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 08:05:30,517 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 13348984012.0, 'CPU': 13.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'memory': 26697968027.0}
debug | INFO flwr 2024-07-15 08:05:30,517 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 08:05:30,517 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 08:05:30,535 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 08:05:30,536 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 08:05:30,536 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 08:05:42,858 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=441424, ip=172.17.0.3, actor_id=3474c378c95c5564254229ee01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f0a6c1edff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 62, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=441424, ip=172.17.0.3, actor_id=3474c378c95c5564254229ee01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f0a6c1edff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 08:05:42,858 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=441424, ip=172.17.0.3, actor_id=3474c378c95c5564254229ee01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f0a6c1edff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 62, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=441424, ip=172.17.0.3, actor_id=3474c378c95c5564254229ee01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f0a6c1edff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 08:05:42,859 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=441424, ip=172.17.0.3, actor_id=3474c378c95c5564254229ee01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f0a6c1edff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 62, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=441424, ip=172.17.0.3, actor_id=3474c378c95c5564254229ee01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f0a6c1edff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 08:05:42,860 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=441424, ip=172.17.0.3, actor_id=3474c378c95c5564254229ee01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f0a6c1edff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 62, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=441424, ip=172.17.0.3, actor_id=3474c378c95c5564254229ee01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f0a6c1edff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 08:05:42,860 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 08:06:41,401 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 08:06:45,469 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'node:__internal_head__': 1.0, 'memory': 26696542619.0, 'object_store_memory': 13348271308.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-15 08:06:45,469 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 08:06:45,469 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 08:06:45,489 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 08:06:45,489 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 08:06:45,489 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 08:06:58,381 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=442888, ip=172.17.0.3, actor_id=8f733b1001b62cf3924147e501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fa5f81be020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 63, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=442888, ip=172.17.0.3, actor_id=8f733b1001b62cf3924147e501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fa5f81be020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 08:06:58,381 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=442888, ip=172.17.0.3, actor_id=8f733b1001b62cf3924147e501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fa5f81be020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 63, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=442888, ip=172.17.0.3, actor_id=8f733b1001b62cf3924147e501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fa5f81be020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 08:06:58,382 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=442888, ip=172.17.0.3, actor_id=8f733b1001b62cf3924147e501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fa5f81be020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 63, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=442888, ip=172.17.0.3, actor_id=8f733b1001b62cf3924147e501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fa5f81be020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 08:06:58,382 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=442888, ip=172.17.0.3, actor_id=8f733b1001b62cf3924147e501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fa5f81be020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 63, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=442888, ip=172.17.0.3, actor_id=8f733b1001b62cf3924147e501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fa5f81be020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 08:06:58,383 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 08:07:22,023 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 08:07:25,845 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26732716032.0, 'CPU': 13.0, 'object_store_memory': 13366358016.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-15 08:07:25,845 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 08:07:25,845 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 08:07:25,862 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 08:07:25,862 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 08:07:25,862 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 08:07:38,112 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=444316, ip=172.17.0.3, actor_id=82da34f9e342d41a7fccc5c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff3bc3bdf90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 63, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=444316, ip=172.17.0.3, actor_id=82da34f9e342d41a7fccc5c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff3bc3bdf90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 08:07:38,112 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=444316, ip=172.17.0.3, actor_id=82da34f9e342d41a7fccc5c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff3bc3bdf90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 63, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=444316, ip=172.17.0.3, actor_id=82da34f9e342d41a7fccc5c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff3bc3bdf90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 08:07:38,112 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=444316, ip=172.17.0.3, actor_id=82da34f9e342d41a7fccc5c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff3bc3bdf90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 63, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=444316, ip=172.17.0.3, actor_id=82da34f9e342d41a7fccc5c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff3bc3bdf90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 08:07:38,114 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=444316, ip=172.17.0.3, actor_id=82da34f9e342d41a7fccc5c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff3bc3bdf90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 63, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=444316, ip=172.17.0.3, actor_id=82da34f9e342d41a7fccc5c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7ff3bc3bdf90>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 08:07:38,114 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 08:08:18,427 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 08:08:21,341 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'memory': 26732032820.0, 'object_store_memory': 13366016409.0}
debug | INFO flwr 2024-07-15 08:08:21,342 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 08:08:21,342 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 08:08:21,361 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 08:08:21,361 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 08:08:21,361 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 08:08:34,882 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=445793, ip=172.17.0.3, actor_id=3d466e69f6f530bf1fcb5d4701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f45246edfc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 63, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=445793, ip=172.17.0.3, actor_id=3d466e69f6f530bf1fcb5d4701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f45246edfc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 08:08:34,883 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=445793, ip=172.17.0.3, actor_id=3d466e69f6f530bf1fcb5d4701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f45246edfc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 63, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=445793, ip=172.17.0.3, actor_id=3d466e69f6f530bf1fcb5d4701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f45246edfc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 08:08:34,883 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=445793, ip=172.17.0.3, actor_id=3d466e69f6f530bf1fcb5d4701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f45246edfc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 63, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=445793, ip=172.17.0.3, actor_id=3d466e69f6f530bf1fcb5d4701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f45246edfc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 08:08:34,884 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=445793, ip=172.17.0.3, actor_id=3d466e69f6f530bf1fcb5d4701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f45246edfc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 63, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=445793, ip=172.17.0.3, actor_id=3d466e69f6f530bf1fcb5d4701000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f45246edfc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 08:08:34,884 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 08:11:27,203 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 08:11:30,999 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26683210139.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'object_store_memory': 13341605068.0, 'node:__internal_head__': 1.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-15 08:11:30,999 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 08:11:30,999 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 08:11:31,015 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 08:11:31,015 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 08:11:31,015 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 08:11:36,634 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=447329, ip=172.17.0.3, actor_id=cfdb229ecd9808b8d1209ea901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f05541b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 59, in load_partition
    print('NUM CLIENTS WHEN NONE', NUM_CLIENTS)
NameError: name 'NUM_CLIENTS' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=447329, ip=172.17.0.3, actor_id=cfdb229ecd9808b8d1209ea901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f05541b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'NUM_CLIENTS' is not defined

debug | ERROR flwr 2024-07-15 08:11:36,634 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=447329, ip=172.17.0.3, actor_id=cfdb229ecd9808b8d1209ea901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f05541b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 59, in load_partition
    print('NUM CLIENTS WHEN NONE', NUM_CLIENTS)
NameError: name 'NUM_CLIENTS' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=447329, ip=172.17.0.3, actor_id=cfdb229ecd9808b8d1209ea901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f05541b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'NUM_CLIENTS' is not defined
debug | ERROR flwr 2024-07-15 08:11:36,634 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=447329, ip=172.17.0.3, actor_id=cfdb229ecd9808b8d1209ea901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f05541b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 59, in load_partition
    print('NUM CLIENTS WHEN NONE', NUM_CLIENTS)
NameError: name 'NUM_CLIENTS' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=447329, ip=172.17.0.3, actor_id=cfdb229ecd9808b8d1209ea901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f05541b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'NUM_CLIENTS' is not defined
debug | ERROR flwr 2024-07-15 08:11:36,635 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=447329, ip=172.17.0.3, actor_id=cfdb229ecd9808b8d1209ea901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f05541b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 59, in load_partition
    print('NUM CLIENTS WHEN NONE', NUM_CLIENTS)
NameError: name 'NUM_CLIENTS' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=447329, ip=172.17.0.3, actor_id=cfdb229ecd9808b8d1209ea901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f05541b5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'NUM_CLIENTS' is not defined

debug | ERROR flwr 2024-07-15 08:11:36,635 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 08:20:28,021 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 08:20:30,955 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'CPU': 13.0, 'object_store_memory': 13348740710.0, 'memory': 26697481422.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-15 08:20:30,955 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 08:20:30,955 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 08:20:30,974 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 08:20:30,974 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 08:20:30,975 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 08:20:43,237 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=448944, ip=172.17.0.3, actor_id=4fbc7e579e18960acc481abb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fc9b04b1fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 63, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=448944, ip=172.17.0.3, actor_id=4fbc7e579e18960acc481abb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fc9b04b1fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 08:20:43,237 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=448944, ip=172.17.0.3, actor_id=4fbc7e579e18960acc481abb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fc9b04b1fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 63, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=448944, ip=172.17.0.3, actor_id=4fbc7e579e18960acc481abb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fc9b04b1fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 08:20:43,238 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=448944, ip=172.17.0.3, actor_id=4fbc7e579e18960acc481abb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fc9b04b1fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 63, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=448944, ip=172.17.0.3, actor_id=4fbc7e579e18960acc481abb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fc9b04b1fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 08:20:43,239 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=448944, ip=172.17.0.3, actor_id=4fbc7e579e18960acc481abb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fc9b04b1fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 145, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 63, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=448944, ip=172.17.0.3, actor_id=4fbc7e579e18960acc481abb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fc9b04b1fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 08:20:43,239 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 15:06:53,924 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 15:06:57,730 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 13362113740.0, 'CPU': 13.0, 'memory': 26724227483.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-15 15:06:57,730 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 15:06:57,730 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 15:06:57,746 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 15:06:57,746 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 15:06:57,746 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 15:07:31,181 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=451590, ip=172.17.0.3, actor_id=226487146811ecd05360381b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5d14375f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 147, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 64, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=451590, ip=172.17.0.3, actor_id=226487146811ecd05360381b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5d14375f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 15:07:31,181 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=451590, ip=172.17.0.3, actor_id=226487146811ecd05360381b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5d14375f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 147, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 64, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=451590, ip=172.17.0.3, actor_id=226487146811ecd05360381b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5d14375f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 15:07:31,181 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=451590, ip=172.17.0.3, actor_id=226487146811ecd05360381b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5d14375f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 147, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 64, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=451590, ip=172.17.0.3, actor_id=226487146811ecd05360381b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5d14375f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 15:07:31,182 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=451590, ip=172.17.0.3, actor_id=226487146811ecd05360381b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5d14375f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 147, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 97, in __init__
    train, test = utils.load_partition(self.cid, utils.NUM_CLIENTS)
  File "/root/fedSSL/utils.py", line 64, in load_partition
    partition = client_fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=451590, ip=172.17.0.3, actor_id=226487146811ecd05360381b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5d14375f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 15:07:31,183 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 15:09:05,889 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 15:09:08,843 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 26739137742.0, 'CPU': 13.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'object_store_memory': 13369568870.0}
debug | INFO flwr 2024-07-15 15:09:08,843 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 15:09:08,844 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 15:09:08,862 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 15:09:08,863 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 15:09:08,863 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 15:20:42,759 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 15:20:46,610 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'object_store_memory': 13378498560.0, 'node:__internal_head__': 1.0, 'memory': 26756997120.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-15 15:20:46,611 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 15:20:46,611 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 15:20:46,629 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 15:20:46,629 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 15:20:46,629 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 15:28:30,592 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 15:28:34,380 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13377278361.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'memory': 26754556724.0}
debug | INFO flwr 2024-07-15 15:28:34,380 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 15:28:34,381 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 15:28:34,401 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 15:28:34,401 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 15:28:34,401 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 15:28:40,694 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=456186, ip=172.17.0.3, actor_id=bb20758ae1f4622a6442b2ed01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f98805e5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 148, in client_fn
    return CifarClient(clientID, simclr, fds).to_client()
  File "/root/fedSSL/client.py", line 98, in __init__
    train, test = utils.load_partition(fds, self.cid)
  File "/root/fedSSL/utils.py", line 60, in load_partition
    partition = fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=456186, ip=172.17.0.3, actor_id=bb20758ae1f4622a6442b2ed01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f98805e5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 15:28:40,694 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=456186, ip=172.17.0.3, actor_id=bb20758ae1f4622a6442b2ed01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f98805e5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 148, in client_fn
    return CifarClient(clientID, simclr, fds).to_client()
  File "/root/fedSSL/client.py", line 98, in __init__
    train, test = utils.load_partition(fds, self.cid)
  File "/root/fedSSL/utils.py", line 60, in load_partition
    partition = fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=456186, ip=172.17.0.3, actor_id=bb20758ae1f4622a6442b2ed01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f98805e5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 15:28:40,695 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=456186, ip=172.17.0.3, actor_id=bb20758ae1f4622a6442b2ed01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f98805e5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 148, in client_fn
    return CifarClient(clientID, simclr, fds).to_client()
  File "/root/fedSSL/client.py", line 98, in __init__
    train, test = utils.load_partition(fds, self.cid)
  File "/root/fedSSL/utils.py", line 60, in load_partition
    partition = fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=456186, ip=172.17.0.3, actor_id=bb20758ae1f4622a6442b2ed01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f98805e5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 15:28:40,696 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=456186, ip=172.17.0.3, actor_id=bb20758ae1f4622a6442b2ed01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f98805e5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 148, in client_fn
    return CifarClient(clientID, simclr, fds).to_client()
  File "/root/fedSSL/client.py", line 98, in __init__
    train, test = utils.load_partition(fds, self.cid)
  File "/root/fedSSL/utils.py", line 60, in load_partition
    partition = fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=456186, ip=172.17.0.3, actor_id=bb20758ae1f4622a6442b2ed01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f98805e5fc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 15:28:40,696 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 15:42:00,697 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 15:42:04,445 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'object_store_memory': 13360037068.0, 'CPU': 13.0, 'memory': 26720074139.0}
debug | INFO flwr 2024-07-15 15:42:04,445 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 15:42:04,445 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 15:42:04,464 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 15:42:04,464 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 15:42:04,465 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 15:42:10,925 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 15:42:10,925 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 15:42:11,036 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-15 15:42:11,036 | server.py:110 | 
debug | INFO flwr 2024-07-15 15:42:11,036 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 15:42:11,036 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | ERROR flwr 2024-07-15 15:42:12,278 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=457620, ip=172.17.0.3, actor_id=92602cb2e516db358fa3933c01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f97983ea020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 148, in client_fn
    return CifarClient(clientID, simclr, fds).to_client()
  File "/root/fedSSL/client.py", line 98, in __init__
    train, test = utils.load_partition(fds, self.cid)
  File "/root/fedSSL/utils.py", line 61, in load_partition
    partition = fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=457620, ip=172.17.0.3, actor_id=92602cb2e516db358fa3933c01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f97983ea020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 15:42:12,278 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=457620, ip=172.17.0.3, actor_id=92602cb2e516db358fa3933c01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f97983ea020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 148, in client_fn
    return CifarClient(clientID, simclr, fds).to_client()
  File "/root/fedSSL/client.py", line 98, in __init__
    train, test = utils.load_partition(fds, self.cid)
  File "/root/fedSSL/utils.py", line 61, in load_partition
    partition = fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=457620, ip=172.17.0.3, actor_id=92602cb2e516db358fa3933c01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f97983ea020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 15:42:13,272 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=457620, ip=172.17.0.3, actor_id=92602cb2e516db358fa3933c01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f97983ea020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 148, in client_fn
    return CifarClient(clientID, simclr, fds).to_client()
  File "/root/fedSSL/client.py", line 98, in __init__
    train, test = utils.load_partition(fds, self.cid)
  File "/root/fedSSL/utils.py", line 61, in load_partition
    partition = fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=457620, ip=172.17.0.3, actor_id=92602cb2e516db358fa3933c01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f97983ea020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 15:42:13,273 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=457620, ip=172.17.0.3, actor_id=92602cb2e516db358fa3933c01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f97983ea020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 148, in client_fn
    return CifarClient(clientID, simclr, fds).to_client()
  File "/root/fedSSL/client.py", line 98, in __init__
    train, test = utils.load_partition(fds, self.cid)
  File "/root/fedSSL/utils.py", line 61, in load_partition
    partition = fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=457620, ip=172.17.0.3, actor_id=92602cb2e516db358fa3933c01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f97983ea020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | INFO flwr 2024-07-15 15:42:58,335 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 15:43:01,293 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'object_store_memory': 13257075916.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:__internal_head__': 1.0, 'memory': 26514151835.0}
debug | INFO flwr 2024-07-15 15:43:01,294 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 15:43:01,294 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 15:43:01,311 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 15:43:01,311 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 15:43:01,311 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 15:43:06,944 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=459195, ip=172.17.0.3, actor_id=bee0bc0f0b05ee6474e660c501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fc2147ddfc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 149, in client_fn
    return CifarClient(clientID, simclr, fds).to_client()
  File "/root/fedSSL/client.py", line 99, in __init__
    train, test = utils.load_partition(fds, self.cid)
  File "/root/fedSSL/utils.py", line 61, in load_partition
    partition = fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=459195, ip=172.17.0.3, actor_id=bee0bc0f0b05ee6474e660c501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fc2147ddfc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 15:43:06,944 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=459195, ip=172.17.0.3, actor_id=bee0bc0f0b05ee6474e660c501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fc2147ddfc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 149, in client_fn
    return CifarClient(clientID, simclr, fds).to_client()
  File "/root/fedSSL/client.py", line 99, in __init__
    train, test = utils.load_partition(fds, self.cid)
  File "/root/fedSSL/utils.py", line 61, in load_partition
    partition = fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=459195, ip=172.17.0.3, actor_id=bee0bc0f0b05ee6474e660c501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fc2147ddfc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 15:43:06,944 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=459195, ip=172.17.0.3, actor_id=bee0bc0f0b05ee6474e660c501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fc2147ddfc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 149, in client_fn
    return CifarClient(clientID, simclr, fds).to_client()
  File "/root/fedSSL/client.py", line 99, in __init__
    train, test = utils.load_partition(fds, self.cid)
  File "/root/fedSSL/utils.py", line 61, in load_partition
    partition = fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=459195, ip=172.17.0.3, actor_id=bee0bc0f0b05ee6474e660c501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fc2147ddfc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]
debug | ERROR flwr 2024-07-15 15:43:06,946 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=459195, ip=172.17.0.3, actor_id=bee0bc0f0b05ee6474e660c501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fc2147ddfc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 149, in client_fn
    return CifarClient(clientID, simclr, fds).to_client()
  File "/root/fedSSL/client.py", line 99, in __init__
    train, test = utils.load_partition(fds, self.cid)
  File "/root/fedSSL/utils.py", line 61, in load_partition
    partition = fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4742, in shard
    raise ValueError("index should be in [0, num_shards-1]")
ValueError: index should be in [0, num_shards-1]

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=459195, ip=172.17.0.3, actor_id=bee0bc0f0b05ee6474e660c501000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fc2147ddfc0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: index should be in [0, num_shards-1]

debug | ERROR flwr 2024-07-15 15:43:06,946 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 15:47:17,031 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 15:47:20,798 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26754866382.0, 'CPU': 13.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13377433190.0}
debug | INFO flwr 2024-07-15 15:47:20,799 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 15:47:20,799 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 15:47:20,818 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 15:47:20,818 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 15:47:20,818 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 15:47:33,562 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 15:47:33,562 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 15:47:33,669 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-15 15:47:33,670 | server.py:110 | 
debug | INFO flwr 2024-07-15 15:47:33,670 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 15:47:33,670 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-15 16:13:09,383 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 16:13:13,136 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13374241996.0, 'CPU': 13.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'memory': 26748483995.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-15 16:13:13,136 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 16:13:13,137 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 16:13:13,155 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 16:13:13,155 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 16:13:13,156 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-15 16:13:18,402 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=462990, ip=172.17.0.3, actor_id=17873cb3379b1c4715adb70901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7e000ca020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 151, in client_fn
    return CifarClient(clientID, simclr, fds, useResnet18).to_client()
TypeError: CifarClient.__init__() missing 1 required positional argument: 'num_clients'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=462990, ip=172.17.0.3, actor_id=17873cb3379b1c4715adb70901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7e000ca020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: CifarClient.__init__() missing 1 required positional argument: 'num_clients'

debug | ERROR flwr 2024-07-15 16:13:18,403 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=462990, ip=172.17.0.3, actor_id=17873cb3379b1c4715adb70901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7e000ca020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 151, in client_fn
    return CifarClient(clientID, simclr, fds, useResnet18).to_client()
TypeError: CifarClient.__init__() missing 1 required positional argument: 'num_clients'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=462990, ip=172.17.0.3, actor_id=17873cb3379b1c4715adb70901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7e000ca020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: CifarClient.__init__() missing 1 required positional argument: 'num_clients'
debug | ERROR flwr 2024-07-15 16:13:18,403 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=462990, ip=172.17.0.3, actor_id=17873cb3379b1c4715adb70901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7e000ca020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 151, in client_fn
    return CifarClient(clientID, simclr, fds, useResnet18).to_client()
TypeError: CifarClient.__init__() missing 1 required positional argument: 'num_clients'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=462990, ip=172.17.0.3, actor_id=17873cb3379b1c4715adb70901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7e000ca020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: CifarClient.__init__() missing 1 required positional argument: 'num_clients'
debug | ERROR flwr 2024-07-15 16:13:18,404 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=462990, ip=172.17.0.3, actor_id=17873cb3379b1c4715adb70901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7e000ca020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 151, in client_fn
    return CifarClient(clientID, simclr, fds, useResnet18).to_client()
TypeError: CifarClient.__init__() missing 1 required positional argument: 'num_clients'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=462990, ip=172.17.0.3, actor_id=17873cb3379b1c4715adb70901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7e000ca020>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: CifarClient.__init__() missing 1 required positional argument: 'num_clients'

debug | ERROR flwr 2024-07-15 16:13:18,404 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-15 16:14:21,830 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 16:14:24,726 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'CPU': 13.0, 'memory': 26747695104.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'object_store_memory': 13373847552.0}
debug | INFO flwr 2024-07-15 16:14:24,726 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 16:14:24,727 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 16:14:24,749 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 16:14:24,749 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 16:14:24,749 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 16:14:36,874 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 16:14:36,874 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 16:14:36,929 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-15 16:14:36,930 | server.py:110 | 
debug | INFO flwr 2024-07-15 16:14:36,930 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 16:14:36,930 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-15 16:18:51,268 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 16:18:55,078 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26722047591.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'CPU': 13.0, 'object_store_memory': 13361023795.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-15 16:18:55,078 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 16:18:55,078 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 16:18:55,098 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 16:18:55,098 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 16:18:55,098 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 16:19:07,150 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 16:19:07,151 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 16:19:07,151 | server.py:110 | 
debug | INFO flwr 2024-07-15 16:19:07,151 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 16:19:07,151 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-15 16:23:49,224 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | WARNING flwr 2024-07-15 16:23:50,190 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 16:23:50,443 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-15 16:24:48,287 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | WARNING flwr 2024-07-15 16:24:48,287 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 16:24:48,288 | server.py:110 | 
debug | INFO flwr 2024-07-15 16:24:48,288 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-15 16:24:48,288 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-15 16:25:51,251 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 16:25:55,177 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26557304832.0, 'object_store_memory': 13278652416.0, 'CPU': 13.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-15 16:25:55,178 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 16:25:55,178 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 16:25:55,196 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 16:25:55,196 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 16:25:55,196 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 16:26:07,372 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 16:26:07,372 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 16:26:07,372 | server.py:110 | 
debug | INFO flwr 2024-07-15 16:26:07,372 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 16:26:07,372 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-15 16:30:41,452 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | WARNING flwr 2024-07-15 16:30:41,774 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 16:30:42,013 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-15 16:31:11,590 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | WARNING flwr 2024-07-15 16:31:11,590 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 16:31:11,590 | server.py:110 | 
debug | INFO flwr 2024-07-15 16:31:11,590 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-15 16:31:11,590 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-15 16:35:44,854 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-15 16:35:45,547 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-15 16:36:13,372 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-15 16:36:13,373 | server.py:110 | 
debug | INFO flwr 2024-07-15 16:36:13,373 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-15 16:36:13,373 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-15 16:40:48,546 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-15 16:40:49,101 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-15 16:41:17,056 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-15 16:41:17,056 | server.py:110 | 
debug | INFO flwr 2024-07-15 16:41:17,056 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-15 16:41:17,057 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-15 16:45:51,858 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-15 16:45:53,420 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-15 16:46:20,913 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-15 16:46:20,914 | server.py:110 | 
debug | INFO flwr 2024-07-15 16:46:20,914 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-15 16:46:20,914 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-15 16:50:59,756 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-15 16:51:01,231 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-15 16:51:30,849 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-15 16:51:30,849 | server.py:110 | 
debug | INFO flwr 2024-07-15 16:51:30,850 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-15 16:51:30,850 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-15 17:08:47,518 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-15 17:08:51,342 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26786237646.0, 'CPU': 13.0, 'object_store_memory': 13393118822.0, 'node:__internal_head__': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-15 17:08:51,343 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 17:08:51,343 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 17:08:51,360 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 17:08:51,361 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 17:08:51,361 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 17:09:04,931 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 17:09:04,931 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 17:09:04,931 | server.py:110 | 
debug | INFO flwr 2024-07-15 17:09:04,931 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 17:09:04,931 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 17:13:18,868 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-15 17:13:19,848 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 17:13:20,069 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 17:13:45,654 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-15 17:13:45,655 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 17:13:45,655 | server.py:110 | 
debug | INFO flwr 2024-07-15 17:13:45,655 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-15 17:13:45,655 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 17:18:12,885 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 17:18:13,995 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 17:18:37,819 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 17:18:37,819 | server.py:110 | 
debug | INFO flwr 2024-07-15 17:18:37,819 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-15 17:18:37,819 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 17:23:08,114 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 17:23:08,661 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 17:23:32,177 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 17:23:32,177 | server.py:110 | 
debug | INFO flwr 2024-07-15 17:23:32,177 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-15 17:23:32,178 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 17:27:35,386 | app.py:193 | Starting Flower simulation, config: num_rounds=10, no round_timeout
debug | INFO flwr 2024-07-15 17:27:38,384 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'CPU': 13.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'object_store_memory': 13276729344.0, 'memory': 26553458688.0}
debug | INFO flwr 2024-07-15 17:27:38,385 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 17:27:38,385 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 17:27:38,404 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 17:27:38,404 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 17:27:38,404 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 17:27:50,737 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 17:27:50,737 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 17:27:50,737 | server.py:110 | 
debug | INFO flwr 2024-07-15 17:27:50,738 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 17:27:50,738 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 17:32:19,153 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-15 17:32:19,510 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 17:32:19,758 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 17:32:42,827 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-15 17:32:42,827 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 17:32:42,827 | server.py:110 | 
debug | INFO flwr 2024-07-15 17:32:42,827 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-15 17:32:42,827 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 17:37:10,214 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 17:37:10,880 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 17:37:34,189 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 17:37:34,190 | server.py:110 | 
debug | INFO flwr 2024-07-15 17:37:34,190 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-15 17:37:34,190 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 17:42:05,055 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 17:42:05,686 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 17:42:30,223 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 17:42:30,223 | server.py:110 | 
debug | INFO flwr 2024-07-15 17:42:30,223 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-15 17:42:30,223 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 17:46:53,500 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 17:46:54,494 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 17:47:18,990 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 17:47:18,990 | server.py:110 | 
debug | INFO flwr 2024-07-15 17:47:18,990 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-15 17:47:18,990 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 17:51:50,207 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 17:51:51,234 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 17:52:14,643 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 17:52:14,643 | server.py:110 | 
debug | INFO flwr 2024-07-15 17:52:14,644 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-15 17:52:14,644 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 17:56:42,228 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 17:56:43,590 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 17:57:07,693 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 17:57:07,693 | server.py:110 | 
debug | INFO flwr 2024-07-15 17:57:07,693 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-15 17:57:07,693 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:01:31,963 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:01:32,529 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:01:57,069 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:01:57,069 | server.py:110 | 
debug | INFO flwr 2024-07-15 18:01:57,069 | server.py:111 | [ROUND 8]
debug | INFO flwr 2024-07-15 18:01:57,070 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:06:19,785 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:06:20,722 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:06:46,141 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:06:46,142 | server.py:110 | 
debug | INFO flwr 2024-07-15 18:06:46,142 | server.py:111 | [ROUND 9]
debug | INFO flwr 2024-07-15 18:06:46,142 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:11:15,156 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:11:15,645 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:11:41,921 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:11:41,921 | server.py:110 | 
debug | INFO flwr 2024-07-15 18:11:41,921 | server.py:111 | [ROUND 10]
debug | INFO flwr 2024-07-15 18:11:41,921 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:16:08,395 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:16:09,053 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:16:34,515 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:16:34,524 | server.py:494 | 
debug | INFO flwr 2024-07-15 18:16:34,525 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-15 18:16:34,525 | server.py:496 | Run finished 10 round(s) in 2923.78s
debug | INFO flwr 2024-07-15 18:16:34,525 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-15 18:16:34,525 | server.py:498 | 		round 1: 5.794218381245931
debug | INFO flwr 2024-07-15 18:16:34,526 | server.py:498 | 		round 2: 5.665211280186971
debug | INFO flwr 2024-07-15 18:16:34,526 | server.py:498 | 		round 3: 5.609850645065308
debug | INFO flwr 2024-07-15 18:16:34,526 | server.py:498 | 		round 4: 5.583627541859944
debug | INFO flwr 2024-07-15 18:16:34,526 | server.py:498 | 		round 5: 5.540313720703125
debug | INFO flwr 2024-07-15 18:16:34,526 | server.py:498 | 		round 6: 5.521925528844197
debug | INFO flwr 2024-07-15 18:16:34,526 | server.py:498 | 		round 7: 5.541579961776733
debug | INFO flwr 2024-07-15 18:16:34,526 | server.py:498 | 		round 8: 5.496144453684489
debug | INFO flwr 2024-07-15 18:16:34,526 | server.py:498 | 		round 9: 5.494082530339559
debug | INFO flwr 2024-07-15 18:16:34,526 | server.py:498 | 		round 10: 5.495843887329102
debug | INFO flwr 2024-07-15 18:16:34,526 | server.py:499 | 
debug | INFO flwr 2024-07-15 18:16:54,894 | app.py:193 | Starting Flower simulation, config: num_rounds=10, no round_timeout
debug | INFO flwr 2024-07-15 18:16:57,786 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 13388600524.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'memory': 26777201051.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-15 18:16:57,786 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 18:16:57,786 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 18:16:57,809 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 18:16:57,809 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 18:16:57,809 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 18:17:09,779 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 18:17:09,780 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 18:17:09,780 | server.py:110 | 
debug | INFO flwr 2024-07-15 18:17:09,780 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 18:17:09,780 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:21:35,708 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-15 18:21:35,938 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 18:21:36,187 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:21:58,662 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-15 18:21:58,662 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 18:21:58,662 | server.py:110 | 
debug | INFO flwr 2024-07-15 18:21:58,662 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-15 18:21:58,662 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:26:24,179 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:26:24,633 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:26:47,333 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:26:47,334 | server.py:110 | 
debug | INFO flwr 2024-07-15 18:26:47,334 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-15 18:26:47,334 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:31:14,453 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:31:14,923 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:31:38,083 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:31:38,084 | server.py:110 | 
debug | INFO flwr 2024-07-15 18:31:38,084 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-15 18:31:38,084 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:36:09,696 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:36:10,776 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:36:36,285 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:36:36,285 | server.py:110 | 
debug | INFO flwr 2024-07-15 18:36:36,285 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-15 18:36:36,286 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:41:03,984 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:41:05,043 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:41:31,282 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:41:31,282 | server.py:110 | 
debug | INFO flwr 2024-07-15 18:41:31,282 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-15 18:41:31,283 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:45:57,726 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:45:58,682 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:46:21,302 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:46:21,302 | server.py:110 | 
debug | INFO flwr 2024-07-15 18:46:21,302 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-15 18:46:21,303 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:50:50,418 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:50:50,873 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:51:15,579 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:51:15,579 | server.py:110 | 
debug | INFO flwr 2024-07-15 18:51:15,579 | server.py:111 | [ROUND 8]
debug | INFO flwr 2024-07-15 18:51:15,580 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:55:41,914 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:55:43,052 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 18:56:08,381 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 18:56:08,381 | server.py:110 | 
debug | INFO flwr 2024-07-15 18:56:08,381 | server.py:111 | [ROUND 9]
debug | INFO flwr 2024-07-15 18:56:08,381 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:00:37,580 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 19:00:38,191 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:01:14,140 | app.py:193 | Starting Flower simulation, config: num_rounds=10, no round_timeout
debug | INFO flwr 2024-07-15 19:01:18,014 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26478605108.0, 'object_store_memory': 13239302553.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'CPU': 13.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-15 19:01:18,014 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 19:01:18,014 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 19:01:18,030 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 19:01:18,030 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 19:01:18,030 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 19:01:30,549 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 19:01:30,550 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 19:01:30,550 | server.py:110 | 
debug | INFO flwr 2024-07-15 19:01:30,550 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 19:01:30,550 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:06:04,297 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-15 19:06:05,274 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 19:06:05,681 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:06:29,723 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-15 19:06:29,723 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 19:06:29,723 | server.py:110 | 
debug | INFO flwr 2024-07-15 19:06:29,723 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-15 19:06:29,723 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:11:08,975 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 19:11:09,821 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:11:35,207 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 19:11:35,207 | server.py:110 | 
debug | INFO flwr 2024-07-15 19:11:35,208 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-15 19:11:35,208 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:16:12,138 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 19:16:14,080 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:16:39,021 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 19:16:39,022 | server.py:110 | 
debug | INFO flwr 2024-07-15 19:16:39,022 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-15 19:16:39,022 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:21:14,251 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 19:21:15,029 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:21:40,552 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 19:21:40,552 | server.py:110 | 
debug | INFO flwr 2024-07-15 19:21:40,552 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-15 19:21:40,552 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:26:12,581 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 19:26:13,362 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:26:39,392 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 19:26:39,393 | server.py:110 | 
debug | INFO flwr 2024-07-15 19:26:39,393 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-15 19:26:39,393 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:31:10,128 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 19:31:10,893 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:31:36,972 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 19:31:36,972 | server.py:110 | 
debug | INFO flwr 2024-07-15 19:31:36,972 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-15 19:31:36,973 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:36:13,070 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 19:36:14,284 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:36:40,933 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 19:36:40,933 | server.py:110 | 
debug | INFO flwr 2024-07-15 19:36:40,934 | server.py:111 | [ROUND 8]
debug | INFO flwr 2024-07-15 19:36:40,934 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:41:19,598 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 19:41:20,382 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:41:51,802 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 19:41:51,802 | server.py:110 | 
debug | INFO flwr 2024-07-15 19:41:51,803 | server.py:111 | [ROUND 9]
debug | INFO flwr 2024-07-15 19:41:51,803 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:46:27,204 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 19:46:28,032 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:46:52,643 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 19:46:52,643 | server.py:110 | 
debug | INFO flwr 2024-07-15 19:46:52,643 | server.py:111 | [ROUND 10]
debug | INFO flwr 2024-07-15 19:46:52,644 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:51:29,010 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 19:51:30,487 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-15 19:51:55,138 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-15 19:51:55,152 | server.py:494 | 
debug | INFO flwr 2024-07-15 19:51:55,152 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-15 19:51:55,152 | server.py:496 | Run finished 10 round(s) in 3024.59s
debug | INFO flwr 2024-07-15 19:51:55,152 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-15 19:51:55,153 | server.py:498 | 		round 1: 5.717815399169922
debug | INFO flwr 2024-07-15 19:51:55,153 | server.py:498 | 		round 2: 5.592323621114095
debug | INFO flwr 2024-07-15 19:51:55,153 | server.py:498 | 		round 3: 5.5644017060597735
debug | INFO flwr 2024-07-15 19:51:55,153 | server.py:498 | 		round 4: 5.49975045522054
debug | INFO flwr 2024-07-15 19:51:55,153 | server.py:498 | 		round 5: 5.467928330103557
debug | INFO flwr 2024-07-15 19:51:55,153 | server.py:498 | 		round 6: 5.462592522303264
debug | INFO flwr 2024-07-15 19:51:55,153 | server.py:498 | 		round 7: 5.435308376948039
debug | INFO flwr 2024-07-15 19:51:55,153 | server.py:498 | 		round 8: 5.421963135401408
debug | INFO flwr 2024-07-15 19:51:55,153 | server.py:498 | 		round 9: 5.433979352315267
debug | INFO flwr 2024-07-15 19:51:55,153 | server.py:498 | 		round 10: 5.4024583498636884
debug | INFO flwr 2024-07-15 19:51:55,154 | server.py:499 | 
debug | INFO flwr 2024-07-15 19:52:14,708 | app.py:193 | Starting Flower simulation, config: num_rounds=10, no round_timeout
debug | INFO flwr 2024-07-15 19:52:18,853 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 26723433678.0, 'CPU': 13.0, 'object_store_memory': 13361716838.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-15 19:52:18,853 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 19:52:18,853 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 19:52:18,869 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 19:52:18,869 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 19:52:18,869 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 19:52:31,878 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 19:52:31,878 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 19:52:31,879 | server.py:110 | 
debug | INFO flwr 2024-07-15 19:52:31,879 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 19:52:31,879 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 19:57:10,422 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | WARNING flwr 2024-07-15 19:57:11,332 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 19:57:11,765 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 19:57:46,892 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | WARNING flwr 2024-07-15 19:57:46,893 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 19:57:46,893 | server.py:110 | 
debug | INFO flwr 2024-07-15 19:57:46,893 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-15 19:57:46,893 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 20:02:32,020 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-07-15 20:02:35,850 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 20:03:14,898 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-07-15 20:03:14,899 | server.py:110 | 
debug | INFO flwr 2024-07-15 20:03:14,899 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-15 20:03:14,899 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 20:07:54,472 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-07-15 20:07:56,775 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 20:08:37,337 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-07-15 20:08:37,338 | server.py:110 | 
debug | INFO flwr 2024-07-15 20:08:37,338 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-15 20:08:37,338 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 20:13:20,321 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-07-15 20:13:22,178 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 20:14:02,807 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-07-15 20:14:02,807 | server.py:110 | 
debug | INFO flwr 2024-07-15 20:14:02,808 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-15 20:14:02,808 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 20:18:48,856 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-07-15 20:18:50,638 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 20:19:27,391 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-07-15 20:19:27,391 | server.py:110 | 
debug | INFO flwr 2024-07-15 20:19:27,391 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-15 20:19:27,391 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 20:24:05,405 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-07-15 20:24:08,206 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 20:24:46,345 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-07-15 20:24:46,345 | server.py:110 | 
debug | INFO flwr 2024-07-15 20:24:46,345 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-15 20:24:46,346 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 20:29:35,373 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-07-15 20:29:38,434 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 20:30:12,747 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-07-15 20:30:12,747 | server.py:110 | 
debug | INFO flwr 2024-07-15 20:30:12,747 | server.py:111 | [ROUND 8]
debug | INFO flwr 2024-07-15 20:30:12,747 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 20:34:56,678 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-07-15 20:34:58,692 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 20:35:35,922 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-07-15 20:35:35,922 | server.py:110 | 
debug | INFO flwr 2024-07-15 20:35:35,922 | server.py:111 | [ROUND 9]
debug | INFO flwr 2024-07-15 20:35:35,923 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 20:40:20,760 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-07-15 20:40:23,472 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 20:41:01,978 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-07-15 20:41:01,978 | server.py:110 | 
debug | INFO flwr 2024-07-15 20:41:01,978 | server.py:111 | [ROUND 10]
debug | INFO flwr 2024-07-15 20:41:01,978 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 20:45:49,966 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-07-15 20:45:53,329 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-15 20:46:29,986 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-07-15 20:46:30,013 | server.py:494 | 
debug | INFO flwr 2024-07-15 20:46:30,013 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-15 20:46:30,013 | server.py:496 | Run finished 10 round(s) in 3238.11s
debug | INFO flwr 2024-07-15 20:46:30,013 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-15 20:46:30,014 | server.py:498 | 		round 1: 5.376161456108093
debug | INFO flwr 2024-07-15 20:46:30,014 | server.py:498 | 		round 2: 5.23495078086853
debug | INFO flwr 2024-07-15 20:46:30,014 | server.py:498 | 		round 3: 5.124110400676727
debug | INFO flwr 2024-07-15 20:46:30,014 | server.py:498 | 		round 4: 5.0834150314331055
debug | INFO flwr 2024-07-15 20:46:30,014 | server.py:498 | 		round 5: 5.037034213542938
debug | INFO flwr 2024-07-15 20:46:30,014 | server.py:498 | 		round 6: 4.9934083223342896
debug | INFO flwr 2024-07-15 20:46:30,014 | server.py:498 | 		round 7: 5.002779126167297
debug | INFO flwr 2024-07-15 20:46:30,015 | server.py:498 | 		round 8: 4.968255996704102
debug | INFO flwr 2024-07-15 20:46:30,015 | server.py:498 | 		round 9: 4.946135878562927
debug | INFO flwr 2024-07-15 20:46:30,015 | server.py:498 | 		round 10: 4.93900591135025
debug | INFO flwr 2024-07-15 20:46:30,015 | server.py:499 | 
debug | INFO flwr 2024-07-15 20:46:55,600 | app.py:193 | Starting Flower simulation, config: num_rounds=10, no round_timeout
debug | INFO flwr 2024-07-15 20:46:58,701 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13370248396.0, 'CPU': 13.0, 'memory': 26740496795.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-15 20:46:58,702 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 20:46:58,702 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 20:46:58,721 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 20:46:58,722 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 20:46:58,722 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 20:47:11,944 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 20:47:11,945 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 20:47:11,945 | server.py:110 | 
debug | INFO flwr 2024-07-15 20:47:11,945 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 20:47:11,945 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 20:52:16,808 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | WARNING flwr 2024-07-15 20:52:17,912 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 20:52:18,341 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 20:53:07,644 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | WARNING flwr 2024-07-15 20:53:07,645 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 20:53:07,645 | server.py:110 | 
debug | INFO flwr 2024-07-15 20:53:07,645 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-15 20:53:07,645 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 20:58:09,828 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-07-15 20:58:11,594 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 20:59:00,153 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-07-15 20:59:00,153 | server.py:110 | 
debug | INFO flwr 2024-07-15 20:59:00,153 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-15 20:59:00,154 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 21:03:57,273 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-07-15 21:03:58,783 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 21:04:50,416 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-07-15 21:04:50,417 | server.py:110 | 
debug | INFO flwr 2024-07-15 21:04:50,417 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-15 21:04:50,417 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 21:09:51,829 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-07-15 21:09:56,325 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 21:10:45,950 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-07-15 21:10:45,951 | server.py:110 | 
debug | INFO flwr 2024-07-15 21:10:45,951 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-15 21:10:45,951 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 21:15:53,272 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-07-15 21:15:58,506 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 21:16:46,573 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-07-15 21:16:46,574 | server.py:110 | 
debug | INFO flwr 2024-07-15 21:16:46,574 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-15 21:16:46,574 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 21:21:43,838 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-07-15 21:21:45,277 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 21:22:38,992 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-07-15 21:22:38,992 | server.py:110 | 
debug | INFO flwr 2024-07-15 21:22:38,993 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-15 21:22:38,993 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 21:27:41,052 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-07-15 21:27:43,066 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 21:28:30,966 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-07-15 21:28:30,966 | server.py:110 | 
debug | INFO flwr 2024-07-15 21:28:30,966 | server.py:111 | [ROUND 8]
debug | INFO flwr 2024-07-15 21:28:30,966 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 21:33:28,811 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-07-15 21:33:31,711 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 21:34:17,058 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-07-15 21:34:17,058 | server.py:110 | 
debug | INFO flwr 2024-07-15 21:34:17,058 | server.py:111 | [ROUND 9]
debug | INFO flwr 2024-07-15 21:34:17,059 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 21:39:15,612 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-07-15 21:39:20,050 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 21:40:07,114 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-07-15 21:40:07,115 | server.py:110 | 
debug | INFO flwr 2024-07-15 21:40:07,115 | server.py:111 | [ROUND 10]
debug | INFO flwr 2024-07-15 21:40:07,115 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 21:45:08,815 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-07-15 21:45:12,884 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-15 21:46:01,387 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-07-15 21:46:01,420 | server.py:494 | 
debug | INFO flwr 2024-07-15 21:46:01,420 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-15 21:46:01,420 | server.py:496 | Run finished 10 round(s) in 3529.44s
debug | INFO flwr 2024-07-15 21:46:01,420 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-15 21:46:01,421 | server.py:498 | 		round 1: 6.074120442072551
debug | INFO flwr 2024-07-15 21:46:01,421 | server.py:498 | 		round 2: 5.82267697652181
debug | INFO flwr 2024-07-15 21:46:01,421 | server.py:498 | 		round 3: 5.734411080678304
debug | INFO flwr 2024-07-15 21:46:01,421 | server.py:498 | 		round 4: 5.651638507843018
debug | INFO flwr 2024-07-15 21:46:01,421 | server.py:498 | 		round 5: 5.643359502156575
debug | INFO flwr 2024-07-15 21:46:01,421 | server.py:498 | 		round 6: 5.611022869745891
debug | INFO flwr 2024-07-15 21:46:01,421 | server.py:498 | 		round 7: 5.576297998428345
debug | INFO flwr 2024-07-15 21:46:01,421 | server.py:498 | 		round 8: 5.562045574188232
debug | INFO flwr 2024-07-15 21:46:01,422 | server.py:498 | 		round 9: 5.5387069384257
debug | INFO flwr 2024-07-15 21:46:01,422 | server.py:498 | 		round 10: 5.530892451604207
debug | INFO flwr 2024-07-15 21:46:01,422 | server.py:499 | 
debug | INFO flwr 2024-07-15 21:46:24,384 | app.py:193 | Starting Flower simulation, config: num_rounds=10, no round_timeout
debug | INFO flwr 2024-07-15 21:46:28,154 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'CPU': 13.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'object_store_memory': 13347935846.0, 'memory': 26695871694.0}
debug | INFO flwr 2024-07-15 21:46:28,154 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-15 21:46:28,155 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-15 21:46:28,173 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-15 21:46:28,173 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-15 21:46:28,174 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-15 21:46:40,647 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-15 21:46:40,647 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-15 21:46:40,647 | server.py:110 | 
debug | INFO flwr 2024-07-15 21:46:40,647 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-15 21:46:40,648 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-15 21:51:46,380 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | WARNING flwr 2024-07-15 21:51:47,973 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 21:51:48,410 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-15 21:52:50,033 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | WARNING flwr 2024-07-15 21:52:50,034 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-15 21:52:50,034 | server.py:110 | 
debug | INFO flwr 2024-07-15 21:52:50,034 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-15 21:52:50,034 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-15 21:58:00,928 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-15 21:58:03,674 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-15 21:59:12,707 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-15 21:59:12,707 | server.py:110 | 
debug | INFO flwr 2024-07-15 21:59:12,708 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-15 21:59:12,708 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-15 22:04:17,612 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-15 22:04:20,523 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-15 22:05:28,078 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-15 22:05:28,078 | server.py:110 | 
debug | INFO flwr 2024-07-15 22:05:28,079 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-15 22:05:28,079 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-15 22:10:35,332 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-15 22:10:39,223 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-15 22:11:40,086 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-15 22:11:40,086 | server.py:110 | 
debug | INFO flwr 2024-07-15 22:11:40,087 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-15 22:11:40,087 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-15 22:16:48,413 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-15 22:16:52,785 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-15 22:18:19,143 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-15 22:18:19,143 | server.py:110 | 
debug | INFO flwr 2024-07-15 22:18:19,144 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-15 22:18:19,144 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-15 22:27:07,668 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-15 22:27:13,565 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-15 22:28:13,125 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-15 22:28:13,126 | server.py:110 | 
debug | INFO flwr 2024-07-15 22:28:13,126 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-15 22:28:13,126 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-15 22:33:12,712 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-15 22:33:16,224 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 01:37:23,283 | app.py:193 | Starting Flower simulation, config: num_rounds=10, no round_timeout
debug | INFO flwr 2024-07-16 01:37:26,156 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26691300558.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'CPU': 13.0, 'object_store_memory': 13345650278.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-16 01:37:26,156 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-16 01:37:26,157 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-16 01:37:26,176 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-16 01:37:26,176 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-16 01:37:26,176 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-16 01:37:39,748 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-16 01:37:39,748 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-16 01:37:39,748 | server.py:110 | 
debug | INFO flwr 2024-07-16 01:37:39,748 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-16 01:37:39,748 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 01:42:43,987 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | WARNING flwr 2024-07-16 01:42:48,156 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-16 01:42:48,578 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 01:43:47,878 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | WARNING flwr 2024-07-16 01:43:47,878 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-16 01:43:47,878 | server.py:110 | 
debug | INFO flwr 2024-07-16 01:43:47,878 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-16 01:43:47,879 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 01:48:56,292 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-16 01:48:58,821 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 01:49:59,440 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-16 01:49:59,441 | server.py:110 | 
debug | INFO flwr 2024-07-16 01:49:59,441 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-16 01:49:59,441 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 01:55:06,327 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-16 01:55:09,326 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 01:56:11,177 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-16 01:56:11,177 | server.py:110 | 
debug | INFO flwr 2024-07-16 01:56:11,177 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-16 01:56:11,177 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 02:01:20,085 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-16 02:01:21,775 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 02:02:27,517 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-16 02:02:27,517 | server.py:110 | 
debug | INFO flwr 2024-07-16 02:02:27,517 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-16 02:02:27,518 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 02:07:40,725 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-16 02:07:42,612 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 02:08:42,661 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-16 02:08:42,662 | server.py:110 | 
debug | INFO flwr 2024-07-16 02:08:42,662 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-16 02:08:42,662 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 02:13:54,795 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-16 02:13:56,656 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 02:14:55,814 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-16 02:14:55,814 | server.py:110 | 
debug | INFO flwr 2024-07-16 02:14:55,814 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-16 02:14:55,814 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 02:20:00,782 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-16 02:20:02,746 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 02:21:00,916 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-16 02:21:00,916 | server.py:110 | 
debug | INFO flwr 2024-07-16 02:21:00,916 | server.py:111 | [ROUND 8]
debug | INFO flwr 2024-07-16 02:21:00,916 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 02:25:31,746 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-16 02:25:33,563 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 02:26:47,180 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-16 02:26:47,180 | server.py:110 | 
debug | INFO flwr 2024-07-16 02:26:47,180 | server.py:111 | [ROUND 9]
debug | INFO flwr 2024-07-16 02:26:47,180 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 02:31:44,819 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-16 02:31:46,764 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 02:32:47,489 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-16 02:32:47,489 | server.py:110 | 
debug | INFO flwr 2024-07-16 02:32:47,489 | server.py:111 | [ROUND 10]
debug | INFO flwr 2024-07-16 02:32:47,489 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 02:37:52,313 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-16 02:37:55,232 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-16 02:38:54,477 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-16 02:38:54,528 | server.py:494 | 
debug | INFO flwr 2024-07-16 02:38:54,528 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-16 02:38:54,528 | server.py:496 | Run finished 10 round(s) in 3674.73s
debug | INFO flwr 2024-07-16 02:38:54,528 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-16 02:38:54,529 | server.py:498 | 		round 1: 5.921820044517517
debug | INFO flwr 2024-07-16 02:38:54,529 | server.py:498 | 		round 2: 5.616978824138641
debug | INFO flwr 2024-07-16 02:38:54,529 | server.py:498 | 		round 3: 5.5249717235565186
debug | INFO flwr 2024-07-16 02:38:54,529 | server.py:498 | 		round 4: 5.413265228271484
debug | INFO flwr 2024-07-16 02:38:54,529 | server.py:498 | 		round 5: 5.385532259941101
debug | INFO flwr 2024-07-16 02:38:54,529 | server.py:498 | 		round 6: 5.339890241622925
debug | INFO flwr 2024-07-16 02:38:54,529 | server.py:498 | 		round 7: 5.305554211139679
debug | INFO flwr 2024-07-16 02:38:54,529 | server.py:498 | 		round 8: 5.296511650085449
debug | INFO flwr 2024-07-16 02:38:54,529 | server.py:498 | 		round 9: 5.258393108844757
debug | INFO flwr 2024-07-16 02:38:54,529 | server.py:498 | 		round 10: 5.26995986700058
debug | INFO flwr 2024-07-16 02:38:54,530 | server.py:499 | 
debug | INFO flwr 2024-07-16 02:39:12,545 | app.py:193 | Starting Flower simulation, config: num_rounds=10, no round_timeout
debug | INFO flwr 2024-07-16 02:39:16,370 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 13360996761.0, 'memory': 26721993524.0, 'CPU': 13.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0}
debug | INFO flwr 2024-07-16 02:39:16,370 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-16 02:39:16,370 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-16 02:39:16,385 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-16 02:39:16,385 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-16 02:39:16,386 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-16 02:39:29,254 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-16 02:39:29,254 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-16 02:39:29,254 | server.py:110 | 
debug | INFO flwr 2024-07-16 02:39:29,254 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-16 02:39:29,254 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 02:44:57,187 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | WARNING flwr 2024-07-16 02:44:58,907 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-16 02:44:59,339 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 02:46:08,793 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | WARNING flwr 2024-07-16 02:46:08,793 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-16 02:46:08,793 | server.py:110 | 
debug | INFO flwr 2024-07-16 02:46:08,793 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-16 02:46:08,793 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 02:51:18,590 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-07-16 02:51:20,821 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 02:52:28,501 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-07-16 02:52:28,501 | server.py:110 | 
debug | INFO flwr 2024-07-16 02:52:28,501 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-16 02:52:28,502 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 02:57:34,811 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-07-16 02:57:36,844 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 02:58:46,534 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-07-16 02:58:46,534 | server.py:110 | 
debug | INFO flwr 2024-07-16 02:58:46,534 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-16 02:58:46,534 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 03:03:57,919 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-07-16 03:04:00,030 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 03:05:13,086 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-07-16 03:05:13,087 | server.py:110 | 
debug | INFO flwr 2024-07-16 03:05:13,087 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-16 03:05:13,087 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 03:10:28,846 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-07-16 03:10:30,950 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 03:11:39,161 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-07-16 03:11:39,162 | server.py:110 | 
debug | INFO flwr 2024-07-16 03:11:39,162 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-16 03:11:39,162 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 03:17:04,615 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-07-16 03:17:06,786 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 03:18:15,718 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-07-16 03:18:15,718 | server.py:110 | 
debug | INFO flwr 2024-07-16 03:18:15,718 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-16 03:18:15,719 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 03:23:35,324 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-07-16 03:23:39,049 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 03:24:48,091 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-07-16 03:24:48,091 | server.py:110 | 
debug | INFO flwr 2024-07-16 03:24:48,091 | server.py:111 | [ROUND 8]
debug | INFO flwr 2024-07-16 03:24:48,092 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 03:29:55,111 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-07-16 03:29:58,717 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 03:31:14,370 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-07-16 03:31:14,370 | server.py:110 | 
debug | INFO flwr 2024-07-16 03:31:14,370 | server.py:111 | [ROUND 9]
debug | INFO flwr 2024-07-16 03:31:14,370 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 03:36:37,534 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-07-16 03:36:42,633 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 03:37:52,598 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-07-16 03:37:52,598 | server.py:110 | 
debug | INFO flwr 2024-07-16 03:37:52,598 | server.py:111 | [ROUND 10]
debug | INFO flwr 2024-07-16 03:37:52,599 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 03:43:18,328 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-07-16 03:43:24,674 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-16 03:44:35,368 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-07-16 03:44:35,431 | server.py:494 | 
debug | INFO flwr 2024-07-16 03:44:35,432 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-16 03:44:35,432 | server.py:496 | Run finished 10 round(s) in 3906.11s
debug | INFO flwr 2024-07-16 03:44:35,432 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-16 03:44:35,432 | server.py:498 | 		round 1: 5.730289697647095
debug | INFO flwr 2024-07-16 03:44:35,432 | server.py:498 | 		round 2: 5.429700136184692
debug | INFO flwr 2024-07-16 03:44:35,432 | server.py:498 | 		round 3: 5.321786212921142
debug | INFO flwr 2024-07-16 03:44:35,432 | server.py:498 | 		round 4: 5.233243370056153
debug | INFO flwr 2024-07-16 03:44:35,432 | server.py:498 | 		round 5: 5.179023885726929
debug | INFO flwr 2024-07-16 03:44:35,432 | server.py:498 | 		round 6: 5.156264781951904
debug | INFO flwr 2024-07-16 03:44:35,433 | server.py:498 | 		round 7: 5.138613748550415
debug | INFO flwr 2024-07-16 03:44:35,433 | server.py:498 | 		round 8: 5.092679500579834
debug | INFO flwr 2024-07-16 03:44:35,433 | server.py:498 | 		round 9: 5.08394045829773
debug | INFO flwr 2024-07-16 03:44:35,433 | server.py:498 | 		round 10: 5.05726466178894
debug | INFO flwr 2024-07-16 03:44:35,433 | server.py:499 | 
debug | INFO flwr 2024-07-22 04:40:28,184 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-22 04:40:32,144 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 13.0, 'memory': 26633610855.0, 'object_store_memory': 13316805427.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-22 04:40:32,144 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-22 04:40:32,144 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-22 04:40:32,162 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-22 04:40:32,162 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-22 04:40:32,162 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-22 04:40:43,396 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=3080, ip=172.17.0.2, actor_id=35d8649fd9d38993ba0023e901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7ae42c2170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 165, in client_fn
    train, test = utils.load_partition(fds, cid, client_test_split = 0)
  File "/root/fedSSL/utils.py", line 44, in load_partition
    partition = fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4741, in shard
    if not 0 <= index < num_shards:
TypeError: '<=' not supported between instances of 'int' and 'str'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=3080, ip=172.17.0.2, actor_id=35d8649fd9d38993ba0023e901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7ae42c2170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: '<=' not supported between instances of 'int' and 'str'

debug | ERROR flwr 2024-07-22 04:40:43,397 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=3080, ip=172.17.0.2, actor_id=35d8649fd9d38993ba0023e901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7ae42c2170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 165, in client_fn
    train, test = utils.load_partition(fds, cid, client_test_split = 0)
  File "/root/fedSSL/utils.py", line 44, in load_partition
    partition = fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4741, in shard
    if not 0 <= index < num_shards:
TypeError: '<=' not supported between instances of 'int' and 'str'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=3080, ip=172.17.0.2, actor_id=35d8649fd9d38993ba0023e901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7ae42c2170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: '<=' not supported between instances of 'int' and 'str'
debug | ERROR flwr 2024-07-22 04:40:43,397 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=3080, ip=172.17.0.2, actor_id=35d8649fd9d38993ba0023e901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7ae42c2170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 165, in client_fn
    train, test = utils.load_partition(fds, cid, client_test_split = 0)
  File "/root/fedSSL/utils.py", line 44, in load_partition
    partition = fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4741, in shard
    if not 0 <= index < num_shards:
TypeError: '<=' not supported between instances of 'int' and 'str'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=3080, ip=172.17.0.2, actor_id=35d8649fd9d38993ba0023e901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7ae42c2170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: '<=' not supported between instances of 'int' and 'str'
debug | ERROR flwr 2024-07-22 04:40:43,399 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=3080, ip=172.17.0.2, actor_id=35d8649fd9d38993ba0023e901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7ae42c2170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 165, in client_fn
    train, test = utils.load_partition(fds, cid, client_test_split = 0)
  File "/root/fedSSL/utils.py", line 44, in load_partition
    partition = fds.load_partition(partition_id, "train")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/federated_dataset.py", line 169, in load_partition
    partition = partitioner.load_partition(partition_id)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr_datasets/partitioner/iid_partitioner.py", line 50, in load_partition
    return self.dataset.shard(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4741, in shard
    if not 0 <= index < num_shards:
TypeError: '<=' not supported between instances of 'int' and 'str'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=3080, ip=172.17.0.2, actor_id=35d8649fd9d38993ba0023e901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7ae42c2170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: '<=' not supported between instances of 'int' and 'str'

debug | ERROR flwr 2024-07-22 04:40:43,399 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-22 04:43:07,490 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-22 04:43:11,358 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26596918887.0, 'node:172.17.0.2': 1.0, 'CPU': 13.0, 'object_store_memory': 13298459443.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-22 04:43:11,359 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-22 04:43:11,359 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-22 04:43:11,376 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-22 04:43:11,376 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-22 04:43:11,377 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-22 04:43:22,680 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=4527, ip=172.17.0.2, actor_id=fa16fe1b6b6ab5b75ec0b33a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fd8145b2200>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 165, in client_fn
    train, test = utils.load_partition(fds, clientID, client_test_split = 0)
ValueError: too many values to unpack (expected 2)

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=4527, ip=172.17.0.2, actor_id=fa16fe1b6b6ab5b75ec0b33a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fd8145b2200>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: too many values to unpack (expected 2)

debug | ERROR flwr 2024-07-22 04:43:22,680 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=4527, ip=172.17.0.2, actor_id=fa16fe1b6b6ab5b75ec0b33a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fd8145b2200>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 165, in client_fn
    train, test = utils.load_partition(fds, clientID, client_test_split = 0)
ValueError: too many values to unpack (expected 2)

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=4527, ip=172.17.0.2, actor_id=fa16fe1b6b6ab5b75ec0b33a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fd8145b2200>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: too many values to unpack (expected 2)
debug | ERROR flwr 2024-07-22 04:43:22,681 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=4527, ip=172.17.0.2, actor_id=fa16fe1b6b6ab5b75ec0b33a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fd8145b2200>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 165, in client_fn
    train, test = utils.load_partition(fds, clientID, client_test_split = 0)
ValueError: too many values to unpack (expected 2)

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=4527, ip=172.17.0.2, actor_id=fa16fe1b6b6ab5b75ec0b33a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fd8145b2200>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: too many values to unpack (expected 2)
debug | ERROR flwr 2024-07-22 04:43:22,681 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=4527, ip=172.17.0.2, actor_id=fa16fe1b6b6ab5b75ec0b33a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fd8145b2200>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 165, in client_fn
    train, test = utils.load_partition(fds, clientID, client_test_split = 0)
ValueError: too many values to unpack (expected 2)

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=4527, ip=172.17.0.2, actor_id=fa16fe1b6b6ab5b75ec0b33a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fd8145b2200>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: too many values to unpack (expected 2)

debug | ERROR flwr 2024-07-22 04:43:22,682 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-22 04:44:01,091 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-22 04:44:04,853 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 26612627867.0, 'object_store_memory': 13306313932.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'CPU': 13.0, 'node:172.17.0.2': 1.0}
debug | INFO flwr 2024-07-22 04:44:04,854 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-22 04:44:04,854 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-22 04:44:04,873 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-22 04:44:04,873 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-22 04:44:04,874 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-22 04:44:18,392 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-22 04:44:18,392 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-22 04:44:18,392 | server.py:110 | 
debug | INFO flwr 2024-07-22 04:44:18,392 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-22 04:44:18,392 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 04:48:38,202 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-22 04:48:40,155 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 04:48:40,578 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-22 04:48:46,617 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 144, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/fedSSL/client.py", line 63, in test
    if self.testloader == None:
NameError: name 'self' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'self' is not defined

debug | ERROR flwr 2024-07-22 04:48:46,617 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 144, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/fedSSL/client.py", line 63, in test
    if self.testloader == None:
NameError: name 'self' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'self' is not defined
debug | ERROR flwr 2024-07-22 04:48:52,401 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 144, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/fedSSL/client.py", line 63, in test
    if self.testloader == None:
NameError: name 'self' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'self' is not defined

debug | ERROR flwr 2024-07-22 04:48:52,401 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 144, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/fedSSL/client.py", line 63, in test
    if self.testloader == None:
NameError: name 'self' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'self' is not defined
debug | ERROR flwr 2024-07-22 04:48:58,428 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 144, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/fedSSL/client.py", line 63, in test
    if self.testloader == None:
NameError: name 'self' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'self' is not defined

debug | ERROR flwr 2024-07-22 04:48:58,428 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 144, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/fedSSL/client.py", line 63, in test
    if self.testloader == None:
NameError: name 'self' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'self' is not defined
debug | ERROR flwr 2024-07-22 04:49:04,499 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 144, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/fedSSL/client.py", line 63, in test
    if self.testloader == None:
NameError: name 'self' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'self' is not defined

debug | ERROR flwr 2024-07-22 04:49:04,499 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 144, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/fedSSL/client.py", line 63, in test
    if self.testloader == None:
NameError: name 'self' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'self' is not defined
debug | ERROR flwr 2024-07-22 04:49:10,162 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 144, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/fedSSL/client.py", line 63, in test
    if self.testloader == None:
NameError: name 'self' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'self' is not defined

debug | ERROR flwr 2024-07-22 04:49:10,163 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 144, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/fedSSL/client.py", line 63, in test
    if self.testloader == None:
NameError: name 'self' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=6001, ip=172.17.0.2, actor_id=dd894ac099d59d996d0366eb01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7b48706170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'self' is not defined
debug | INFO flwr 2024-07-22 04:49:10,164 | server.py:190 | aggregate_evaluate: received 0 results and 5 failures
debug | INFO flwr 2024-07-22 04:49:10,164 | server.py:110 | 
debug | INFO flwr 2024-07-22 04:49:10,164 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-22 04:49:10,164 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 04:53:45,405 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-22 04:53:49,184 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13319227392.0, 'node:__internal_head__': 1.0, 'memory': 26638454784.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'CPU': 13.0, 'node:172.17.0.2': 1.0}
debug | INFO flwr 2024-07-22 04:53:49,184 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-22 04:53:49,184 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-22 04:53:49,200 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-22 04:53:49,200 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-22 04:53:49,200 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-22 04:54:02,627 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-22 04:54:02,628 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-22 04:54:02,628 | server.py:110 | 
debug | INFO flwr 2024-07-22 04:54:02,628 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-22 04:54:02,628 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 04:58:27,141 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-22 04:58:29,568 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 04:58:29,987 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-22 04:58:35,741 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 148, in evaluate
    data = [self.useResnet18, self.num_clients, int(round), "client test", loss, -1, self.cid]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-07-22 04:58:35,742 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 148, in evaluate
    data = [self.useResnet18, self.num_clients, int(round), "client test", loss, -1, self.cid]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-07-22 04:58:41,325 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 148, in evaluate
    data = [self.useResnet18, self.num_clients, int(round), "client test", loss, -1, self.cid]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-07-22 04:58:41,325 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 148, in evaluate
    data = [self.useResnet18, self.num_clients, int(round), "client test", loss, -1, self.cid]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-07-22 04:58:47,037 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 148, in evaluate
    data = [self.useResnet18, self.num_clients, int(round), "client test", loss, -1, self.cid]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-07-22 04:58:47,038 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 148, in evaluate
    data = [self.useResnet18, self.num_clients, int(round), "client test", loss, -1, self.cid]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-07-22 04:58:52,719 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 148, in evaluate
    data = [self.useResnet18, self.num_clients, int(round), "client test", loss, -1, self.cid]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-07-22 04:58:52,719 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 148, in evaluate
    data = [self.useResnet18, self.num_clients, int(round), "client test", loss, -1, self.cid]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-07-22 04:58:58,062 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 148, in evaluate
    data = [self.useResnet18, self.num_clients, int(round), "client test", loss, -1, self.cid]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-07-22 04:58:58,063 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 148, in evaluate
    data = [self.useResnet18, self.num_clients, int(round), "client test", loss, -1, self.cid]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=10052, ip=172.17.0.2, actor_id=0010b4bf6920a80971f8fb8901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f9b700321a0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | INFO flwr 2024-07-22 04:58:58,063 | server.py:190 | aggregate_evaluate: received 0 results and 5 failures
debug | INFO flwr 2024-07-22 04:58:58,063 | server.py:110 | 
debug | INFO flwr 2024-07-22 04:58:58,064 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-22 04:58:58,064 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:00:17,941 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-22 05:00:21,782 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13149913497.0, 'memory': 26299826996.0, 'node:__internal_head__': 1.0, 'CPU': 13.0, 'node:172.17.0.2': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-22 05:00:21,782 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-22 05:00:21,782 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-22 05:00:21,800 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-22 05:00:21,800 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-22 05:00:21,800 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-22 05:00:34,318 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-22 05:00:34,318 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-22 05:00:34,318 | server.py:110 | 
debug | INFO flwr 2024-07-22 05:00:34,318 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-22 05:00:34,318 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:05:08,524 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-22 05:05:09,418 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 05:05:09,833 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-22 05:05:15,485 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()

debug | ERROR flwr 2024-07-22 05:05:15,486 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()
debug | ERROR flwr 2024-07-22 05:05:21,137 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()

debug | ERROR flwr 2024-07-22 05:05:21,137 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()
debug | ERROR flwr 2024-07-22 05:05:26,769 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()

debug | ERROR flwr 2024-07-22 05:05:26,770 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()
debug | ERROR flwr 2024-07-22 05:05:32,446 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()

debug | ERROR flwr 2024-07-22 05:05:32,446 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()
debug | ERROR flwr 2024-07-22 05:05:43,019 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()

debug | ERROR flwr 2024-07-22 05:05:43,019 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()
debug | INFO flwr 2024-07-22 05:05:43,020 | server.py:190 | aggregate_evaluate: received 0 results and 5 failures
debug | INFO flwr 2024-07-22 05:05:43,020 | server.py:110 | 
debug | INFO flwr 2024-07-22 05:05:43,020 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-22 05:05:43,020 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:10:16,517 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 05:10:19,233 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-22 05:10:24,945 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()

debug | ERROR flwr 2024-07-22 05:10:24,946 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()
debug | ERROR flwr 2024-07-22 05:10:30,481 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()

debug | ERROR flwr 2024-07-22 05:10:30,481 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()
debug | ERROR flwr 2024-07-22 05:10:35,940 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()

debug | ERROR flwr 2024-07-22 05:10:35,940 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()
debug | ERROR flwr 2024-07-22 05:10:41,453 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()

debug | ERROR flwr 2024-07-22 05:10:41,453 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()
debug | ERROR flwr 2024-07-22 05:10:47,875 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()

debug | ERROR flwr 2024-07-22 05:10:47,875 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 157, in evaluate
    return float(loss), len(self.testloader), {"accuracy": accuracy}
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=14342, ip=172.17.0.2, actor_id=504e9d48c7e696ab0025b41b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f5b2c5aa0b0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()
debug | INFO flwr 2024-07-22 05:10:47,876 | server.py:190 | aggregate_evaluate: received 0 results and 5 failures
debug | INFO flwr 2024-07-22 05:10:47,876 | server.py:110 | 
debug | INFO flwr 2024-07-22 05:10:47,876 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-22 05:10:47,876 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:11:18,306 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-22 05:11:22,128 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13301111193.0, 'memory': 26602222388.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 13.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-22 05:11:22,129 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-22 05:11:22,129 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-22 05:11:22,146 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-22 05:11:22,147 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-22 05:11:22,147 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-22 05:11:34,534 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-22 05:11:34,534 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-22 05:11:34,534 | server.py:110 | 
debug | INFO flwr 2024-07-22 05:11:34,534 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-22 05:11:34,535 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:16:08,581 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-22 05:16:09,459 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 05:16:09,880 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-22 05:16:16,067 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 264, in _evaluate
    len(results) == 3
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()

debug | ERROR flwr 2024-07-22 05:16:16,068 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 264, in _evaluate
    len(results) == 3
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()
debug | ERROR flwr 2024-07-22 05:16:21,816 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 264, in _evaluate
    len(results) == 3
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()

debug | ERROR flwr 2024-07-22 05:16:21,817 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 264, in _evaluate
    len(results) == 3
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()
debug | ERROR flwr 2024-07-22 05:16:27,695 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 264, in _evaluate
    len(results) == 3
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()

debug | ERROR flwr 2024-07-22 05:16:27,695 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 264, in _evaluate
    len(results) == 3
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()
debug | ERROR flwr 2024-07-22 05:16:33,492 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 264, in _evaluate
    len(results) == 3
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()

debug | ERROR flwr 2024-07-22 05:16:33,493 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 264, in _evaluate
    len(results) == 3
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()
debug | ERROR flwr 2024-07-22 05:16:39,373 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 264, in _evaluate
    len(results) == 3
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()

debug | ERROR flwr 2024-07-22 05:16:39,373 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 264, in _evaluate
    len(results) == 3
TypeError: object of type 'NoneType' has no len()

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=20835, ip=172.17.0.2, actor_id=b8d5fd64d4cf9ec495e88d1b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe8c84ae110>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: object of type 'NoneType' has no len()
debug | INFO flwr 2024-07-22 05:16:39,374 | server.py:190 | aggregate_evaluate: received 0 results and 5 failures
debug | INFO flwr 2024-07-22 05:16:39,374 | server.py:110 | 
debug | INFO flwr 2024-07-22 05:16:39,374 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-22 05:16:39,374 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:18:51,701 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-22 05:18:55,464 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26610347214.0, 'object_store_memory': 13305173606.0, 'node:__internal_head__': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 13.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-22 05:18:55,464 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-22 05:18:55,464 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-22 05:18:55,480 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-22 05:18:55,480 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-22 05:18:55,480 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-22 05:19:07,945 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-22 05:19:07,946 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-22 05:19:07,946 | server.py:110 | 
debug | INFO flwr 2024-07-22 05:19:07,946 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-22 05:19:07,946 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:23:46,909 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-22 05:23:47,827 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 05:23:48,270 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:24:17,434 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | ERROR flwr 2024-07-22 05:24:17,435 | app.py:328 | float division by zero
debug | ERROR flwr 2024-07-22 05:24:17,445 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 143, in fit
    res_fed = self.evaluate_round(server_round=current_round, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 201, in evaluate_round
    ] = self.strategy.aggregate_evaluate(server_round, results, failures)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 270, in aggregate_evaluate
    loss_aggregated = weighted_loss_avg(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/aggregate.py", line 207, in weighted_loss_avg
    return sum(weighted_losses) / num_total_evaluation_examples
ZeroDivisionError: float division by zero

debug | ERROR flwr 2024-07-22 05:24:17,445 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 12, 'num_gpus': 1} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 12, 'num_gpus': 1}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-22 05:25:16,717 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-22 05:25:20,586 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13305477120.0, 'node:172.17.0.2': 1.0, 'CPU': 13.0, 'node:__internal_head__': 1.0, 'memory': 26610954240.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-22 05:25:20,586 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-22 05:25:20,586 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-22 05:25:20,603 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-22 05:25:20,603 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-22 05:25:20,603 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-22 05:25:32,994 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-22 05:25:32,994 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-22 05:25:32,994 | server.py:110 | 
debug | INFO flwr 2024-07-22 05:25:32,994 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-22 05:25:32,995 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:30:01,113 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-22 05:30:03,593 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 05:30:04,031 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:30:33,198 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-22 05:30:33,198 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 05:30:33,198 | server.py:110 | 
debug | INFO flwr 2024-07-22 05:30:33,198 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-22 05:30:33,199 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:35:14,907 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 05:35:17,738 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:35:46,558 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 05:35:46,558 | server.py:110 | 
debug | INFO flwr 2024-07-22 05:35:46,558 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-22 05:35:46,559 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:40:07,692 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-22 05:40:11,521 | app.py:228 | Flower VCE: Ray initialized with resources: {'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13346435481.0, 'memory': 26692870964.0, 'CPU': 13.0, 'node:172.17.0.2': 1.0}
debug | INFO flwr 2024-07-22 05:40:11,521 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-22 05:40:11,521 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-22 05:40:11,542 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-22 05:40:11,543 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-22 05:40:11,543 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-22 05:40:24,634 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-22 05:40:24,634 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-22 05:40:24,634 | server.py:110 | 
debug | INFO flwr 2024-07-22 05:40:24,634 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-22 05:40:24,634 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:43:48,878 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-22 05:43:52,704 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 26316418254.0, 'CPU': 13.0, 'node:172.17.0.2': 1.0, 'object_store_memory': 13158209126.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-22 05:43:52,704 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-22 05:43:52,704 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-22 05:43:52,723 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-22 05:43:52,723 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-22 05:43:52,723 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-22 05:44:05,259 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-22 05:44:05,259 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-22 05:44:05,259 | server.py:110 | 
debug | INFO flwr 2024-07-22 05:44:05,260 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-22 05:44:05,260 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:48:45,927 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-22 05:48:46,819 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 05:48:47,232 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:49:16,714 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-22 05:49:16,714 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 05:49:16,714 | server.py:110 | 
debug | INFO flwr 2024-07-22 05:49:16,715 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-22 05:49:16,715 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:53:53,138 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 05:53:54,413 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:54:22,954 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 05:54:22,954 | server.py:110 | 
debug | INFO flwr 2024-07-22 05:54:22,954 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-22 05:54:22,955 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:58:52,854 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 05:58:54,151 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 05:59:23,152 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 05:59:23,152 | server.py:110 | 
debug | INFO flwr 2024-07-22 05:59:23,153 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-22 05:59:23,153 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 06:03:53,247 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 06:03:54,542 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 06:04:25,171 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 06:04:25,171 | server.py:110 | 
debug | INFO flwr 2024-07-22 06:04:25,172 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-22 06:04:25,172 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 06:09:08,092 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 06:09:09,419 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 06:09:39,143 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 06:09:39,143 | server.py:110 | 
debug | INFO flwr 2024-07-22 06:09:39,143 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-22 06:09:39,144 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 06:14:07,633 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 06:14:08,836 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 06:14:37,704 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 06:14:37,704 | server.py:110 | 
debug | INFO flwr 2024-07-22 06:14:37,704 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-22 06:14:37,705 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 06:19:08,998 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 06:19:10,274 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 06:19:38,815 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 06:19:38,869 | server.py:494 | 
debug | INFO flwr 2024-07-22 06:19:38,869 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-22 06:19:38,870 | server.py:496 | Run finished 7 round(s) in 2133.56s
debug | INFO flwr 2024-07-22 06:19:38,870 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-22 06:19:38,870 | server.py:498 | 		round 1: -1.0
debug | INFO flwr 2024-07-22 06:19:38,870 | server.py:498 | 		round 2: -1.0
debug | INFO flwr 2024-07-22 06:19:38,870 | server.py:498 | 		round 3: -1.0
debug | INFO flwr 2024-07-22 06:19:38,870 | server.py:498 | 		round 4: -1.0
debug | INFO flwr 2024-07-22 06:19:38,870 | server.py:498 | 		round 5: -1.0
debug | INFO flwr 2024-07-22 06:19:38,870 | server.py:498 | 		round 6: -1.0
debug | INFO flwr 2024-07-22 06:19:38,871 | server.py:498 | 		round 7: -1.0
debug | INFO flwr 2024-07-22 06:19:38,871 | server.py:499 | 
debug | INFO flwr 2024-07-22 06:35:12,219 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-22 06:35:16,133 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26650172622.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'object_store_memory': 13325086310.0, 'CPU': 13.0, 'node:172.17.0.2': 1.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-22 06:35:16,133 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-22 06:35:16,133 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-22 06:35:16,150 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-22 06:35:16,150 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-22 06:35:16,150 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-22 06:35:28,752 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-22 06:35:28,752 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-22 06:35:28,752 | server.py:110 | 
debug | INFO flwr 2024-07-22 06:35:28,752 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-22 06:35:28,753 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 06:39:48,594 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-22 06:39:49,507 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 06:39:49,938 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 06:40:19,786 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-22 06:40:19,787 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 06:40:19,787 | server.py:110 | 
debug | INFO flwr 2024-07-22 06:40:19,787 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-22 06:40:19,787 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 06:44:52,371 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 06:44:53,686 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 06:45:22,372 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 06:45:22,372 | server.py:110 | 
debug | INFO flwr 2024-07-22 06:45:22,372 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-22 06:45:22,372 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 06:49:51,310 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 06:49:52,590 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 06:50:21,120 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 06:50:21,121 | server.py:110 | 
debug | INFO flwr 2024-07-22 06:50:21,121 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-22 06:50:21,121 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 06:54:50,655 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 06:54:51,966 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 06:55:20,612 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 06:55:20,612 | server.py:110 | 
debug | INFO flwr 2024-07-22 06:55:20,612 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-22 06:55:20,612 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 06:59:51,964 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 06:59:53,247 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 07:00:21,177 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 07:00:21,177 | server.py:110 | 
debug | INFO flwr 2024-07-22 07:00:21,177 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-22 07:00:21,178 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 07:04:53,072 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 07:04:54,265 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 07:05:29,228 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-22 07:05:29,228 | server.py:110 | 
debug | INFO flwr 2024-07-22 07:05:29,228 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-22 07:05:29,229 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-22 07:11:20,734 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-22 07:11:23,637 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13344249446.0, 'node:__internal_head__': 1.0, 'memory': 26688498894.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'CPU': 13.0, 'node:172.17.0.2': 1.0}
debug | INFO flwr 2024-07-22 07:11:23,637 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-22 07:11:23,638 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-22 07:11:23,657 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-22 07:11:23,658 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-22 07:11:23,658 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-22 07:11:36,061 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-22 07:11:36,061 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-22 07:11:36,061 | server.py:110 | 
debug | INFO flwr 2024-07-22 07:11:36,062 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-22 07:11:36,062 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-22 07:13:00,818 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-22 07:13:04,563 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13174603776.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'CPU': 13.0, 'node:172.17.0.2': 1.0, 'memory': 26349207552.0}
debug | INFO flwr 2024-07-22 07:13:04,564 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-22 07:13:04,564 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-22 07:13:04,580 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-22 07:13:04,581 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-22 07:13:04,581 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-22 07:13:17,168 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-22 07:13:17,168 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-22 07:13:17,168 | server.py:110 | 
debug | INFO flwr 2024-07-22 07:13:17,168 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-22 07:13:17,168 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 07:17:29,882 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-22 07:17:30,278 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 07:17:30,722 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 07:17:41,884 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-22 07:17:41,884 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 07:17:41,884 | server.py:110 | 
debug | INFO flwr 2024-07-22 07:17:41,884 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-22 07:17:41,884 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 07:22:04,052 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 07:22:04,843 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 07:22:16,023 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 07:22:16,023 | server.py:110 | 
debug | INFO flwr 2024-07-22 07:22:16,023 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-22 07:22:16,023 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 07:26:36,923 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 07:26:37,685 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 07:26:48,888 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 07:26:48,888 | server.py:110 | 
debug | INFO flwr 2024-07-22 07:26:48,888 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-22 07:26:48,888 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 07:31:09,257 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 07:31:10,013 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 07:31:21,100 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 07:31:21,100 | server.py:110 | 
debug | INFO flwr 2024-07-22 07:31:21,100 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-22 07:31:21,100 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 07:35:41,342 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 07:35:42,078 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 07:35:53,124 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 07:35:53,124 | server.py:110 | 
debug | INFO flwr 2024-07-22 07:35:53,124 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-22 07:35:53,124 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 07:40:23,778 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 07:40:24,504 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 07:40:35,688 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 07:40:35,688 | server.py:110 | 
debug | INFO flwr 2024-07-22 07:40:35,688 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-22 07:40:35,688 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 07:45:01,903 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 07:45:02,653 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 07:45:13,855 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 07:45:13,877 | server.py:494 | 
debug | INFO flwr 2024-07-22 07:45:13,877 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-22 07:45:13,877 | server.py:496 | Run finished 7 round(s) in 1916.69s
debug | INFO flwr 2024-07-22 07:45:13,877 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-22 07:45:13,878 | server.py:498 | 		round 1: -1.0
debug | INFO flwr 2024-07-22 07:45:13,878 | server.py:498 | 		round 2: -1.0
debug | INFO flwr 2024-07-22 07:45:13,878 | server.py:498 | 		round 3: -1.0
debug | INFO flwr 2024-07-22 07:45:13,878 | server.py:498 | 		round 4: -1.0
debug | INFO flwr 2024-07-22 07:45:13,878 | server.py:498 | 		round 5: -1.0
debug | INFO flwr 2024-07-22 07:45:13,878 | server.py:498 | 		round 6: -1.0
debug | INFO flwr 2024-07-22 07:45:13,878 | server.py:498 | 		round 7: -1.0
debug | INFO flwr 2024-07-22 07:45:13,878 | server.py:499 | 
debug | INFO flwr 2024-07-22 07:45:37,670 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-22 07:45:41,425 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26576764110.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13288382054.0, 'CPU': 13.0, 'node:172.17.0.2': 1.0}
debug | INFO flwr 2024-07-22 07:45:41,425 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-22 07:45:41,425 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-22 07:45:41,440 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-22 07:45:41,440 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-22 07:45:41,440 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-22 07:45:54,688 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-22 07:45:54,688 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-22 07:45:54,688 | server.py:110 | 
debug | INFO flwr 2024-07-22 07:45:54,688 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-22 07:45:54,689 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-22 07:48:44,527 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-22 07:48:48,311 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13127197900.0, 'memory': 26254395803.0, 'node:__internal_head__': 1.0, 'CPU': 13.0, 'node:172.17.0.2': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-22 07:48:48,311 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-22 07:48:48,312 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-22 07:48:48,330 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-22 07:48:48,330 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-22 07:48:48,330 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-22 07:49:00,742 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-22 07:49:00,742 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-22 07:49:00,742 | server.py:110 | 
debug | INFO flwr 2024-07-22 07:49:00,742 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-22 07:49:00,742 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 07:53:19,946 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-22 07:53:20,348 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 07:53:20,790 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 07:53:32,022 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-22 07:53:32,023 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 07:53:32,023 | server.py:110 | 
debug | INFO flwr 2024-07-22 07:53:32,023 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-22 07:53:32,023 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 07:57:57,720 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 07:57:58,524 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 07:58:10,050 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 07:58:10,050 | server.py:110 | 
debug | INFO flwr 2024-07-22 07:58:10,050 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-22 07:58:10,050 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 08:02:34,119 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 08:02:34,855 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 08:02:46,916 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 08:02:46,916 | server.py:110 | 
debug | INFO flwr 2024-07-22 08:02:46,917 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-22 08:02:46,917 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 08:07:09,075 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 08:07:09,832 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 08:07:21,130 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 08:07:21,131 | server.py:110 | 
debug | INFO flwr 2024-07-22 08:07:21,131 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-22 08:07:21,131 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 08:11:37,578 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 08:11:38,349 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 08:11:49,609 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 08:11:49,609 | server.py:110 | 
debug | INFO flwr 2024-07-22 08:11:49,610 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-22 08:11:49,610 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 08:16:10,763 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 08:16:11,535 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 08:16:23,633 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 08:16:23,634 | server.py:110 | 
debug | INFO flwr 2024-07-22 08:16:23,634 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-22 08:16:23,634 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 08:20:45,812 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 08:20:46,551 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-22 08:20:58,987 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-22 08:20:59,001 | server.py:494 | 
debug | INFO flwr 2024-07-22 08:20:59,001 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-22 08:20:59,002 | server.py:496 | Run finished 7 round(s) in 1918.25s
debug | INFO flwr 2024-07-22 08:20:59,002 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-22 08:20:59,002 | server.py:498 | 		round 1: -1.0
debug | INFO flwr 2024-07-22 08:20:59,002 | server.py:498 | 		round 2: -1.0
debug | INFO flwr 2024-07-22 08:20:59,002 | server.py:498 | 		round 3: -1.0
debug | INFO flwr 2024-07-22 08:20:59,002 | server.py:498 | 		round 4: -1.0
debug | INFO flwr 2024-07-22 08:20:59,002 | server.py:498 | 		round 5: -1.0
debug | INFO flwr 2024-07-22 08:20:59,003 | server.py:498 | 		round 6: -1.0
debug | INFO flwr 2024-07-22 08:20:59,003 | server.py:498 | 		round 7: -1.0
debug | INFO flwr 2024-07-22 08:20:59,003 | server.py:499 | 
debug | INFO flwr 2024-07-22 08:25:43,038 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-22 08:25:45,967 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 26628034560.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'object_store_memory': 13314017280.0, 'node:172.17.0.2': 1.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-22 08:25:45,968 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-22 08:25:45,968 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-22 08:25:45,984 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-22 08:25:45,984 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-22 08:25:45,984 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-22 08:25:58,406 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-22 08:25:58,407 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-22 08:25:58,407 | server.py:110 | 
debug | INFO flwr 2024-07-22 08:25:58,407 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-22 08:25:58,407 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-22 08:30:31,264 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | WARNING flwr 2024-07-22 08:30:32,017 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 08:30:32,451 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-22 08:30:55,572 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | WARNING flwr 2024-07-22 08:30:55,573 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 08:30:55,573 | server.py:110 | 
debug | INFO flwr 2024-07-22 08:30:55,573 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-22 08:30:55,573 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-22 08:35:23,333 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-07-22 08:35:24,487 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-22 08:35:47,093 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-07-22 08:35:47,094 | server.py:110 | 
debug | INFO flwr 2024-07-22 08:35:47,094 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-22 08:35:47,094 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-22 08:40:23,801 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-07-22 08:40:24,847 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-22 08:40:48,217 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-07-22 08:40:48,217 | server.py:110 | 
debug | INFO flwr 2024-07-22 08:40:48,217 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-22 08:40:48,218 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-22 08:45:13,792 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-07-22 08:45:14,909 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-22 08:45:37,803 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-07-22 08:45:37,803 | server.py:110 | 
debug | INFO flwr 2024-07-22 08:45:37,803 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-22 08:45:37,804 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-22 08:50:04,678 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-07-22 08:50:05,794 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-22 08:50:30,303 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-07-22 08:50:30,304 | server.py:110 | 
debug | INFO flwr 2024-07-22 08:50:30,304 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-22 08:50:30,304 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-22 08:54:58,020 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-07-22 08:54:59,159 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-22 08:55:25,769 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-07-22 08:55:25,770 | server.py:110 | 
debug | INFO flwr 2024-07-22 08:55:25,770 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-22 08:55:25,770 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-22 09:00:00,252 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-07-22 09:00:01,386 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-07-22 09:00:23,917 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-07-22 09:00:23,946 | server.py:494 | 
debug | INFO flwr 2024-07-22 09:00:23,946 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-22 09:00:23,946 | server.py:496 | Run finished 7 round(s) in 2065.51s
debug | INFO flwr 2024-07-22 09:00:23,946 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-22 09:00:23,947 | server.py:498 | 		round 1: -1.0
debug | INFO flwr 2024-07-22 09:00:23,947 | server.py:498 | 		round 2: -1.0
debug | INFO flwr 2024-07-22 09:00:23,947 | server.py:498 | 		round 3: -1.0
debug | INFO flwr 2024-07-22 09:00:23,947 | server.py:498 | 		round 4: -1.0
debug | INFO flwr 2024-07-22 09:00:23,947 | server.py:498 | 		round 5: -1.0
debug | INFO flwr 2024-07-22 09:00:23,947 | server.py:498 | 		round 6: -1.0
debug | INFO flwr 2024-07-22 09:00:23,947 | server.py:498 | 		round 7: -1.0
debug | INFO flwr 2024-07-22 09:00:23,947 | server.py:499 | 
debug | INFO flwr 2024-07-22 09:05:01,224 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-22 09:05:05,065 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 26627690496.0, 'CPU': 13.0, 'node:172.17.0.2': 1.0, 'object_store_memory': 13313845248.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-22 09:05:05,065 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-22 09:05:05,066 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-22 09:05:05,081 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-22 09:05:05,081 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-22 09:05:05,081 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-22 09:05:17,709 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-22 09:05:17,710 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-22 09:05:17,710 | server.py:110 | 
debug | INFO flwr 2024-07-22 09:05:17,710 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-22 09:05:17,710 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-22 09:09:53,147 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | WARNING flwr 2024-07-22 09:09:54,222 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 09:09:54,636 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-22 09:10:29,291 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | WARNING flwr 2024-07-22 09:10:29,291 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 09:10:29,291 | server.py:110 | 
debug | INFO flwr 2024-07-22 09:10:29,291 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-22 09:10:29,292 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-22 09:15:07,600 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-07-22 09:15:08,989 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-22 09:15:45,683 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-07-22 09:15:45,683 | server.py:110 | 
debug | INFO flwr 2024-07-22 09:15:45,683 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-22 09:15:45,684 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-22 09:20:25,257 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-07-22 09:20:26,706 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-22 09:21:00,681 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-07-22 09:21:00,682 | server.py:110 | 
debug | INFO flwr 2024-07-22 09:21:00,682 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-22 09:21:00,682 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-22 09:25:34,539 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-07-22 09:25:36,008 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-22 09:26:11,130 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-07-22 09:26:11,131 | server.py:110 | 
debug | INFO flwr 2024-07-22 09:26:11,131 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-22 09:26:11,131 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-22 09:30:43,114 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-07-22 09:30:44,558 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-22 09:31:18,502 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-07-22 09:31:18,502 | server.py:110 | 
debug | INFO flwr 2024-07-22 09:31:18,502 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-22 09:31:18,502 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-22 09:35:54,779 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-07-22 09:35:56,065 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-22 09:36:30,566 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-07-22 09:36:30,567 | server.py:110 | 
debug | INFO flwr 2024-07-22 09:36:30,567 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-22 09:36:30,567 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-22 09:41:05,433 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-07-22 09:41:06,795 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-07-22 09:41:41,216 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-07-22 09:41:41,258 | server.py:494 | 
debug | INFO flwr 2024-07-22 09:41:41,259 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-22 09:41:41,259 | server.py:496 | Run finished 7 round(s) in 2183.51s
debug | INFO flwr 2024-07-22 09:41:41,259 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-22 09:41:41,259 | server.py:498 | 		round 1: -1.0
debug | INFO flwr 2024-07-22 09:41:41,259 | server.py:498 | 		round 2: -1.0
debug | INFO flwr 2024-07-22 09:41:41,259 | server.py:498 | 		round 3: -1.0
debug | INFO flwr 2024-07-22 09:41:41,259 | server.py:498 | 		round 4: -1.0
debug | INFO flwr 2024-07-22 09:41:41,259 | server.py:498 | 		round 5: -1.0
debug | INFO flwr 2024-07-22 09:41:41,259 | server.py:498 | 		round 6: -1.0
debug | INFO flwr 2024-07-22 09:41:41,260 | server.py:498 | 		round 7: -1.0
debug | INFO flwr 2024-07-22 09:41:41,260 | server.py:499 | 
debug | INFO flwr 2024-07-22 09:46:21,500 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-22 09:46:25,312 | app.py:228 | Flower VCE: Ray initialized with resources: {'GPU': 1.0, 'accelerator_type:G': 1.0, 'object_store_memory': 13298037964.0, 'memory': 26596075931.0, 'node:__internal_head__': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-22 09:46:25,312 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-22 09:46:25,312 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-22 09:46:25,330 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-22 09:46:25,331 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-22 09:46:25,331 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-22 09:46:37,883 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-22 09:46:37,884 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-22 09:46:37,884 | server.py:110 | 
debug | INFO flwr 2024-07-22 09:46:37,884 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-22 09:46:37,884 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-22 09:51:20,024 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | WARNING flwr 2024-07-22 09:51:21,386 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 09:51:21,791 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-22 09:52:13,503 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | WARNING flwr 2024-07-22 09:52:13,503 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 09:52:13,503 | server.py:110 | 
debug | INFO flwr 2024-07-22 09:52:13,503 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-22 09:52:13,504 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-22 09:56:53,097 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-22 09:56:54,874 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-22 09:57:45,287 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-22 09:57:45,288 | server.py:110 | 
debug | INFO flwr 2024-07-22 09:57:45,288 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-22 09:57:45,288 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-22 10:02:25,039 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-22 10:02:26,840 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-22 10:03:11,832 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-22 10:03:11,833 | server.py:110 | 
debug | INFO flwr 2024-07-22 10:03:11,833 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-22 10:03:11,833 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-22 10:07:48,979 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-22 10:07:50,720 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-22 10:08:37,526 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-22 10:08:37,526 | server.py:110 | 
debug | INFO flwr 2024-07-22 10:08:37,526 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-22 10:08:37,526 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-22 10:13:20,130 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-22 10:13:21,848 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-22 10:14:06,741 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-22 10:14:06,742 | server.py:110 | 
debug | INFO flwr 2024-07-22 10:14:06,742 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-22 10:14:06,742 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-22 10:18:46,044 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-22 10:18:47,832 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-22 10:19:35,145 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-22 10:19:35,146 | server.py:110 | 
debug | INFO flwr 2024-07-22 10:19:35,146 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-22 10:19:35,146 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-22 10:24:10,635 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-07-22 10:24:12,435 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-07-22 10:25:02,056 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-07-22 10:25:02,103 | server.py:494 | 
debug | INFO flwr 2024-07-22 10:25:02,103 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-22 10:25:02,103 | server.py:496 | Run finished 7 round(s) in 2304.17s
debug | INFO flwr 2024-07-22 10:25:02,103 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-22 10:25:02,104 | server.py:498 | 		round 1: -1.0
debug | INFO flwr 2024-07-22 10:25:02,104 | server.py:498 | 		round 2: -1.0
debug | INFO flwr 2024-07-22 10:25:02,104 | server.py:498 | 		round 3: -1.0
debug | INFO flwr 2024-07-22 10:25:02,104 | server.py:498 | 		round 4: -1.0
debug | INFO flwr 2024-07-22 10:25:02,104 | server.py:498 | 		round 5: -1.0
debug | INFO flwr 2024-07-22 10:25:02,104 | server.py:498 | 		round 6: -1.0
debug | INFO flwr 2024-07-22 10:25:02,104 | server.py:498 | 		round 7: -1.0
debug | INFO flwr 2024-07-22 10:25:02,104 | server.py:499 | 
debug | INFO flwr 2024-07-22 10:29:42,156 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-22 10:29:45,922 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13311089049.0, 'memory': 26622178100.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'CPU': 13.0, 'node:172.17.0.2': 1.0}
debug | INFO flwr 2024-07-22 10:29:45,923 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-22 10:29:45,923 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-07-22 10:29:45,940 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-22 10:29:45,940 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-22 10:29:45,941 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-22 10:29:59,038 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-22 10:29:59,039 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-22 10:29:59,039 | server.py:110 | 
debug | INFO flwr 2024-07-22 10:29:59,039 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-22 10:29:59,039 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-22 10:34:55,077 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | WARNING flwr 2024-07-22 10:34:56,809 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 10:34:57,226 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-22 10:36:00,191 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | WARNING flwr 2024-07-22 10:36:00,192 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-22 10:36:00,192 | server.py:110 | 
debug | INFO flwr 2024-07-22 10:36:00,192 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-22 10:36:00,192 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-22 10:40:49,802 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-07-22 10:40:51,895 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-22 10:41:49,145 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-07-22 10:41:49,145 | server.py:110 | 
debug | INFO flwr 2024-07-22 10:41:49,145 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-22 10:41:49,145 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-22 10:46:46,889 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-07-22 10:46:48,884 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-22 10:47:50,354 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-07-22 10:47:50,354 | server.py:110 | 
debug | INFO flwr 2024-07-22 10:47:50,354 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-22 10:47:50,355 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-22 10:52:43,683 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-07-22 10:52:45,748 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-22 10:53:44,278 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-07-22 10:53:44,279 | server.py:110 | 
debug | INFO flwr 2024-07-22 10:53:44,279 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-22 10:53:44,279 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-22 10:58:32,963 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-07-22 10:58:35,049 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-22 10:59:33,892 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-07-22 10:59:33,893 | server.py:110 | 
debug | INFO flwr 2024-07-22 10:59:33,893 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-22 10:59:33,893 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-22 11:04:28,446 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-07-22 11:04:30,553 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-22 11:05:32,700 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-07-22 11:05:32,701 | server.py:110 | 
debug | INFO flwr 2024-07-22 11:05:32,701 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-22 11:05:32,701 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-22 11:10:21,404 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-07-22 11:10:23,514 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-07-22 11:11:22,441 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-07-22 11:11:22,507 | server.py:494 | 
debug | INFO flwr 2024-07-22 11:11:22,507 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-22 11:11:22,507 | server.py:496 | Run finished 7 round(s) in 2483.40s
debug | INFO flwr 2024-07-22 11:11:22,507 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-22 11:11:22,507 | server.py:498 | 		round 1: -1.0
debug | INFO flwr 2024-07-22 11:11:22,507 | server.py:498 | 		round 2: -1.0
debug | INFO flwr 2024-07-22 11:11:22,507 | server.py:498 | 		round 3: -1.0
debug | INFO flwr 2024-07-22 11:11:22,508 | server.py:498 | 		round 4: -1.0
debug | INFO flwr 2024-07-22 11:11:22,508 | server.py:498 | 		round 5: -1.0
debug | INFO flwr 2024-07-22 11:11:22,508 | server.py:498 | 		round 6: -1.0
debug | INFO flwr 2024-07-22 11:11:22,508 | server.py:498 | 		round 7: -1.0
debug | INFO flwr 2024-07-22 11:11:22,508 | server.py:499 | 
debug | INFO flwr 2024-08-09 14:42:58,561 | app.py:193 | Starting Flower simulation, config: num_rounds=12, no round_timeout
debug | INFO flwr 2024-08-09 14:43:02,473 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'CPU': 13.0, 'node:172.17.0.2': 1.0, 'object_store_memory': 13283987865.0, 'memory': 26567975732.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-08-09 14:43:02,473 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-08-09 14:43:02,474 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-08-09 14:43:02,493 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-08-09 14:43:02,493 | server.py:92 | [INIT]
debug | INFO flwr 2024-08-09 14:43:02,494 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-08-09 14:43:15,031 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-08-09 14:43:15,031 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-08-09 14:43:15,031 | server.py:110 | 
debug | INFO flwr 2024-08-09 14:43:15,031 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-08-09 14:43:15,032 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 14:46:11,259 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-08-09 14:46:12,207 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 14:46:13,259 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 14:46:52,684 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-08-09 14:46:52,685 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 14:46:52,685 | server.py:110 | 
debug | INFO flwr 2024-08-09 14:46:52,685 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-08-09 14:46:52,685 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 14:49:44,986 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-08-09 14:49:46,839 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 14:50:17,124 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-08-09 14:50:17,125 | server.py:110 | 
debug | INFO flwr 2024-08-09 14:50:17,125 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-08-09 14:50:17,125 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 14:53:12,315 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-08-09 14:53:14,128 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 14:53:44,808 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-08-09 14:53:44,808 | server.py:110 | 
debug | INFO flwr 2024-08-09 14:53:44,809 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-08-09 14:53:44,809 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 14:56:39,590 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-08-09 14:56:41,436 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 14:57:10,396 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-08-09 14:57:10,396 | server.py:110 | 
debug | INFO flwr 2024-08-09 14:57:10,396 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-08-09 14:57:10,396 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:00:37,501 | app.py:193 | Starting Flower simulation, config: num_rounds=5, no round_timeout
debug | INFO flwr 2024-08-09 15:00:41,327 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13114197196.0, 'node:__internal_head__': 1.0, 'memory': 26228394395.0, 'node:172.17.0.2': 1.0, 'CPU': 13.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-08-09 15:00:41,327 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-08-09 15:00:41,327 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-08-09 15:00:41,344 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-08-09 15:00:41,344 | server.py:92 | [INIT]
debug | INFO flwr 2024-08-09 15:00:41,344 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-08-09 15:00:53,918 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-08-09 15:00:53,918 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-08-09 15:00:53,918 | server.py:110 | 
debug | INFO flwr 2024-08-09 15:00:53,918 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-08-09 15:00:53,919 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | ERROR flwr 2024-08-09 15:02:12,529 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=365741, ip=172.17.0.2, actor_id=8ab8086563ae9542ed7a889e01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fa7e80ea0e0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 115, in fit
    data = ['client train', self.useResnet18, self.num_clients, self.cid, results['loss']]
KeyError: 'loss'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=365741, ip=172.17.0.2, actor_id=8ab8086563ae9542ed7a889e01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fa7e80ea0e0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'loss'

debug | ERROR flwr 2024-08-09 15:02:12,529 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=365741, ip=172.17.0.2, actor_id=8ab8086563ae9542ed7a889e01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fa7e80ea0e0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 115, in fit
    data = ['client train', self.useResnet18, self.num_clients, self.cid, results['loss']]
KeyError: 'loss'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=365741, ip=172.17.0.2, actor_id=8ab8086563ae9542ed7a889e01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fa7e80ea0e0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'loss'
debug | INFO flwr 2024-08-09 15:03:38,402 | app.py:193 | Starting Flower simulation, config: num_rounds=5, no round_timeout
debug | INFO flwr 2024-08-09 15:03:42,364 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 13160279654.0, 'memory': 26320559310.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 13.0}
debug | INFO flwr 2024-08-09 15:03:42,364 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-08-09 15:03:42,364 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-08-09 15:03:42,382 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-08-09 15:03:42,382 | server.py:92 | [INIT]
debug | INFO flwr 2024-08-09 15:03:42,383 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-08-09 15:03:54,804 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-08-09 15:03:54,804 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-08-09 15:03:54,804 | server.py:110 | 
debug | INFO flwr 2024-08-09 15:03:54,804 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-08-09 15:03:54,805 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-08-09 15:04:31,405 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=368301, ip=172.17.0.2, actor_id=e352f14976865abb49aa2b6601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f76e85ae170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    utils.sim_log(data)
  File "/root/fedSSL/utils.py", line 31, in sim_log
    writer = csv.writer(file)
NameError: name 'csv' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=368301, ip=172.17.0.2, actor_id=e352f14976865abb49aa2b6601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f76e85ae170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'csv' is not defined

debug | ERROR flwr 2024-08-09 15:04:31,406 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=368301, ip=172.17.0.2, actor_id=e352f14976865abb49aa2b6601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f76e85ae170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    utils.sim_log(data)
  File "/root/fedSSL/utils.py", line 31, in sim_log
    writer = csv.writer(file)
NameError: name 'csv' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=368301, ip=172.17.0.2, actor_id=e352f14976865abb49aa2b6601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f76e85ae170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'csv' is not defined
debug | ERROR flwr 2024-08-09 15:05:07,322 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=368301, ip=172.17.0.2, actor_id=e352f14976865abb49aa2b6601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f76e85ae170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    utils.sim_log(data)
  File "/root/fedSSL/utils.py", line 31, in sim_log
    writer = csv.writer(file)
NameError: name 'csv' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=368301, ip=172.17.0.2, actor_id=e352f14976865abb49aa2b6601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f76e85ae170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'csv' is not defined

debug | ERROR flwr 2024-08-09 15:05:07,322 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=368301, ip=172.17.0.2, actor_id=e352f14976865abb49aa2b6601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f76e85ae170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    utils.sim_log(data)
  File "/root/fedSSL/utils.py", line 31, in sim_log
    writer = csv.writer(file)
NameError: name 'csv' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=368301, ip=172.17.0.2, actor_id=e352f14976865abb49aa2b6601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f76e85ae170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'csv' is not defined
debug | ERROR flwr 2024-08-09 15:05:41,944 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=368301, ip=172.17.0.2, actor_id=e352f14976865abb49aa2b6601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f76e85ae170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    utils.sim_log(data)
  File "/root/fedSSL/utils.py", line 31, in sim_log
    writer = csv.writer(file)
NameError: name 'csv' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=368301, ip=172.17.0.2, actor_id=e352f14976865abb49aa2b6601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f76e85ae170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'csv' is not defined

debug | ERROR flwr 2024-08-09 15:05:41,945 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=368301, ip=172.17.0.2, actor_id=e352f14976865abb49aa2b6601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f76e85ae170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 117, in fit
    utils.sim_log(data)
  File "/root/fedSSL/utils.py", line 31, in sim_log
    writer = csv.writer(file)
NameError: name 'csv' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=368301, ip=172.17.0.2, actor_id=e352f14976865abb49aa2b6601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f76e85ae170>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'csv' is not defined
debug | INFO flwr 2024-08-09 15:06:26,813 | app.py:193 | Starting Flower simulation, config: num_rounds=5, no round_timeout
debug | INFO flwr 2024-08-09 15:06:29,799 | app.py:228 | Flower VCE: Ray initialized with resources: {'accelerator_type:G': 1.0, 'GPU': 1.0, 'object_store_memory': 13160283340.0, 'memory': 26320566683.0, 'node:172.17.0.2': 1.0, 'CPU': 13.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-08-09 15:06:29,800 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-08-09 15:06:29,800 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-08-09 15:06:29,819 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-08-09 15:06:29,819 | server.py:92 | [INIT]
debug | INFO flwr 2024-08-09 15:06:29,819 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-08-09 15:06:42,287 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-08-09 15:06:42,287 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-08-09 15:06:42,287 | server.py:110 | 
debug | INFO flwr 2024-08-09 15:06:42,287 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-08-09 15:06:42,288 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:09:35,568 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-08-09 15:09:36,504 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 15:09:37,559 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:10:06,268 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-08-09 15:10:06,268 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 15:10:06,268 | server.py:110 | 
debug | INFO flwr 2024-08-09 15:10:06,268 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-08-09 15:10:06,269 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:13:00,639 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-08-09 15:13:02,489 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:13:31,550 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-08-09 15:13:31,550 | server.py:110 | 
debug | INFO flwr 2024-08-09 15:13:31,551 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-08-09 15:13:31,551 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:15:18,497 | app.py:193 | Starting Flower simulation, config: num_rounds=5, no round_timeout
debug | INFO flwr 2024-08-09 15:15:22,268 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26229760820.0, 'node:__internal_head__': 1.0, 'CPU': 13.0, 'node:172.17.0.2': 1.0, 'object_store_memory': 13114880409.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-08-09 15:15:22,268 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-08-09 15:15:22,268 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-08-09 15:15:22,287 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-08-09 15:15:22,288 | server.py:92 | [INIT]
debug | INFO flwr 2024-08-09 15:15:22,288 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-08-09 15:15:35,250 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-08-09 15:15:35,250 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-08-09 15:15:35,250 | server.py:110 | 
debug | INFO flwr 2024-08-09 15:15:35,250 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-08-09 15:15:35,251 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-08-09 15:16:11,281 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:16:11,282 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-08-09 15:16:45,034 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:16:45,034 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-08-09 15:17:19,149 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:17:19,150 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-08-09 15:17:53,367 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:17:53,367 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-08-09 15:18:26,969 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:18:26,969 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | INFO flwr 2024-08-09 15:18:26,970 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-08-09 15:18:26,971 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:18:55,829 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-08-09 15:18:55,829 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 15:18:55,830 | server.py:110 | 
debug | INFO flwr 2024-08-09 15:18:55,830 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-08-09 15:18:55,830 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-08-09 15:19:29,669 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:19:29,669 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-08-09 15:20:03,891 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:20:03,891 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-08-09 15:20:37,846 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:20:37,846 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-08-09 15:21:11,314 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:21:11,314 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-08-09 15:21:45,049 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:21:45,050 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | INFO flwr 2024-08-09 15:21:45,051 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-08-09 15:21:45,051 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:22:14,637 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-08-09 15:22:14,637 | server.py:110 | 
debug | INFO flwr 2024-08-09 15:22:14,637 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-08-09 15:22:14,637 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-08-09 15:22:49,001 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:22:49,002 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-08-09 15:23:23,294 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:23:23,294 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-08-09 15:23:57,236 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:23:57,236 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-08-09 15:24:33,865 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:24:33,865 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-08-09 15:25:07,795 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:25:07,796 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | INFO flwr 2024-08-09 15:25:07,796 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-08-09 15:25:07,797 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:25:37,593 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-08-09 15:25:37,593 | server.py:110 | 
debug | INFO flwr 2024-08-09 15:25:37,593 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-08-09 15:25:37,593 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-08-09 15:26:12,575 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:26:12,575 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-08-09 15:26:46,580 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:26:46,581 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-08-09 15:27:21,466 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:27:21,466 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-08-09 15:27:55,234 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:27:55,234 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | ERROR flwr 2024-08-09 15:28:29,588 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment

debug | ERROR flwr 2024-08-09 15:28:29,588 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/fedSSL/client.py", line 116, in fit
    data = ['client train', int(round), self.useResnet18, self.num_clients, self.cid, results['Loss']]
UnboundLocalError: local variable 'round' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=376347, ip=172.17.0.2, actor_id=38cb754dcdc1f0265a0885fd01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7fe5805b21d0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'round' referenced before assignment
debug | INFO flwr 2024-08-09 15:28:29,589 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-08-09 15:28:29,590 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:29:12,000 | app.py:193 | Starting Flower simulation, config: num_rounds=5, no round_timeout
debug | INFO flwr 2024-08-09 15:29:15,854 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26324987904.0, 'node:__internal_head__': 1.0, 'CPU': 13.0, 'node:172.17.0.2': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'object_store_memory': 13162493952.0}
debug | INFO flwr 2024-08-09 15:29:15,854 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-08-09 15:29:15,855 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-08-09 15:29:15,873 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-08-09 15:29:15,874 | server.py:92 | [INIT]
debug | INFO flwr 2024-08-09 15:29:15,874 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-08-09 15:29:29,141 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-08-09 15:29:29,141 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-08-09 15:29:29,141 | server.py:110 | 
debug | INFO flwr 2024-08-09 15:29:29,141 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-08-09 15:29:29,142 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:32:24,549 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-08-09 15:32:25,495 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 15:32:26,558 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:32:55,433 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-08-09 15:32:55,433 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 15:32:55,434 | server.py:110 | 
debug | INFO flwr 2024-08-09 15:32:55,434 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-08-09 15:32:55,434 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:35:45,305 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-08-09 15:35:47,145 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:36:16,708 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-08-09 15:36:16,708 | server.py:110 | 
debug | INFO flwr 2024-08-09 15:36:16,708 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-08-09 15:36:16,709 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:39:06,876 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-08-09 15:39:08,728 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:39:37,609 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-08-09 15:39:37,609 | server.py:110 | 
debug | INFO flwr 2024-08-09 15:39:37,610 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-08-09 15:39:37,610 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:42:28,705 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-08-09 15:42:30,503 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:42:58,873 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-08-09 15:42:58,874 | server.py:110 | 
debug | INFO flwr 2024-08-09 15:42:58,874 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-08-09 15:42:58,874 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:45:48,210 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-08-09 15:45:50,069 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-08-09 15:46:17,936 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-08-09 15:46:17,986 | server.py:494 | 
debug | INFO flwr 2024-08-09 15:46:17,986 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-08-09 15:46:17,986 | server.py:496 | Run finished 5 round(s) in 1008.80s
debug | INFO flwr 2024-08-09 15:46:17,986 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-08-09 15:46:17,986 | server.py:498 | 		round 1: -1.0
debug | INFO flwr 2024-08-09 15:46:17,986 | server.py:498 | 		round 2: -1.0
debug | INFO flwr 2024-08-09 15:46:17,987 | server.py:498 | 		round 3: -1.0
debug | INFO flwr 2024-08-09 15:46:17,987 | server.py:498 | 		round 4: -1.0
debug | INFO flwr 2024-08-09 15:46:17,987 | server.py:498 | 		round 5: -1.0
debug | INFO flwr 2024-08-09 15:46:17,987 | server.py:499 | 
debug | INFO flwr 2024-08-09 16:07:42,406 | app.py:193 | Starting Flower simulation, config: num_rounds=10, no round_timeout
debug | INFO flwr 2024-08-09 16:07:45,289 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26528256000.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'object_store_memory': 13264128000.0, 'CPU': 13.0, 'node:172.17.0.2': 1.0}
debug | INFO flwr 2024-08-09 16:07:45,289 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-08-09 16:07:45,289 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-08-09 16:07:45,307 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-08-09 16:07:45,307 | server.py:92 | [INIT]
debug | INFO flwr 2024-08-09 16:07:45,308 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-08-09 16:07:57,722 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-08-09 16:07:57,722 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-08-09 16:07:57,722 | server.py:110 | 
debug | INFO flwr 2024-08-09 16:07:57,722 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-08-09 16:07:57,723 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:10:33,139 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-08-09 16:10:33,594 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 16:10:34,651 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:10:45,814 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-08-09 16:10:45,815 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 16:10:45,815 | server.py:110 | 
debug | INFO flwr 2024-08-09 16:10:45,815 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-08-09 16:10:45,815 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:13:20,775 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 16:13:22,143 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:13:33,817 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 16:13:33,818 | server.py:110 | 
debug | INFO flwr 2024-08-09 16:13:33,818 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-08-09 16:13:33,818 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:16:10,267 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 16:16:11,648 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:16:23,789 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 16:16:23,789 | server.py:110 | 
debug | INFO flwr 2024-08-09 16:16:23,789 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-08-09 16:16:23,790 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:18:57,415 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 16:18:58,731 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:19:11,219 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 16:19:11,220 | server.py:110 | 
debug | INFO flwr 2024-08-09 16:19:11,220 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-08-09 16:19:11,220 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:21:45,967 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 16:21:47,240 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:21:58,849 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 16:21:58,849 | server.py:110 | 
debug | INFO flwr 2024-08-09 16:21:58,849 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-08-09 16:21:58,849 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:24:34,662 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 16:24:36,040 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:24:47,964 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 16:24:47,964 | server.py:110 | 
debug | INFO flwr 2024-08-09 16:24:47,964 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-08-09 16:24:47,964 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:27:23,294 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 16:27:24,572 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:27:37,227 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 16:27:37,227 | server.py:110 | 
debug | INFO flwr 2024-08-09 16:27:37,228 | server.py:111 | [ROUND 8]
debug | INFO flwr 2024-08-09 16:27:37,228 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:30:13,350 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 16:30:14,679 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:30:26,197 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 16:30:26,198 | server.py:110 | 
debug | INFO flwr 2024-08-09 16:30:26,198 | server.py:111 | [ROUND 9]
debug | INFO flwr 2024-08-09 16:30:26,198 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:33:03,454 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 16:33:04,714 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:33:15,773 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 16:33:15,773 | server.py:110 | 
debug | INFO flwr 2024-08-09 16:33:15,773 | server.py:111 | [ROUND 10]
debug | INFO flwr 2024-08-09 16:33:15,773 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:35:49,213 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 16:35:50,503 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 16:36:01,780 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 16:36:01,793 | server.py:494 | 
debug | INFO flwr 2024-08-09 16:36:01,793 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-08-09 16:36:01,793 | server.py:496 | Run finished 10 round(s) in 1684.06s
debug | INFO flwr 2024-08-09 16:36:01,793 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-08-09 16:36:01,793 | server.py:498 | 		round 1: -1.0
debug | INFO flwr 2024-08-09 16:36:01,793 | server.py:498 | 		round 2: -1.0
debug | INFO flwr 2024-08-09 16:36:01,793 | server.py:498 | 		round 3: -1.0
debug | INFO flwr 2024-08-09 16:36:01,794 | server.py:498 | 		round 4: -1.0
debug | INFO flwr 2024-08-09 16:36:01,794 | server.py:498 | 		round 5: -1.0
debug | INFO flwr 2024-08-09 16:36:01,794 | server.py:498 | 		round 6: -1.0
debug | INFO flwr 2024-08-09 16:36:01,794 | server.py:498 | 		round 7: -1.0
debug | INFO flwr 2024-08-09 16:36:01,794 | server.py:498 | 		round 8: -1.0
debug | INFO flwr 2024-08-09 16:36:01,794 | server.py:498 | 		round 9: -1.0
debug | INFO flwr 2024-08-09 16:36:01,794 | server.py:498 | 		round 10: -1.0
debug | INFO flwr 2024-08-09 16:36:01,794 | server.py:499 | 
debug | INFO flwr 2024-08-09 16:38:30,906 | app.py:193 | Starting Flower simulation, config: num_rounds=10, no round_timeout
debug | INFO flwr 2024-08-09 16:38:34,758 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13284738662.0, 'node:__internal_head__': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 13.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'memory': 26569477326.0}
debug | INFO flwr 2024-08-09 16:38:34,759 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-08-09 16:38:34,759 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-08-09 16:38:34,776 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-08-09 16:38:34,776 | server.py:92 | [INIT]
debug | INFO flwr 2024-08-09 16:38:34,776 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-08-09 16:38:47,468 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-08-09 16:38:47,468 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-08-09 16:38:47,468 | server.py:110 | 
debug | INFO flwr 2024-08-09 16:38:47,468 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-08-09 16:38:47,469 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 16:41:34,899 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | WARNING flwr 2024-08-09 16:41:35,674 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 16:41:36,761 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 16:41:59,666 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | WARNING flwr 2024-08-09 16:41:59,666 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 16:41:59,666 | server.py:110 | 
debug | INFO flwr 2024-08-09 16:41:59,666 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-08-09 16:41:59,667 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 16:45:08,947 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 16:45:10,583 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 16:45:34,666 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 16:45:34,666 | server.py:110 | 
debug | INFO flwr 2024-08-09 16:45:34,666 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-08-09 16:45:34,666 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 16:48:20,153 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 16:48:21,787 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 16:48:45,582 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 16:48:45,582 | server.py:110 | 
debug | INFO flwr 2024-08-09 16:48:45,582 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-08-09 16:48:45,582 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 16:51:30,872 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 16:51:32,529 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 16:51:57,045 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 16:51:57,045 | server.py:110 | 
debug | INFO flwr 2024-08-09 16:51:57,045 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-08-09 16:51:57,046 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 16:54:47,207 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 16:54:48,877 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 16:55:11,312 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 16:55:11,312 | server.py:110 | 
debug | INFO flwr 2024-08-09 16:55:11,312 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-08-09 16:55:11,313 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 16:57:57,222 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 16:57:58,874 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 16:58:24,581 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 16:58:24,582 | server.py:110 | 
debug | INFO flwr 2024-08-09 16:58:24,582 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-08-09 16:58:24,582 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 17:01:10,219 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 17:01:11,863 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 17:01:39,707 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 17:01:39,708 | server.py:110 | 
debug | INFO flwr 2024-08-09 17:01:39,708 | server.py:111 | [ROUND 8]
debug | INFO flwr 2024-08-09 17:01:39,708 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 17:04:25,942 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 17:04:27,530 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 17:04:50,162 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 17:04:50,163 | server.py:110 | 
debug | INFO flwr 2024-08-09 17:04:50,163 | server.py:111 | [ROUND 9]
debug | INFO flwr 2024-08-09 17:04:50,163 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 17:07:34,941 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 17:07:36,483 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 17:07:58,886 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 17:07:58,886 | server.py:110 | 
debug | INFO flwr 2024-08-09 17:07:58,886 | server.py:111 | [ROUND 10]
debug | INFO flwr 2024-08-09 17:07:58,886 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 17:10:42,187 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 17:10:43,826 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 17:11:07,183 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 17:11:07,223 | server.py:494 | 
debug | INFO flwr 2024-08-09 17:11:07,223 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-08-09 17:11:07,223 | server.py:496 | Run finished 10 round(s) in 1939.72s
debug | INFO flwr 2024-08-09 17:11:07,223 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-08-09 17:11:07,223 | server.py:498 | 		round 1: -1.0
debug | INFO flwr 2024-08-09 17:11:07,223 | server.py:498 | 		round 2: -1.0
debug | INFO flwr 2024-08-09 17:11:07,223 | server.py:498 | 		round 3: -1.0
debug | INFO flwr 2024-08-09 17:11:07,224 | server.py:498 | 		round 4: -1.0
debug | INFO flwr 2024-08-09 17:11:07,224 | server.py:498 | 		round 5: -1.0
debug | INFO flwr 2024-08-09 17:11:07,224 | server.py:498 | 		round 6: -1.0
debug | INFO flwr 2024-08-09 17:11:07,224 | server.py:498 | 		round 7: -1.0
debug | INFO flwr 2024-08-09 17:11:07,224 | server.py:498 | 		round 8: -1.0
debug | INFO flwr 2024-08-09 17:11:07,224 | server.py:498 | 		round 9: -1.0
debug | INFO flwr 2024-08-09 17:11:07,224 | server.py:498 | 		round 10: -1.0
debug | INFO flwr 2024-08-09 17:11:07,224 | server.py:499 | 
debug | INFO flwr 2024-08-09 17:13:33,287 | app.py:193 | Starting Flower simulation, config: num_rounds=10, no round_timeout
debug | INFO flwr 2024-08-09 17:13:37,029 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26566437275.0, 'object_store_memory': 13283218636.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 13.0}
debug | INFO flwr 2024-08-09 17:13:37,029 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-08-09 17:13:37,029 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-08-09 17:13:37,048 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-08-09 17:13:37,048 | server.py:92 | [INIT]
debug | INFO flwr 2024-08-09 17:13:37,048 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-08-09 17:13:49,690 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-08-09 17:13:49,690 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-08-09 17:13:49,690 | server.py:110 | 
debug | INFO flwr 2024-08-09 17:13:49,691 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-08-09 17:13:49,691 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:16:49,512 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | WARNING flwr 2024-08-09 17:16:50,614 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 17:16:51,698 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:17:27,410 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | WARNING flwr 2024-08-09 17:17:27,410 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 17:17:27,410 | server.py:110 | 
debug | INFO flwr 2024-08-09 17:17:27,410 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-08-09 17:17:27,411 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:20:24,143 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 17:20:26,197 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:21:00,546 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 17:21:00,546 | server.py:110 | 
debug | INFO flwr 2024-08-09 17:21:00,547 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-08-09 17:21:00,547 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:24:01,983 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 17:24:03,960 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:24:40,504 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 17:24:40,504 | server.py:110 | 
debug | INFO flwr 2024-08-09 17:24:40,504 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-08-09 17:24:40,505 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:27:40,596 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 17:27:42,550 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:28:19,407 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 17:28:19,407 | server.py:110 | 
debug | INFO flwr 2024-08-09 17:28:19,407 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-08-09 17:28:19,407 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:31:19,629 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 17:31:21,627 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:31:57,549 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 17:31:57,550 | server.py:110 | 
debug | INFO flwr 2024-08-09 17:31:57,550 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-08-09 17:31:57,550 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:34:55,428 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 17:34:57,273 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:35:32,449 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 17:35:32,449 | server.py:110 | 
debug | INFO flwr 2024-08-09 17:35:32,449 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-08-09 17:35:32,449 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:38:28,640 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 17:38:30,559 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:39:04,719 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 17:39:04,719 | server.py:110 | 
debug | INFO flwr 2024-08-09 17:39:04,720 | server.py:111 | [ROUND 8]
debug | INFO flwr 2024-08-09 17:39:04,720 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:42:02,012 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 17:42:03,954 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:42:38,767 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 17:42:38,767 | server.py:110 | 
debug | INFO flwr 2024-08-09 17:42:38,768 | server.py:111 | [ROUND 9]
debug | INFO flwr 2024-08-09 17:42:38,768 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:45:44,479 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 17:45:46,454 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:46:19,968 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 17:46:19,969 | server.py:110 | 
debug | INFO flwr 2024-08-09 17:46:19,969 | server.py:111 | [ROUND 10]
debug | INFO flwr 2024-08-09 17:46:19,969 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:49:13,805 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 17:49:15,732 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 17:49:49,705 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 17:49:49,750 | server.py:494 | 
debug | INFO flwr 2024-08-09 17:49:49,750 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-08-09 17:49:49,751 | server.py:496 | Run finished 10 round(s) in 2160.01s
debug | INFO flwr 2024-08-09 17:49:49,751 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-08-09 17:49:49,751 | server.py:498 | 		round 1: -1.0
debug | INFO flwr 2024-08-09 17:49:49,751 | server.py:498 | 		round 2: -1.0
debug | INFO flwr 2024-08-09 17:49:49,751 | server.py:498 | 		round 3: -1.0
debug | INFO flwr 2024-08-09 17:49:49,751 | server.py:498 | 		round 4: -1.0
debug | INFO flwr 2024-08-09 17:49:49,751 | server.py:498 | 		round 5: -1.0
debug | INFO flwr 2024-08-09 17:49:49,751 | server.py:498 | 		round 6: -1.0
debug | INFO flwr 2024-08-09 17:49:49,752 | server.py:498 | 		round 7: -1.0
debug | INFO flwr 2024-08-09 17:49:49,752 | server.py:498 | 		round 8: -1.0
debug | INFO flwr 2024-08-09 17:49:49,752 | server.py:498 | 		round 9: -1.0
debug | INFO flwr 2024-08-09 17:49:49,752 | server.py:498 | 		round 10: -1.0
debug | INFO flwr 2024-08-09 17:49:49,752 | server.py:499 | 
debug | INFO flwr 2024-08-09 17:52:16,262 | app.py:193 | Starting Flower simulation, config: num_rounds=10, no round_timeout
debug | INFO flwr 2024-08-09 17:52:20,043 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'CPU': 13.0, 'node:172.17.0.2': 1.0, 'object_store_memory': 13283912908.0, 'memory': 26567825819.0}
debug | INFO flwr 2024-08-09 17:52:20,043 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-08-09 17:52:20,044 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-08-09 17:52:20,063 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-08-09 17:52:20,063 | server.py:92 | [INIT]
debug | INFO flwr 2024-08-09 17:52:20,063 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-08-09 17:52:36,175 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-08-09 17:52:36,175 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-08-09 17:52:36,175 | server.py:110 | 
debug | INFO flwr 2024-08-09 17:52:36,175 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-08-09 17:52:36,176 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 17:55:51,572 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | WARNING flwr 2024-08-09 17:55:52,961 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 17:55:54,011 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 17:56:48,343 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | WARNING flwr 2024-08-09 17:56:48,344 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 17:56:48,344 | server.py:110 | 
debug | INFO flwr 2024-08-09 17:56:48,344 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-08-09 17:56:48,344 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 18:00:05,255 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 18:00:07,586 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 18:00:58,302 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 18:00:58,302 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:00:58,302 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-08-09 18:00:58,303 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 18:04:08,705 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 18:04:10,992 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 18:04:58,148 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 18:04:58,149 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:04:58,149 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-08-09 18:04:58,149 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 18:08:06,686 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 18:08:08,942 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 18:08:54,302 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 18:08:54,302 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:08:54,302 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-08-09 18:08:54,303 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 18:12:02,298 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 18:12:04,558 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 18:13:08,998 | app.py:193 | Starting Flower simulation, config: num_rounds=30, no round_timeout
debug | INFO flwr 2024-08-09 18:13:12,755 | app.py:228 | Flower VCE: Ray initialized with resources: {'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:__internal_head__': 1.0, 'memory': 26565827790.0, 'object_store_memory': 13282913894.0, 'node:172.17.0.2': 1.0, 'CPU': 13.0}
debug | INFO flwr 2024-08-09 18:13:12,755 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-08-09 18:13:12,755 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-08-09 18:13:12,770 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-08-09 18:13:12,770 | server.py:92 | [INIT]
debug | INFO flwr 2024-08-09 18:13:12,770 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-08-09 18:13:25,890 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-08-09 18:13:25,890 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-08-09 18:13:25,890 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:13:25,890 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-08-09 18:13:25,891 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:16:00,272 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-08-09 18:16:00,736 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 18:16:01,839 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:16:13,366 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-08-09 18:16:13,366 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 18:16:13,367 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:16:13,367 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-08-09 18:16:13,367 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:17:49,922 | app.py:193 | Starting Flower simulation, config: num_rounds=30, no round_timeout
debug | INFO flwr 2024-08-09 18:17:53,792 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 26566805915.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 13.0, 'object_store_memory': 13283402956.0}
debug | INFO flwr 2024-08-09 18:17:53,793 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-08-09 18:17:53,793 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-08-09 18:17:53,809 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-08-09 18:17:53,810 | server.py:92 | [INIT]
debug | INFO flwr 2024-08-09 18:17:53,810 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-08-09 18:18:06,271 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-08-09 18:18:06,272 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-08-09 18:18:06,272 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:18:06,272 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-08-09 18:18:06,272 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:20:21,071 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-08-09 18:20:21,526 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 18:20:22,649 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:20:34,969 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-08-09 18:20:34,969 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 18:20:34,969 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:20:34,969 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-08-09 18:20:34,969 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:22:46,012 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:22:47,333 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:23:00,381 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:23:00,381 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:23:00,381 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-08-09 18:23:00,382 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:25:11,568 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:25:12,884 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:25:25,071 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:25:25,072 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:25:25,072 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-08-09 18:25:25,072 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:27:38,746 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:27:40,071 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:27:55,467 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:27:55,467 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:27:55,468 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-08-09 18:27:55,468 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:30:05,224 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:30:06,502 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:30:19,914 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:30:19,914 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:30:19,914 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-08-09 18:30:19,914 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:32:31,917 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:32:33,199 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:32:44,606 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:32:44,607 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:32:44,607 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-08-09 18:32:44,607 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:34:56,813 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:34:58,134 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:35:15,322 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:35:15,322 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:35:15,322 | server.py:111 | [ROUND 8]
debug | INFO flwr 2024-08-09 18:35:15,322 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:37:33,637 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:37:34,958 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:37:46,767 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:37:46,767 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:37:46,768 | server.py:111 | [ROUND 9]
debug | INFO flwr 2024-08-09 18:37:46,768 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:39:58,783 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:40:00,114 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:40:18,144 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:40:18,145 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:40:18,145 | server.py:111 | [ROUND 10]
debug | INFO flwr 2024-08-09 18:40:18,145 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:42:29,734 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:42:31,041 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:42:42,789 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:42:42,789 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:42:42,790 | server.py:111 | [ROUND 11]
debug | INFO flwr 2024-08-09 18:42:42,790 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:44:54,526 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:44:55,797 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:45:07,949 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:45:07,950 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:45:07,950 | server.py:111 | [ROUND 12]
debug | INFO flwr 2024-08-09 18:45:07,950 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:47:21,053 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:47:22,243 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:47:34,122 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:47:34,122 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:47:34,123 | server.py:111 | [ROUND 13]
debug | INFO flwr 2024-08-09 18:47:34,123 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:49:43,246 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:49:44,600 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:49:57,230 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:49:57,231 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:49:57,231 | server.py:111 | [ROUND 14]
debug | INFO flwr 2024-08-09 18:49:57,231 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:52:08,534 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:52:09,632 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:52:24,728 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:52:24,729 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:52:24,729 | server.py:111 | [ROUND 15]
debug | INFO flwr 2024-08-09 18:52:24,729 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:54:38,374 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:54:39,469 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:54:52,592 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:54:52,592 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:54:52,592 | server.py:111 | [ROUND 16]
debug | INFO flwr 2024-08-09 18:54:52,592 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:57:06,412 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:57:07,514 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:57:20,940 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:57:20,941 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:57:20,941 | server.py:111 | [ROUND 17]
debug | INFO flwr 2024-08-09 18:57:20,941 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:59:34,439 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:59:35,551 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 18:59:49,451 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 18:59:49,451 | server.py:110 | 
debug | INFO flwr 2024-08-09 18:59:49,451 | server.py:111 | [ROUND 18]
debug | INFO flwr 2024-08-09 18:59:49,451 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:02:03,250 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:02:04,406 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:02:17,612 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:02:17,613 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:02:17,613 | server.py:111 | [ROUND 19]
debug | INFO flwr 2024-08-09 19:02:17,613 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:04:31,260 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:04:32,393 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:04:46,002 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:04:46,002 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:04:46,002 | server.py:111 | [ROUND 20]
debug | INFO flwr 2024-08-09 19:04:46,003 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:06:57,500 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:06:58,679 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:07:11,661 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:07:11,661 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:07:11,661 | server.py:111 | [ROUND 21]
debug | INFO flwr 2024-08-09 19:07:11,662 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:09:23,699 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:09:24,861 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:09:36,925 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:09:36,926 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:09:36,926 | server.py:111 | [ROUND 22]
debug | INFO flwr 2024-08-09 19:09:36,926 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:11:47,286 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:11:48,462 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:11:59,557 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:11:59,557 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:11:59,557 | server.py:111 | [ROUND 23]
debug | INFO flwr 2024-08-09 19:11:59,557 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:14:11,108 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:14:12,307 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:14:24,165 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:14:24,166 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:14:24,166 | server.py:111 | [ROUND 24]
debug | INFO flwr 2024-08-09 19:14:24,166 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:16:35,565 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:16:36,757 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:16:48,783 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:16:48,783 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:16:48,783 | server.py:111 | [ROUND 25]
debug | INFO flwr 2024-08-09 19:16:48,784 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:19:00,790 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:19:02,021 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:19:13,600 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:19:13,601 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:19:13,601 | server.py:111 | [ROUND 26]
debug | INFO flwr 2024-08-09 19:19:13,601 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:21:25,129 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:21:26,376 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:21:39,522 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:21:39,522 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:21:39,522 | server.py:111 | [ROUND 27]
debug | INFO flwr 2024-08-09 19:21:39,522 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:23:52,547 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:23:53,805 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:24:06,487 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:24:06,488 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:24:06,488 | server.py:111 | [ROUND 28]
debug | INFO flwr 2024-08-09 19:24:06,488 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:26:20,161 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:26:21,401 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:26:36,068 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:26:36,068 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:26:36,068 | server.py:111 | [ROUND 29]
debug | INFO flwr 2024-08-09 19:26:36,069 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:28:49,874 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:28:51,150 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:29:04,004 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:29:04,004 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:29:04,004 | server.py:111 | [ROUND 30]
debug | INFO flwr 2024-08-09 19:29:04,004 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:31:16,129 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:31:17,372 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-08-09 19:31:31,460 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-08-09 19:31:31,481 | server.py:494 | 
debug | INFO flwr 2024-08-09 19:31:31,481 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-08-09 19:31:31,481 | server.py:496 | Run finished 30 round(s) in 4405.19s
debug | INFO flwr 2024-08-09 19:31:31,481 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-08-09 19:31:31,482 | server.py:498 | 		round 1: -1.0
debug | INFO flwr 2024-08-09 19:31:31,482 | server.py:498 | 		round 2: -1.0
debug | INFO flwr 2024-08-09 19:31:31,482 | server.py:498 | 		round 3: -1.0
debug | INFO flwr 2024-08-09 19:31:31,482 | server.py:498 | 		round 4: -1.0
debug | INFO flwr 2024-08-09 19:31:31,482 | server.py:498 | 		round 5: -1.0
debug | INFO flwr 2024-08-09 19:31:31,482 | server.py:498 | 		round 6: -1.0
debug | INFO flwr 2024-08-09 19:31:31,482 | server.py:498 | 		round 7: -1.0
debug | INFO flwr 2024-08-09 19:31:31,482 | server.py:498 | 		round 8: -1.0
debug | INFO flwr 2024-08-09 19:31:31,482 | server.py:498 | 		round 9: -1.0
debug | INFO flwr 2024-08-09 19:31:31,482 | server.py:498 | 		round 10: -1.0
debug | INFO flwr 2024-08-09 19:31:31,482 | server.py:498 | 		round 11: -1.0
debug | INFO flwr 2024-08-09 19:31:31,482 | server.py:498 | 		round 12: -1.0
debug | INFO flwr 2024-08-09 19:31:31,482 | server.py:498 | 		round 13: -1.0
debug | INFO flwr 2024-08-09 19:31:31,483 | server.py:498 | 		round 14: -1.0
debug | INFO flwr 2024-08-09 19:31:31,483 | server.py:498 | 		round 15: -1.0
debug | INFO flwr 2024-08-09 19:31:31,483 | server.py:498 | 		round 16: -1.0
debug | INFO flwr 2024-08-09 19:31:31,483 | server.py:498 | 		round 17: -1.0
debug | INFO flwr 2024-08-09 19:31:31,483 | server.py:498 | 		round 18: -1.0
debug | INFO flwr 2024-08-09 19:31:31,483 | server.py:498 | 		round 19: -1.0
debug | INFO flwr 2024-08-09 19:31:31,483 | server.py:498 | 		round 20: -1.0
debug | INFO flwr 2024-08-09 19:31:31,483 | server.py:498 | 		round 21: -1.0
debug | INFO flwr 2024-08-09 19:31:31,483 | server.py:498 | 		round 22: -1.0
debug | INFO flwr 2024-08-09 19:31:31,483 | server.py:498 | 		round 23: -1.0
debug | INFO flwr 2024-08-09 19:31:31,483 | server.py:498 | 		round 24: -1.0
debug | INFO flwr 2024-08-09 19:31:31,483 | server.py:498 | 		round 25: -1.0
debug | INFO flwr 2024-08-09 19:31:31,484 | server.py:498 | 		round 26: -1.0
debug | INFO flwr 2024-08-09 19:31:31,484 | server.py:498 | 		round 27: -1.0
debug | INFO flwr 2024-08-09 19:31:31,484 | server.py:498 | 		round 28: -1.0
debug | INFO flwr 2024-08-09 19:31:31,484 | server.py:498 | 		round 29: -1.0
debug | INFO flwr 2024-08-09 19:31:31,484 | server.py:498 | 		round 30: -1.0
debug | INFO flwr 2024-08-09 19:31:31,484 | server.py:499 | 
debug | INFO flwr 2024-08-09 19:35:35,803 | app.py:193 | Starting Flower simulation, config: num_rounds=30, no round_timeout
debug | INFO flwr 2024-08-09 19:35:39,670 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 13354987929.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'memory': 26709975860.0, 'node:__internal_head__': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 13.0}
debug | INFO flwr 2024-08-09 19:35:39,671 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-08-09 19:35:39,671 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-08-09 19:35:39,691 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-08-09 19:35:39,691 | server.py:92 | [INIT]
debug | INFO flwr 2024-08-09 19:35:39,692 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-08-09 19:35:52,241 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-08-09 19:35:52,242 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-08-09 19:35:52,242 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:35:52,242 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-08-09 19:35:52,242 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 19:38:19,547 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | WARNING flwr 2024-08-09 19:38:20,304 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 19:38:21,350 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 19:38:44,803 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | WARNING flwr 2024-08-09 19:38:44,803 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 19:38:44,803 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:38:44,803 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-08-09 19:38:44,804 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 19:41:09,865 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 19:41:11,483 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 19:41:34,482 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 19:41:34,483 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:41:34,483 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-08-09 19:41:34,483 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 19:43:58,982 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 19:44:00,589 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 19:44:23,636 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 19:44:23,636 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:44:23,636 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-08-09 19:44:23,637 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 19:46:47,356 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 19:46:48,986 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 19:47:11,549 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 19:47:11,550 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:47:11,550 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-08-09 19:47:11,550 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 19:49:36,217 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 19:49:37,909 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 19:50:01,201 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 19:50:01,202 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:50:01,202 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-08-09 19:50:01,202 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 19:52:25,815 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 19:52:27,503 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 19:52:52,024 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 19:52:52,025 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:52:52,025 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-08-09 19:52:52,025 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 19:55:17,803 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 19:55:19,451 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 19:55:43,698 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 19:55:43,698 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:55:43,699 | server.py:111 | [ROUND 8]
debug | INFO flwr 2024-08-09 19:55:43,699 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 19:58:09,304 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 19:58:10,873 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 19:58:36,948 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 19:58:36,948 | server.py:110 | 
debug | INFO flwr 2024-08-09 19:58:36,948 | server.py:111 | [ROUND 9]
debug | INFO flwr 2024-08-09 19:58:36,948 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:01:03,414 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:01:04,997 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:01:28,356 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:01:28,357 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:01:28,357 | server.py:111 | [ROUND 10]
debug | INFO flwr 2024-08-09 20:01:28,357 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:03:52,011 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:03:53,654 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:04:18,466 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:04:18,466 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:04:18,467 | server.py:111 | [ROUND 11]
debug | INFO flwr 2024-08-09 20:04:18,467 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:06:42,638 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:06:44,283 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:07:09,875 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:07:09,875 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:07:09,875 | server.py:111 | [ROUND 12]
debug | INFO flwr 2024-08-09 20:07:09,876 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:09:34,118 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:09:35,788 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:09:58,516 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:09:58,517 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:09:58,517 | server.py:111 | [ROUND 13]
debug | INFO flwr 2024-08-09 20:09:58,517 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:12:21,609 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:12:23,297 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:12:45,554 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:12:45,555 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:12:45,555 | server.py:111 | [ROUND 14]
debug | INFO flwr 2024-08-09 20:12:45,555 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:15:09,421 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:15:11,058 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:15:33,938 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:15:33,939 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:15:33,939 | server.py:111 | [ROUND 15]
debug | INFO flwr 2024-08-09 20:15:33,939 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:17:57,785 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:17:59,420 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:18:22,420 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:18:22,421 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:18:22,421 | server.py:111 | [ROUND 16]
debug | INFO flwr 2024-08-09 20:18:22,421 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:20:47,899 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:20:49,541 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:21:12,634 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:21:12,634 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:21:12,635 | server.py:111 | [ROUND 17]
debug | INFO flwr 2024-08-09 20:21:12,635 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:23:35,862 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:23:37,485 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:24:02,914 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:24:02,914 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:24:02,914 | server.py:111 | [ROUND 18]
debug | INFO flwr 2024-08-09 20:24:02,914 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:26:27,691 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:26:29,296 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:26:52,860 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:26:52,861 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:26:52,861 | server.py:111 | [ROUND 19]
debug | INFO flwr 2024-08-09 20:26:52,861 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:29:19,256 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:29:21,008 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:29:46,661 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:29:46,662 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:29:46,662 | server.py:111 | [ROUND 20]
debug | INFO flwr 2024-08-09 20:29:46,662 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:32:12,209 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:32:13,673 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:32:44,548 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:32:44,548 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:32:44,548 | server.py:111 | [ROUND 21]
debug | INFO flwr 2024-08-09 20:32:44,549 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:35:07,571 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:35:09,010 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:35:33,256 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:35:33,256 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:35:33,257 | server.py:111 | [ROUND 22]
debug | INFO flwr 2024-08-09 20:35:33,257 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:37:59,305 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:38:00,751 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:38:28,424 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:38:28,424 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:38:28,425 | server.py:111 | [ROUND 23]
debug | INFO flwr 2024-08-09 20:38:28,425 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:40:52,674 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:40:54,162 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:41:17,068 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:41:17,068 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:41:17,068 | server.py:111 | [ROUND 24]
debug | INFO flwr 2024-08-09 20:41:17,069 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:43:42,030 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:43:43,554 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:44:07,097 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:44:07,098 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:44:07,098 | server.py:111 | [ROUND 25]
debug | INFO flwr 2024-08-09 20:44:07,098 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:46:30,385 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:46:31,912 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:46:54,071 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:46:54,072 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:46:54,072 | server.py:111 | [ROUND 26]
debug | INFO flwr 2024-08-09 20:46:54,072 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:49:18,418 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:49:19,944 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:49:43,803 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:49:43,804 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:49:43,804 | server.py:111 | [ROUND 27]
debug | INFO flwr 2024-08-09 20:49:43,804 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:52:08,710 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:52:10,280 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:52:33,322 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:52:33,323 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:52:33,323 | server.py:111 | [ROUND 28]
debug | INFO flwr 2024-08-09 20:52:33,323 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:54:57,129 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:54:58,698 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:55:22,460 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:55:22,460 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:55:22,460 | server.py:111 | [ROUND 29]
debug | INFO flwr 2024-08-09 20:55:22,461 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:57:57,795 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:57:59,408 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 20:58:24,461 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 20:58:24,461 | server.py:110 | 
debug | INFO flwr 2024-08-09 20:58:24,462 | server.py:111 | [ROUND 30]
debug | INFO flwr 2024-08-09 20:58:24,462 | server.py:224 | configure_fit: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 21:00:49,832 | server.py:238 | aggregate_fit: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 21:00:51,504 | server.py:176 | configure_evaluate: strategy sampled 4 clients (out of 4)
debug | INFO flwr 2024-08-09 21:01:15,379 | server.py:190 | aggregate_evaluate: received 4 results and 0 failures
debug | INFO flwr 2024-08-09 21:01:15,412 | server.py:494 | 
debug | INFO flwr 2024-08-09 21:01:15,412 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-08-09 21:01:15,412 | server.py:496 | Run finished 30 round(s) in 5123.14s
debug | INFO flwr 2024-08-09 21:01:15,412 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-08-09 21:01:15,412 | server.py:498 | 		round 1: -1.0
debug | INFO flwr 2024-08-09 21:01:15,412 | server.py:498 | 		round 2: -1.0
debug | INFO flwr 2024-08-09 21:01:15,413 | server.py:498 | 		round 3: -1.0
debug | INFO flwr 2024-08-09 21:01:15,413 | server.py:498 | 		round 4: -1.0
debug | INFO flwr 2024-08-09 21:01:15,413 | server.py:498 | 		round 5: -1.0
debug | INFO flwr 2024-08-09 21:01:15,413 | server.py:498 | 		round 6: -1.0
debug | INFO flwr 2024-08-09 21:01:15,413 | server.py:498 | 		round 7: -1.0
debug | INFO flwr 2024-08-09 21:01:15,413 | server.py:498 | 		round 8: -1.0
debug | INFO flwr 2024-08-09 21:01:15,413 | server.py:498 | 		round 9: -1.0
debug | INFO flwr 2024-08-09 21:01:15,413 | server.py:498 | 		round 10: -1.0
debug | INFO flwr 2024-08-09 21:01:15,413 | server.py:498 | 		round 11: -1.0
debug | INFO flwr 2024-08-09 21:01:15,413 | server.py:498 | 		round 12: -1.0
debug | INFO flwr 2024-08-09 21:01:15,413 | server.py:498 | 		round 13: -1.0
debug | INFO flwr 2024-08-09 21:01:15,413 | server.py:498 | 		round 14: -1.0
debug | INFO flwr 2024-08-09 21:01:15,414 | server.py:498 | 		round 15: -1.0
debug | INFO flwr 2024-08-09 21:01:15,414 | server.py:498 | 		round 16: -1.0
debug | INFO flwr 2024-08-09 21:01:15,414 | server.py:498 | 		round 17: -1.0
debug | INFO flwr 2024-08-09 21:01:15,414 | server.py:498 | 		round 18: -1.0
debug | INFO flwr 2024-08-09 21:01:15,414 | server.py:498 | 		round 19: -1.0
debug | INFO flwr 2024-08-09 21:01:15,414 | server.py:498 | 		round 20: -1.0
debug | INFO flwr 2024-08-09 21:01:15,414 | server.py:498 | 		round 21: -1.0
debug | INFO flwr 2024-08-09 21:01:15,414 | server.py:498 | 		round 22: -1.0
debug | INFO flwr 2024-08-09 21:01:15,414 | server.py:498 | 		round 23: -1.0
debug | INFO flwr 2024-08-09 21:01:15,414 | server.py:498 | 		round 24: -1.0
debug | INFO flwr 2024-08-09 21:01:15,414 | server.py:498 | 		round 25: -1.0
debug | INFO flwr 2024-08-09 21:01:15,414 | server.py:498 | 		round 26: -1.0
debug | INFO flwr 2024-08-09 21:01:15,414 | server.py:498 | 		round 27: -1.0
debug | INFO flwr 2024-08-09 21:01:15,415 | server.py:498 | 		round 28: -1.0
debug | INFO flwr 2024-08-09 21:01:15,415 | server.py:498 | 		round 29: -1.0
debug | INFO flwr 2024-08-09 21:01:15,415 | server.py:498 | 		round 30: -1.0
debug | INFO flwr 2024-08-09 21:01:15,415 | server.py:499 | 
debug | INFO flwr 2024-08-09 21:05:16,857 | app.py:193 | Starting Flower simulation, config: num_rounds=30, no round_timeout
debug | INFO flwr 2024-08-09 21:05:20,710 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 13310024908.0, 'memory': 26620049819.0, 'CPU': 13.0, 'node:172.17.0.2': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-08-09 21:05:20,711 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-08-09 21:05:20,711 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-08-09 21:05:20,730 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-08-09 21:05:20,731 | server.py:92 | [INIT]
debug | INFO flwr 2024-08-09 21:05:20,731 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-08-09 21:05:33,038 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-08-09 21:05:33,039 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-08-09 21:05:33,039 | server.py:110 | 
debug | INFO flwr 2024-08-09 21:05:33,039 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-08-09 21:05:33,039 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:08:11,909 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | WARNING flwr 2024-08-09 21:08:13,020 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 21:08:14,038 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:08:49,274 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | WARNING flwr 2024-08-09 21:08:49,275 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 21:08:49,275 | server.py:110 | 
debug | INFO flwr 2024-08-09 21:08:49,275 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-08-09 21:08:49,275 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:11:24,239 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:11:26,152 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:12:00,577 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:12:00,578 | server.py:110 | 
debug | INFO flwr 2024-08-09 21:12:00,578 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-08-09 21:12:00,578 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:14:35,268 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:14:37,203 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:15:10,696 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:15:10,696 | server.py:110 | 
debug | INFO flwr 2024-08-09 21:15:10,697 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-08-09 21:15:10,697 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:17:44,048 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:17:46,018 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:18:21,120 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:18:21,121 | server.py:110 | 
debug | INFO flwr 2024-08-09 21:18:21,121 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-08-09 21:18:21,121 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:20:54,494 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:20:56,453 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:21:29,998 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:21:29,999 | server.py:110 | 
debug | INFO flwr 2024-08-09 21:21:29,999 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-08-09 21:21:29,999 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:24:05,538 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:24:07,326 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:24:42,669 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:24:42,670 | server.py:110 | 
debug | INFO flwr 2024-08-09 21:24:42,670 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-08-09 21:24:42,670 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:27:18,670 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:27:20,581 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:27:56,250 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:27:56,251 | server.py:110 | 
debug | INFO flwr 2024-08-09 21:27:56,251 | server.py:111 | [ROUND 8]
debug | INFO flwr 2024-08-09 21:27:56,251 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:30:35,102 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:30:36,976 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:31:12,460 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:31:12,460 | server.py:110 | 
debug | INFO flwr 2024-08-09 21:31:12,460 | server.py:111 | [ROUND 9]
debug | INFO flwr 2024-08-09 21:31:12,461 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:33:52,482 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:33:54,455 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:34:30,591 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:34:30,591 | server.py:110 | 
debug | INFO flwr 2024-08-09 21:34:30,591 | server.py:111 | [ROUND 10]
debug | INFO flwr 2024-08-09 21:34:30,591 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:37:07,724 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:37:09,676 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:37:48,748 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:37:48,749 | server.py:110 | 
debug | INFO flwr 2024-08-09 21:37:48,749 | server.py:111 | [ROUND 11]
debug | INFO flwr 2024-08-09 21:37:48,749 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:40:25,186 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:40:27,153 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:41:02,281 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:41:02,281 | server.py:110 | 
debug | INFO flwr 2024-08-09 21:41:02,281 | server.py:111 | [ROUND 12]
debug | INFO flwr 2024-08-09 21:41:02,282 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:43:34,981 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:43:36,931 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:44:11,647 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:44:11,648 | server.py:110 | 
debug | INFO flwr 2024-08-09 21:44:11,648 | server.py:111 | [ROUND 13]
debug | INFO flwr 2024-08-09 21:44:11,648 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:46:45,991 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:46:47,741 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:47:21,747 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:47:21,747 | server.py:110 | 
debug | INFO flwr 2024-08-09 21:47:21,748 | server.py:111 | [ROUND 14]
debug | INFO flwr 2024-08-09 21:47:21,748 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:49:56,554 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:49:58,297 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:50:31,813 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:50:31,814 | server.py:110 | 
debug | INFO flwr 2024-08-09 21:50:31,814 | server.py:111 | [ROUND 15]
debug | INFO flwr 2024-08-09 21:50:31,814 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:53:08,208 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:53:10,002 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:53:43,368 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:53:43,369 | server.py:110 | 
debug | INFO flwr 2024-08-09 21:53:43,369 | server.py:111 | [ROUND 16]
debug | INFO flwr 2024-08-09 21:53:43,369 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:56:21,034 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:56:22,943 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:56:57,803 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:56:57,803 | server.py:110 | 
debug | INFO flwr 2024-08-09 21:56:57,803 | server.py:111 | [ROUND 17]
debug | INFO flwr 2024-08-09 21:56:57,804 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 21:59:34,398 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 21:59:36,349 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:00:13,367 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:00:13,367 | server.py:110 | 
debug | INFO flwr 2024-08-09 22:00:13,368 | server.py:111 | [ROUND 18]
debug | INFO flwr 2024-08-09 22:00:13,368 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:02:50,099 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:02:52,045 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:03:40,138 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:03:40,138 | server.py:110 | 
debug | INFO flwr 2024-08-09 22:03:40,138 | server.py:111 | [ROUND 19]
debug | INFO flwr 2024-08-09 22:03:40,138 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:06:15,837 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:06:17,791 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:06:55,938 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:06:55,938 | server.py:110 | 
debug | INFO flwr 2024-08-09 22:06:55,938 | server.py:111 | [ROUND 20]
debug | INFO flwr 2024-08-09 22:06:55,938 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:09:32,483 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:09:34,419 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:10:09,705 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:10:09,705 | server.py:110 | 
debug | INFO flwr 2024-08-09 22:10:09,706 | server.py:111 | [ROUND 21]
debug | INFO flwr 2024-08-09 22:10:09,706 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:12:44,065 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:12:45,783 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:13:20,102 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:13:20,102 | server.py:110 | 
debug | INFO flwr 2024-08-09 22:13:20,102 | server.py:111 | [ROUND 22]
debug | INFO flwr 2024-08-09 22:13:20,102 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:15:55,586 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:15:57,303 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:16:31,701 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:16:31,701 | server.py:110 | 
debug | INFO flwr 2024-08-09 22:16:31,701 | server.py:111 | [ROUND 23]
debug | INFO flwr 2024-08-09 22:16:31,702 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:19:06,262 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:19:07,975 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:19:42,483 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:19:42,483 | server.py:110 | 
debug | INFO flwr 2024-08-09 22:19:42,483 | server.py:111 | [ROUND 24]
debug | INFO flwr 2024-08-09 22:19:42,483 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:22:17,553 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:22:19,344 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:22:53,399 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:22:53,400 | server.py:110 | 
debug | INFO flwr 2024-08-09 22:22:53,400 | server.py:111 | [ROUND 25]
debug | INFO flwr 2024-08-09 22:22:53,400 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:25:28,754 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:25:30,552 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:26:08,546 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:26:08,546 | server.py:110 | 
debug | INFO flwr 2024-08-09 22:26:08,547 | server.py:111 | [ROUND 26]
debug | INFO flwr 2024-08-09 22:26:08,547 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:28:42,968 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:28:44,902 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:29:37,074 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:29:37,075 | server.py:110 | 
debug | INFO flwr 2024-08-09 22:29:37,075 | server.py:111 | [ROUND 27]
debug | INFO flwr 2024-08-09 22:29:37,075 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:32:20,241 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:32:22,208 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:33:00,786 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:33:00,786 | server.py:110 | 
debug | INFO flwr 2024-08-09 22:33:00,786 | server.py:111 | [ROUND 28]
debug | INFO flwr 2024-08-09 22:33:00,786 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:35:36,009 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:35:37,733 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:36:13,892 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:36:13,892 | server.py:110 | 
debug | INFO flwr 2024-08-09 22:36:13,892 | server.py:111 | [ROUND 29]
debug | INFO flwr 2024-08-09 22:36:13,893 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:38:51,267 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:38:52,994 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:39:27,392 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:39:27,392 | server.py:110 | 
debug | INFO flwr 2024-08-09 22:39:27,392 | server.py:111 | [ROUND 30]
debug | INFO flwr 2024-08-09 22:39:27,393 | server.py:224 | configure_fit: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:42:02,555 | server.py:238 | aggregate_fit: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:42:04,285 | server.py:176 | configure_evaluate: strategy sampled 6 clients (out of 6)
debug | INFO flwr 2024-08-09 22:42:48,758 | server.py:190 | aggregate_evaluate: received 6 results and 0 failures
debug | INFO flwr 2024-08-09 22:42:48,805 | server.py:494 | 
debug | INFO flwr 2024-08-09 22:42:48,805 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-08-09 22:42:48,805 | server.py:496 | Run finished 30 round(s) in 5835.72s
debug | INFO flwr 2024-08-09 22:42:48,805 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-08-09 22:42:48,806 | server.py:498 | 		round 1: -1.0
debug | INFO flwr 2024-08-09 22:42:48,806 | server.py:498 | 		round 2: -1.0
debug | INFO flwr 2024-08-09 22:42:48,806 | server.py:498 | 		round 3: -1.0
debug | INFO flwr 2024-08-09 22:42:48,806 | server.py:498 | 		round 4: -1.0
debug | INFO flwr 2024-08-09 22:42:48,806 | server.py:498 | 		round 5: -1.0
debug | INFO flwr 2024-08-09 22:42:48,806 | server.py:498 | 		round 6: -1.0
debug | INFO flwr 2024-08-09 22:42:48,806 | server.py:498 | 		round 7: -1.0
debug | INFO flwr 2024-08-09 22:42:48,806 | server.py:498 | 		round 8: -1.0
debug | INFO flwr 2024-08-09 22:42:48,806 | server.py:498 | 		round 9: -1.0
debug | INFO flwr 2024-08-09 22:42:48,806 | server.py:498 | 		round 10: -1.0
debug | INFO flwr 2024-08-09 22:42:48,807 | server.py:498 | 		round 11: -1.0
debug | INFO flwr 2024-08-09 22:42:48,807 | server.py:498 | 		round 12: -1.0
debug | INFO flwr 2024-08-09 22:42:48,807 | server.py:498 | 		round 13: -1.0
debug | INFO flwr 2024-08-09 22:42:48,807 | server.py:498 | 		round 14: -1.0
debug | INFO flwr 2024-08-09 22:42:48,807 | server.py:498 | 		round 15: -1.0
debug | INFO flwr 2024-08-09 22:42:48,807 | server.py:498 | 		round 16: -1.0
debug | INFO flwr 2024-08-09 22:42:48,807 | server.py:498 | 		round 17: -1.0
debug | INFO flwr 2024-08-09 22:42:48,807 | server.py:498 | 		round 18: -1.0
debug | INFO flwr 2024-08-09 22:42:48,807 | server.py:498 | 		round 19: -1.0
debug | INFO flwr 2024-08-09 22:42:48,807 | server.py:498 | 		round 20: -1.0
debug | INFO flwr 2024-08-09 22:42:48,807 | server.py:498 | 		round 21: -1.0
debug | INFO flwr 2024-08-09 22:42:48,807 | server.py:498 | 		round 22: -1.0
debug | INFO flwr 2024-08-09 22:42:48,807 | server.py:498 | 		round 23: -1.0
debug | INFO flwr 2024-08-09 22:42:48,808 | server.py:498 | 		round 24: -1.0
debug | INFO flwr 2024-08-09 22:42:48,808 | server.py:498 | 		round 25: -1.0
debug | INFO flwr 2024-08-09 22:42:48,808 | server.py:498 | 		round 26: -1.0
debug | INFO flwr 2024-08-09 22:42:48,808 | server.py:498 | 		round 27: -1.0
debug | INFO flwr 2024-08-09 22:42:48,808 | server.py:498 | 		round 28: -1.0
debug | INFO flwr 2024-08-09 22:42:48,808 | server.py:498 | 		round 29: -1.0
debug | INFO flwr 2024-08-09 22:42:48,808 | server.py:498 | 		round 30: -1.0
debug | INFO flwr 2024-08-09 22:42:48,808 | server.py:499 | 
debug | INFO flwr 2024-08-09 22:46:48,330 | app.py:193 | Starting Flower simulation, config: num_rounds=30, no round_timeout
debug | INFO flwr 2024-08-09 22:46:52,232 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26619978548.0, 'CPU': 13.0, 'node:172.17.0.2': 1.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13309989273.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-08-09 22:46:52,232 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-08-09 22:46:52,232 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-08-09 22:46:52,247 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-08-09 22:46:52,247 | server.py:92 | [INIT]
debug | INFO flwr 2024-08-09 22:46:52,247 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-08-09 22:47:04,617 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-08-09 22:47:04,617 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-08-09 22:47:04,617 | server.py:110 | 
debug | INFO flwr 2024-08-09 22:47:04,617 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-08-09 22:47:04,618 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 22:49:53,578 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | WARNING flwr 2024-08-09 22:49:54,968 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 22:49:56,007 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 22:50:47,276 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | WARNING flwr 2024-08-09 22:50:47,276 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-09 22:50:47,277 | server.py:110 | 
debug | INFO flwr 2024-08-09 22:50:47,277 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-08-09 22:50:47,277 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 22:53:34,431 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 22:53:36,745 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 22:54:23,387 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 22:54:23,388 | server.py:110 | 
debug | INFO flwr 2024-08-09 22:54:23,388 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-08-09 22:54:23,388 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 22:57:09,407 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 22:57:11,691 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 22:57:58,283 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 22:57:58,283 | server.py:110 | 
debug | INFO flwr 2024-08-09 22:57:58,283 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-08-09 22:57:58,284 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:00:48,979 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:00:51,062 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:01:43,023 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:01:43,024 | server.py:110 | 
debug | INFO flwr 2024-08-09 23:01:43,024 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-08-09 23:01:43,024 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:04:36,917 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:04:39,172 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:05:24,293 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:05:24,293 | server.py:110 | 
debug | INFO flwr 2024-08-09 23:05:24,293 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-08-09 23:05:24,294 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:08:12,022 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:08:14,256 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:09:01,787 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:09:01,787 | server.py:110 | 
debug | INFO flwr 2024-08-09 23:09:01,787 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-08-09 23:09:01,788 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:11:48,009 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:11:50,315 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:12:36,674 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:12:36,675 | server.py:110 | 
debug | INFO flwr 2024-08-09 23:12:36,675 | server.py:111 | [ROUND 8]
debug | INFO flwr 2024-08-09 23:12:36,675 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:15:21,625 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:15:23,907 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:16:09,894 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:16:09,895 | server.py:110 | 
debug | INFO flwr 2024-08-09 23:16:09,895 | server.py:111 | [ROUND 9]
debug | INFO flwr 2024-08-09 23:16:09,895 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:18:54,984 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:18:57,232 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:19:41,501 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:19:41,502 | server.py:110 | 
debug | INFO flwr 2024-08-09 23:19:41,502 | server.py:111 | [ROUND 10]
debug | INFO flwr 2024-08-09 23:19:41,502 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:22:36,774 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:22:38,818 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:23:24,728 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:23:24,728 | server.py:110 | 
debug | INFO flwr 2024-08-09 23:23:24,728 | server.py:111 | [ROUND 11]
debug | INFO flwr 2024-08-09 23:23:24,728 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:26:10,680 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:26:12,820 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:27:01,048 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:27:01,048 | server.py:110 | 
debug | INFO flwr 2024-08-09 23:27:01,048 | server.py:111 | [ROUND 12]
debug | INFO flwr 2024-08-09 23:27:01,048 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:29:49,027 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:29:51,267 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:30:41,186 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:30:41,186 | server.py:110 | 
debug | INFO flwr 2024-08-09 23:30:41,187 | server.py:111 | [ROUND 13]
debug | INFO flwr 2024-08-09 23:30:41,187 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:33:29,150 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:33:31,395 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:34:20,938 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:34:20,939 | server.py:110 | 
debug | INFO flwr 2024-08-09 23:34:20,939 | server.py:111 | [ROUND 14]
debug | INFO flwr 2024-08-09 23:34:20,939 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:37:11,403 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:37:13,684 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:38:02,441 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:38:02,441 | server.py:110 | 
debug | INFO flwr 2024-08-09 23:38:02,441 | server.py:111 | [ROUND 15]
debug | INFO flwr 2024-08-09 23:38:02,441 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:40:55,366 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:40:57,631 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:41:44,165 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:41:44,165 | server.py:110 | 
debug | INFO flwr 2024-08-09 23:41:44,165 | server.py:111 | [ROUND 16]
debug | INFO flwr 2024-08-09 23:41:44,165 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:44:29,362 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:44:31,364 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:45:16,942 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:45:16,943 | server.py:110 | 
debug | INFO flwr 2024-08-09 23:45:16,943 | server.py:111 | [ROUND 17]
debug | INFO flwr 2024-08-09 23:45:16,943 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:48:03,145 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:48:05,114 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:48:50,742 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:48:50,742 | server.py:110 | 
debug | INFO flwr 2024-08-09 23:48:50,742 | server.py:111 | [ROUND 18]
debug | INFO flwr 2024-08-09 23:48:50,743 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:51:36,937 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:51:39,028 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:52:30,846 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:52:30,846 | server.py:110 | 
debug | INFO flwr 2024-08-09 23:52:30,846 | server.py:111 | [ROUND 19]
debug | INFO flwr 2024-08-09 23:52:30,847 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:55:17,497 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:55:19,667 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:56:06,111 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:56:06,111 | server.py:110 | 
debug | INFO flwr 2024-08-09 23:56:06,111 | server.py:111 | [ROUND 20]
debug | INFO flwr 2024-08-09 23:56:06,112 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:58:54,180 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:58:56,433 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-09 23:59:42,962 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-09 23:59:42,962 | server.py:110 | 
debug | INFO flwr 2024-08-09 23:59:42,963 | server.py:111 | [ROUND 21]
debug | INFO flwr 2024-08-09 23:59:42,963 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:02:34,111 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:02:36,081 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:03:24,860 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:03:24,860 | server.py:110 | 
debug | INFO flwr 2024-08-10 00:03:24,860 | server.py:111 | [ROUND 22]
debug | INFO flwr 2024-08-10 00:03:24,861 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:06:16,089 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:06:18,186 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:07:04,934 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:07:04,934 | server.py:110 | 
debug | INFO flwr 2024-08-10 00:07:04,934 | server.py:111 | [ROUND 23]
debug | INFO flwr 2024-08-10 00:07:04,934 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:09:51,426 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:09:53,547 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:10:39,979 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:10:39,980 | server.py:110 | 
debug | INFO flwr 2024-08-10 00:10:39,980 | server.py:111 | [ROUND 24]
debug | INFO flwr 2024-08-10 00:10:39,980 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:13:25,603 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:13:27,960 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:14:15,807 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:14:15,807 | server.py:110 | 
debug | INFO flwr 2024-08-10 00:14:15,807 | server.py:111 | [ROUND 25]
debug | INFO flwr 2024-08-10 00:14:15,808 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:17:01,021 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:17:03,019 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:17:48,421 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:17:48,421 | server.py:110 | 
debug | INFO flwr 2024-08-10 00:17:48,421 | server.py:111 | [ROUND 26]
debug | INFO flwr 2024-08-10 00:17:48,422 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:20:35,484 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:20:37,510 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:21:23,892 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:21:23,893 | server.py:110 | 
debug | INFO flwr 2024-08-10 00:21:23,893 | server.py:111 | [ROUND 27]
debug | INFO flwr 2024-08-10 00:21:23,893 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:24:09,975 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:24:12,090 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:24:58,291 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:24:58,291 | server.py:110 | 
debug | INFO flwr 2024-08-10 00:24:58,291 | server.py:111 | [ROUND 28]
debug | INFO flwr 2024-08-10 00:24:58,291 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:27:45,649 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:27:47,772 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:28:36,703 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:28:36,703 | server.py:110 | 
debug | INFO flwr 2024-08-10 00:28:36,703 | server.py:111 | [ROUND 29]
debug | INFO flwr 2024-08-10 00:28:36,704 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:31:30,387 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:31:32,660 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:32:20,953 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:32:20,954 | server.py:110 | 
debug | INFO flwr 2024-08-10 00:32:20,954 | server.py:111 | [ROUND 30]
debug | INFO flwr 2024-08-10 00:32:20,954 | server.py:224 | configure_fit: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:35:12,456 | server.py:238 | aggregate_fit: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:35:14,491 | server.py:176 | configure_evaluate: strategy sampled 8 clients (out of 8)
debug | INFO flwr 2024-08-10 00:36:04,081 | server.py:190 | aggregate_evaluate: received 8 results and 0 failures
debug | INFO flwr 2024-08-10 00:36:04,137 | server.py:494 | 
debug | INFO flwr 2024-08-10 00:36:04,137 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-08-10 00:36:04,138 | server.py:496 | Run finished 30 round(s) in 6539.46s
debug | INFO flwr 2024-08-10 00:36:04,138 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-08-10 00:36:04,138 | server.py:498 | 		round 1: -1.0
debug | INFO flwr 2024-08-10 00:36:04,138 | server.py:498 | 		round 2: -1.0
debug | INFO flwr 2024-08-10 00:36:04,138 | server.py:498 | 		round 3: -1.0
debug | INFO flwr 2024-08-10 00:36:04,138 | server.py:498 | 		round 4: -1.0
debug | INFO flwr 2024-08-10 00:36:04,138 | server.py:498 | 		round 5: -1.0
debug | INFO flwr 2024-08-10 00:36:04,138 | server.py:498 | 		round 6: -1.0
debug | INFO flwr 2024-08-10 00:36:04,138 | server.py:498 | 		round 7: -1.0
debug | INFO flwr 2024-08-10 00:36:04,139 | server.py:498 | 		round 8: -1.0
debug | INFO flwr 2024-08-10 00:36:04,139 | server.py:498 | 		round 9: -1.0
debug | INFO flwr 2024-08-10 00:36:04,139 | server.py:498 | 		round 10: -1.0
debug | INFO flwr 2024-08-10 00:36:04,139 | server.py:498 | 		round 11: -1.0
debug | INFO flwr 2024-08-10 00:36:04,139 | server.py:498 | 		round 12: -1.0
debug | INFO flwr 2024-08-10 00:36:04,139 | server.py:498 | 		round 13: -1.0
debug | INFO flwr 2024-08-10 00:36:04,139 | server.py:498 | 		round 14: -1.0
debug | INFO flwr 2024-08-10 00:36:04,139 | server.py:498 | 		round 15: -1.0
debug | INFO flwr 2024-08-10 00:36:04,139 | server.py:498 | 		round 16: -1.0
debug | INFO flwr 2024-08-10 00:36:04,139 | server.py:498 | 		round 17: -1.0
debug | INFO flwr 2024-08-10 00:36:04,139 | server.py:498 | 		round 18: -1.0
debug | INFO flwr 2024-08-10 00:36:04,139 | server.py:498 | 		round 19: -1.0
debug | INFO flwr 2024-08-10 00:36:04,139 | server.py:498 | 		round 20: -1.0
debug | INFO flwr 2024-08-10 00:36:04,140 | server.py:498 | 		round 21: -1.0
debug | INFO flwr 2024-08-10 00:36:04,140 | server.py:498 | 		round 22: -1.0
debug | INFO flwr 2024-08-10 00:36:04,140 | server.py:498 | 		round 23: -1.0
debug | INFO flwr 2024-08-10 00:36:04,140 | server.py:498 | 		round 24: -1.0
debug | INFO flwr 2024-08-10 00:36:04,140 | server.py:498 | 		round 25: -1.0
debug | INFO flwr 2024-08-10 00:36:04,140 | server.py:498 | 		round 26: -1.0
debug | INFO flwr 2024-08-10 00:36:04,140 | server.py:498 | 		round 27: -1.0
debug | INFO flwr 2024-08-10 00:36:04,140 | server.py:498 | 		round 28: -1.0
debug | INFO flwr 2024-08-10 00:36:04,140 | server.py:498 | 		round 29: -1.0
debug | INFO flwr 2024-08-10 00:36:04,140 | server.py:498 | 		round 30: -1.0
debug | INFO flwr 2024-08-10 00:36:04,140 | server.py:499 | 
debug | INFO flwr 2024-08-10 00:40:11,248 | app.py:193 | Starting Flower simulation, config: num_rounds=30, no round_timeout
debug | INFO flwr 2024-08-10 00:40:15,096 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 26729135310.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 13.0, 'object_store_memory': 13364567654.0}
debug | INFO flwr 2024-08-10 00:40:15,097 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-08-10 00:40:15,097 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 12, 'num_gpus': 1}
debug | INFO flwr 2024-08-10 00:40:15,116 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-08-10 00:40:15,116 | server.py:92 | [INIT]
debug | INFO flwr 2024-08-10 00:40:15,117 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-08-10 00:40:27,704 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-08-10 00:40:27,705 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-08-10 00:40:27,705 | server.py:110 | 
debug | INFO flwr 2024-08-10 00:40:27,705 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-08-10 00:40:27,705 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 00:43:32,269 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | WARNING flwr 2024-08-10 00:43:33,994 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-10 00:43:35,009 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 00:44:37,229 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | WARNING flwr 2024-08-10 00:44:37,229 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-08-10 00:44:37,230 | server.py:110 | 
debug | INFO flwr 2024-08-10 00:44:37,230 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-08-10 00:44:37,230 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 00:47:35,501 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 00:47:38,134 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 00:48:35,252 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 00:48:35,252 | server.py:110 | 
debug | INFO flwr 2024-08-10 00:48:35,253 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-08-10 00:48:35,253 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 00:51:33,844 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 00:51:36,374 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 00:52:33,070 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 00:52:33,070 | server.py:110 | 
debug | INFO flwr 2024-08-10 00:52:33,071 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-08-10 00:52:33,071 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 00:55:32,794 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 00:55:35,447 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 00:56:34,916 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 00:56:34,916 | server.py:110 | 
debug | INFO flwr 2024-08-10 00:56:34,916 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-08-10 00:56:34,917 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 00:59:36,469 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 00:59:39,141 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:00:37,484 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:00:37,484 | server.py:110 | 
debug | INFO flwr 2024-08-10 01:00:37,484 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-08-10 01:00:37,485 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:03:39,846 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:03:42,538 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:04:42,720 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:04:42,720 | server.py:110 | 
debug | INFO flwr 2024-08-10 01:04:42,720 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-08-10 01:04:42,720 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:07:43,803 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:07:46,329 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:08:44,216 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:08:44,216 | server.py:110 | 
debug | INFO flwr 2024-08-10 01:08:44,216 | server.py:111 | [ROUND 8]
debug | INFO flwr 2024-08-10 01:08:44,217 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:11:45,166 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:11:47,729 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:12:45,565 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:12:45,566 | server.py:110 | 
debug | INFO flwr 2024-08-10 01:12:45,566 | server.py:111 | [ROUND 9]
debug | INFO flwr 2024-08-10 01:12:45,566 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:15:44,841 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:15:47,416 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:16:44,552 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:16:44,552 | server.py:110 | 
debug | INFO flwr 2024-08-10 01:16:44,552 | server.py:111 | [ROUND 10]
debug | INFO flwr 2024-08-10 01:16:44,553 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:19:42,955 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:19:45,611 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:20:42,594 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:20:42,594 | server.py:110 | 
debug | INFO flwr 2024-08-10 01:20:42,595 | server.py:111 | [ROUND 11]
debug | INFO flwr 2024-08-10 01:20:42,595 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:23:46,802 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:23:49,576 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:24:50,472 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:24:50,472 | server.py:110 | 
debug | INFO flwr 2024-08-10 01:24:50,472 | server.py:111 | [ROUND 12]
debug | INFO flwr 2024-08-10 01:24:50,473 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:27:54,811 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:27:57,428 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:29:03,886 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:29:03,887 | server.py:110 | 
debug | INFO flwr 2024-08-10 01:29:03,887 | server.py:111 | [ROUND 13]
debug | INFO flwr 2024-08-10 01:29:03,887 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:32:04,724 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:32:07,163 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:33:11,222 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:33:11,222 | server.py:110 | 
debug | INFO flwr 2024-08-10 01:33:11,222 | server.py:111 | [ROUND 14]
debug | INFO flwr 2024-08-10 01:33:11,223 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:36:12,623 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:36:15,114 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:37:13,141 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:37:13,142 | server.py:110 | 
debug | INFO flwr 2024-08-10 01:37:13,142 | server.py:111 | [ROUND 15]
debug | INFO flwr 2024-08-10 01:37:13,142 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:40:13,804 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:40:16,107 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:41:13,953 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:41:13,953 | server.py:110 | 
debug | INFO flwr 2024-08-10 01:41:13,953 | server.py:111 | [ROUND 16]
debug | INFO flwr 2024-08-10 01:41:13,953 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:44:14,338 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:44:16,741 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:45:14,523 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:45:14,523 | server.py:110 | 
debug | INFO flwr 2024-08-10 01:45:14,523 | server.py:111 | [ROUND 17]
debug | INFO flwr 2024-08-10 01:45:14,523 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:48:14,604 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:48:17,130 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:49:14,874 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:49:14,874 | server.py:110 | 
debug | INFO flwr 2024-08-10 01:49:14,875 | server.py:111 | [ROUND 18]
debug | INFO flwr 2024-08-10 01:49:14,875 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:52:13,815 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:52:16,459 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:53:13,438 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:53:13,438 | server.py:110 | 
debug | INFO flwr 2024-08-10 01:53:13,438 | server.py:111 | [ROUND 19]
debug | INFO flwr 2024-08-10 01:53:13,438 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:56:15,698 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:56:18,036 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 01:57:15,355 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 01:57:15,355 | server.py:110 | 
debug | INFO flwr 2024-08-10 01:57:15,356 | server.py:111 | [ROUND 20]
debug | INFO flwr 2024-08-10 01:57:15,356 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:00:15,729 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:00:18,166 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:01:16,158 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:01:16,158 | server.py:110 | 
debug | INFO flwr 2024-08-10 02:01:16,158 | server.py:111 | [ROUND 21]
debug | INFO flwr 2024-08-10 02:01:16,159 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:04:17,048 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:04:19,522 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:05:17,224 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:05:17,225 | server.py:110 | 
debug | INFO flwr 2024-08-10 02:05:17,225 | server.py:111 | [ROUND 22]
debug | INFO flwr 2024-08-10 02:05:17,225 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:08:19,094 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:08:21,648 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:09:19,012 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:09:19,012 | server.py:110 | 
debug | INFO flwr 2024-08-10 02:09:19,012 | server.py:111 | [ROUND 23]
debug | INFO flwr 2024-08-10 02:09:19,013 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:13:30,422 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:13:32,852 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:14:38,090 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:14:38,090 | server.py:110 | 
debug | INFO flwr 2024-08-10 02:14:38,090 | server.py:111 | [ROUND 24]
debug | INFO flwr 2024-08-10 02:14:38,090 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:17:38,255 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:17:40,840 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:18:38,035 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:18:38,036 | server.py:110 | 
debug | INFO flwr 2024-08-10 02:18:38,036 | server.py:111 | [ROUND 25]
debug | INFO flwr 2024-08-10 02:18:38,036 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:21:37,421 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:21:39,930 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:22:37,399 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:22:37,399 | server.py:110 | 
debug | INFO flwr 2024-08-10 02:22:37,399 | server.py:111 | [ROUND 26]
debug | INFO flwr 2024-08-10 02:22:37,400 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:25:37,841 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:25:40,445 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:26:38,785 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:26:38,785 | server.py:110 | 
debug | INFO flwr 2024-08-10 02:26:38,785 | server.py:111 | [ROUND 27]
debug | INFO flwr 2024-08-10 02:26:38,785 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:29:43,030 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:29:45,765 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:30:45,250 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:30:45,250 | server.py:110 | 
debug | INFO flwr 2024-08-10 02:30:45,250 | server.py:111 | [ROUND 28]
debug | INFO flwr 2024-08-10 02:30:45,251 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:34:09,968 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:34:12,329 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:36:51,191 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:36:51,192 | server.py:110 | 
debug | INFO flwr 2024-08-10 02:36:51,192 | server.py:111 | [ROUND 29]
debug | INFO flwr 2024-08-10 02:36:51,192 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:40:11,016 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:40:13,417 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:41:09,398 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:41:09,398 | server.py:110 | 
debug | INFO flwr 2024-08-10 02:41:09,398 | server.py:111 | [ROUND 30]
debug | INFO flwr 2024-08-10 02:41:09,399 | server.py:224 | configure_fit: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:44:08,324 | server.py:238 | aggregate_fit: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:44:10,923 | server.py:176 | configure_evaluate: strategy sampled 10 clients (out of 10)
debug | INFO flwr 2024-08-10 02:45:09,184 | server.py:190 | aggregate_evaluate: received 10 results and 0 failures
debug | INFO flwr 2024-08-10 02:45:09,269 | server.py:494 | 
debug | INFO flwr 2024-08-10 02:45:09,269 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-08-10 02:45:09,269 | server.py:496 | Run finished 30 round(s) in 7481.48s
debug | INFO flwr 2024-08-10 02:45:09,269 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-08-10 02:45:09,270 | server.py:498 | 		round 1: -1.0
debug | INFO flwr 2024-08-10 02:45:09,270 | server.py:498 | 		round 2: -1.0
debug | INFO flwr 2024-08-10 02:45:09,270 | server.py:498 | 		round 3: -1.0
debug | INFO flwr 2024-08-10 02:45:09,270 | server.py:498 | 		round 4: -1.0
debug | INFO flwr 2024-08-10 02:45:09,270 | server.py:498 | 		round 5: -1.0
debug | INFO flwr 2024-08-10 02:45:09,270 | server.py:498 | 		round 6: -1.0
debug | INFO flwr 2024-08-10 02:45:09,270 | server.py:498 | 		round 7: -1.0
debug | INFO flwr 2024-08-10 02:45:09,270 | server.py:498 | 		round 8: -1.0
debug | INFO flwr 2024-08-10 02:45:09,270 | server.py:498 | 		round 9: -1.0
debug | INFO flwr 2024-08-10 02:45:09,270 | server.py:498 | 		round 10: -1.0
debug | INFO flwr 2024-08-10 02:45:09,270 | server.py:498 | 		round 11: -1.0
debug | INFO flwr 2024-08-10 02:45:09,271 | server.py:498 | 		round 12: -1.0
debug | INFO flwr 2024-08-10 02:45:09,271 | server.py:498 | 		round 13: -1.0
debug | INFO flwr 2024-08-10 02:45:09,271 | server.py:498 | 		round 14: -1.0
debug | INFO flwr 2024-08-10 02:45:09,271 | server.py:498 | 		round 15: -1.0
debug | INFO flwr 2024-08-10 02:45:09,271 | server.py:498 | 		round 16: -1.0
debug | INFO flwr 2024-08-10 02:45:09,271 | server.py:498 | 		round 17: -1.0
debug | INFO flwr 2024-08-10 02:45:09,271 | server.py:498 | 		round 18: -1.0
debug | INFO flwr 2024-08-10 02:45:09,271 | server.py:498 | 		round 19: -1.0
debug | INFO flwr 2024-08-10 02:45:09,271 | server.py:498 | 		round 20: -1.0
debug | INFO flwr 2024-08-10 02:45:09,271 | server.py:498 | 		round 21: -1.0
debug | INFO flwr 2024-08-10 02:45:09,271 | server.py:498 | 		round 22: -1.0
debug | INFO flwr 2024-08-10 02:45:09,271 | server.py:498 | 		round 23: -1.0
debug | INFO flwr 2024-08-10 02:45:09,272 | server.py:498 | 		round 24: -1.0
debug | INFO flwr 2024-08-10 02:45:09,272 | server.py:498 | 		round 25: -1.0
debug | INFO flwr 2024-08-10 02:45:09,272 | server.py:498 | 		round 26: -1.0
debug | INFO flwr 2024-08-10 02:45:09,272 | server.py:498 | 		round 27: -1.0
debug | INFO flwr 2024-08-10 02:45:09,272 | server.py:498 | 		round 28: -1.0
debug | INFO flwr 2024-08-10 02:45:09,272 | server.py:498 | 		round 29: -1.0
debug | INFO flwr 2024-08-10 02:45:09,272 | server.py:498 | 		round 30: -1.0
debug | INFO flwr 2024-08-10 02:45:09,272 | server.py:499 | 
