debug | ERROR flwr 2024-07-09 04:49:26,372 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:49:26,372 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 04:49:29,991 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:49:29,991 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 04:49:33,397 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:49:33,397 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 04:49:36,844 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:49:36,844 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=22383, ip=172.17.0.2, actor_id=1ae0d6d522eed0ea5777b79901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7516cc2c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | INFO flwr 2024-07-09 04:52:35,755 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 04:52:37,645 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38138032128.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'object_store_memory': 19069016064.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-09 04:52:37,645 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 04:52:37,645 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 04:52:37,650 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 04:52:37,650 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 04:52:37,650 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 04:52:44,043 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 04:52:44,043 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 04:52:44,090 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 04:52:44,090 | server.py:110 | 
debug | INFO flwr 2024-07-09 04:52:44,091 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 04:52:44,091 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 04:52:47,883 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:52:47,883 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 04:52:51,428 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:52:51,428 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 04:52:54,904 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:52:54,904 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 04:52:58,268 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:52:58,268 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 97, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 33, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=23547, ip=172.17.0.2, actor_id=c9eda4deb932369c330f52e601000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b270843dd20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | INFO flwr 2024-07-09 04:54:15,991 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 04:54:17,898 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 38137545524.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'object_store_memory': 19068772761.0}
debug | INFO flwr 2024-07-09 04:54:17,898 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 04:54:17,898 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 04:54:17,903 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 04:54:17,903 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 04:54:17,903 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 04:54:24,106 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 04:54:24,106 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 04:54:24,151 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 04:54:24,151 | server.py:110 | 
debug | INFO flwr 2024-07-09 04:54:24,151 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 04:54:24,151 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 04:54:27,974 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:54:27,974 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 04:54:31,415 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:54:31,415 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 04:54:34,869 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:54:34,869 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 04:54:38,766 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 04:54:38,766 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=24806, ip=172.17.0.2, actor_id=b133a347fd1450285cf1d23a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7afe6c6f1cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | INFO flwr 2024-07-09 04:57:27,893 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 04:57:29,772 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19066510540.0, 'node:__internal_head__': 1.0, 'memory': 38133021083.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-09 04:57:29,772 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 04:57:29,772 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 04:57:29,777 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 04:57:29,778 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 04:57:29,778 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 04:57:35,972 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 04:57:35,972 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 04:57:36,019 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 04:57:36,019 | server.py:110 | 
debug | INFO flwr 2024-07-09 04:57:36,019 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 04:57:36,019 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 04:57:39,578 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:57:39,578 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | ERROR flwr 2024-07-09 04:57:42,626 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:57:42,626 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | ERROR flwr 2024-07-09 04:57:45,660 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:57:45,661 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | ERROR flwr 2024-07-09 04:57:49,166 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:57:49,166 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | ERROR flwr 2024-07-09 04:57:52,115 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:57:52,115 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | INFO flwr 2024-07-09 04:57:52,115 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 04:57:52,160 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 16.140951369001414)
debug | INFO flwr 2024-07-09 04:57:52,160 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 04:57:55,199 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 04:57:55,200 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 04:57:58,434 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 04:57:58,434 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 04:58:01,327 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 04:58:01,327 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 04:58:04,811 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 04:58:04,811 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 04:58:07,537 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 04:58:07,538 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | INFO flwr 2024-07-09 04:58:07,538 | server.py:190 | aggregate_evaluate: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 04:58:07,538 | server.py:110 | 
debug | INFO flwr 2024-07-09 04:58:07,538 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 04:58:07,538 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 04:58:10,544 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:58:10,544 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | ERROR flwr 2024-07-09 04:58:13,659 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:58:13,659 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | ERROR flwr 2024-07-09 04:58:16,760 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:58:16,760 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | ERROR flwr 2024-07-09 04:58:19,777 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:58:19,777 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | ERROR flwr 2024-07-09 04:58:22,482 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0

debug | ERROR flwr 2024-07-09 04:58:22,482 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 28, in apply_transforms
    print(batch[0])
KeyError: 0

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=25990, ip=172.17.0.2, actor_id=3de830e32634f7917db305b901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x70b88d759cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 0
debug | INFO flwr 2024-07-09 04:59:38,284 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 04:59:40,183 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 19067435827.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'memory': 38134871655.0}
debug | INFO flwr 2024-07-09 04:59:40,183 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 04:59:40,183 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 04:59:40,189 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 04:59:40,189 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 04:59:40,189 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 04:59:46,451 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 04:59:46,451 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 04:59:46,495 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 04:59:46,495 | server.py:110 | 
debug | INFO flwr 2024-07-09 04:59:46,495 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 04:59:46,495 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 04:59:49,947 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment

debug | ERROR flwr 2024-07-09 04:59:49,947 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment
debug | ERROR flwr 2024-07-09 04:59:52,919 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment

debug | ERROR flwr 2024-07-09 04:59:52,919 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment
debug | ERROR flwr 2024-07-09 04:59:56,091 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment

debug | ERROR flwr 2024-07-09 04:59:56,091 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment
debug | ERROR flwr 2024-07-09 04:59:59,111 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment

debug | ERROR flwr 2024-07-09 04:59:59,111 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment
debug | ERROR flwr 2024-07-09 05:00:03,510 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment

debug | ERROR flwr 2024-07-09 05:00:03,510 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch = [simclr_augmentation(img) for img in batch]
  File "/root/src/fedSSL/transform.py", line 40, in __call__
    no_augment = transforms.Compose(original)
UnboundLocalError: local variable 'original' referenced before assignment

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: local variable 'original' referenced before assignment
debug | INFO flwr 2024-07-09 05:00:03,510 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:00:03,553 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 17.057444139005383)
debug | INFO flwr 2024-07-09 05:00:03,553 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:00:07,557 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:00:07,557 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:00:10,753 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:00:10,753 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:00:14,274 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:00:14,274 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:00:17,548 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:00:17,548 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27806, ip=172.17.0.2, actor_id=d8165d43e7d48272fede3c5a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b5c942bdd80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | INFO flwr 2024-07-09 05:10:57,568 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:10:59,453 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 19067701248.0, 'memory': 38135402496.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-09 05:10:59,453 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:10:59,453 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:10:59,458 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:10:59,458 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:10:59,458 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-09 05:11:05,759 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=29376, ip=172.17.0.2, actor_id=7578c7e1cb42031d74fd4f9d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x74f748011d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 115, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 86, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 46, in load_partition
    inputs = partition_train_test['img']
NameError: name 'partition_train_test' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=29376, ip=172.17.0.2, actor_id=7578c7e1cb42031d74fd4f9d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x74f748011d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'partition_train_test' is not defined

debug | ERROR flwr 2024-07-09 05:11:05,759 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=29376, ip=172.17.0.2, actor_id=7578c7e1cb42031d74fd4f9d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x74f748011d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 115, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 86, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 46, in load_partition
    inputs = partition_train_test['img']
NameError: name 'partition_train_test' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=29376, ip=172.17.0.2, actor_id=7578c7e1cb42031d74fd4f9d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x74f748011d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'partition_train_test' is not defined
debug | ERROR flwr 2024-07-09 05:11:05,759 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=29376, ip=172.17.0.2, actor_id=7578c7e1cb42031d74fd4f9d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x74f748011d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 115, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 86, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 46, in load_partition
    inputs = partition_train_test['img']
NameError: name 'partition_train_test' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=29376, ip=172.17.0.2, actor_id=7578c7e1cb42031d74fd4f9d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x74f748011d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'partition_train_test' is not defined
debug | ERROR flwr 2024-07-09 05:11:05,759 | app.py:329 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=29376, ip=172.17.0.2, actor_id=7578c7e1cb42031d74fd4f9d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x74f748011d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 115, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 86, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 46, in load_partition
    inputs = partition_train_test['img']
NameError: name 'partition_train_test' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=29376, ip=172.17.0.2, actor_id=7578c7e1cb42031d74fd4f9d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x74f748011d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'partition_train_test' is not defined

debug | ERROR flwr 2024-07-09 05:11:05,759 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-09 05:11:37,522 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:11:39,421 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'object_store_memory': 19067815526.0, 'memory': 38135631054.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-09 05:11:39,421 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:11:39,421 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:11:39,427 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:11:39,427 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:11:39,427 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-09 05:11:55,047 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=30324, ip=172.17.0.2, actor_id=d51a02d53ec462a0ca9152f001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7815046f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 115, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 86, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 48, in load_partition
    labels = partition['labels']
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2845, in _getitem
    pa_subtable = query_table(self._data, key, indices=self._indices)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 584, in query_table
    _check_valid_column_key(key, table.column_names)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 521, in _check_valid_column_key
    raise KeyError(f"Column {key} not in the dataset. Current columns in the dataset: {columns}")
KeyError: "Column labels not in the dataset. Current columns in the dataset: ['img', 'label']"

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=30324, ip=172.17.0.2, actor_id=d51a02d53ec462a0ca9152f001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7815046f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: "Column labels not in the dataset. Current columns in the dataset: ['img', 'label']"

debug | ERROR flwr 2024-07-09 05:11:55,048 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=30324, ip=172.17.0.2, actor_id=d51a02d53ec462a0ca9152f001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7815046f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 115, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 86, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 48, in load_partition
    labels = partition['labels']
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2845, in _getitem
    pa_subtable = query_table(self._data, key, indices=self._indices)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 584, in query_table
    _check_valid_column_key(key, table.column_names)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 521, in _check_valid_column_key
    raise KeyError(f"Column {key} not in the dataset. Current columns in the dataset: {columns}")
KeyError: "Column labels not in the dataset. Current columns in the dataset: ['img', 'label']"

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=30324, ip=172.17.0.2, actor_id=d51a02d53ec462a0ca9152f001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7815046f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: "Column labels not in the dataset. Current columns in the dataset: ['img', 'label']"
debug | ERROR flwr 2024-07-09 05:11:55,048 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=30324, ip=172.17.0.2, actor_id=d51a02d53ec462a0ca9152f001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7815046f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 115, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 86, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 48, in load_partition
    labels = partition['labels']
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2845, in _getitem
    pa_subtable = query_table(self._data, key, indices=self._indices)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 584, in query_table
    _check_valid_column_key(key, table.column_names)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 521, in _check_valid_column_key
    raise KeyError(f"Column {key} not in the dataset. Current columns in the dataset: {columns}")
KeyError: "Column labels not in the dataset. Current columns in the dataset: ['img', 'label']"

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=30324, ip=172.17.0.2, actor_id=d51a02d53ec462a0ca9152f001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7815046f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: "Column labels not in the dataset. Current columns in the dataset: ['img', 'label']"
debug | ERROR flwr 2024-07-09 05:11:55,048 | app.py:329 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=30324, ip=172.17.0.2, actor_id=d51a02d53ec462a0ca9152f001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7815046f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 115, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 86, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 48, in load_partition
    labels = partition['labels']
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2845, in _getitem
    pa_subtable = query_table(self._data, key, indices=self._indices)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 584, in query_table
    _check_valid_column_key(key, table.column_names)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 521, in _check_valid_column_key
    raise KeyError(f"Column {key} not in the dataset. Current columns in the dataset: {columns}")
KeyError: "Column labels not in the dataset. Current columns in the dataset: ['img', 'label']"

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=30324, ip=172.17.0.2, actor_id=d51a02d53ec462a0ca9152f001000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7815046f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: "Column labels not in the dataset. Current columns in the dataset: ['img', 'label']"

debug | ERROR flwr 2024-07-09 05:11:55,048 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-09 05:17:15,878 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:17:17,788 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38135483598.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'object_store_memory': 19067741798.0}
debug | INFO flwr 2024-07-09 05:17:17,789 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:17:17,789 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:17:17,794 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:17:17,794 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:17:17,794 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:17:46,636 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:17:46,636 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:17:46,683 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 05:17:46,683 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:17:46,683 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:17:46,683 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:18:14,168 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 05:18:14,168 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 05:18:18,446 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 05:18:18,446 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | ERROR flwr 2024-07-09 05:18:45,020 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'

debug | ERROR flwr 2024-07-09 05:18:45,021 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 35, in train
    x_i, x_j = x_i.to(DEVICE), x_j.to(DEVICE)
AttributeError: 'str' object has no attribute 'to'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=31368, ip=172.17.0.2, actor_id=4bda3caaadfa2e0f4e5263ce01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78026c5b9d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'str' object has no attribute 'to'
debug | INFO flwr 2024-07-09 05:19:42,510 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:19:44,402 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'object_store_memory': 18945690009.0, 'memory': 37891380020.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-09 05:19:44,403 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:19:44,403 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:19:44,408 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:19:44,408 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:19:44,408 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:19:50,944 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:19:50,944 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:19:50,990 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 05:19:50,990 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:19:50,990 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:19:50,990 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:19:54,355 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable

debug | ERROR flwr 2024-07-09 05:19:54,355 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable
debug | ERROR flwr 2024-07-09 05:19:57,285 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable

debug | ERROR flwr 2024-07-09 05:19:57,285 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable
debug | ERROR flwr 2024-07-09 05:20:00,342 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable

debug | ERROR flwr 2024-07-09 05:20:00,342 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable
debug | ERROR flwr 2024-07-09 05:20:03,373 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable

debug | ERROR flwr 2024-07-09 05:20:03,373 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable
debug | ERROR flwr 2024-07-09 05:20:06,273 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable

debug | ERROR flwr 2024-07-09 05:20:06,273 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 29, in apply_transforms
    batch["img"] = [transforms(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 29, in <listcomp>
    batch["img"] = [transforms(img) for img in batch["img"]]
TypeError: 'module' object is not callable

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'module' object is not callable
debug | INFO flwr 2024-07-09 05:20:06,273 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:20:06,317 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 15.326353805001418)
debug | INFO flwr 2024-07-09 05:20:06,317 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:20:09,369 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:20:09,369 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:20:12,444 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:20:12,444 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=33490, ip=172.17.0.2, actor_id=f349d9f44a301dc00e1138c101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x782118711cf0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | INFO flwr 2024-07-09 05:21:57,109 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:21:59,018 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:172.17.0.2': 1.0, 'CPU': 11.0, 'object_store_memory': 19066043596.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'memory': 38132087195.0}
debug | INFO flwr 2024-07-09 05:21:59,019 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:21:59,019 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:21:59,024 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:21:59,024 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:21:59,024 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:22:05,291 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:22:05,291 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:22:05,337 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 05:22:05,337 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:22:05,337 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:22:05,337 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:22:05,953 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'

debug | ERROR flwr 2024-07-09 05:22:05,953 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'
debug | ERROR flwr 2024-07-09 05:22:06,509 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'

debug | ERROR flwr 2024-07-09 05:22:06,509 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'
debug | ERROR flwr 2024-07-09 05:22:07,055 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'

debug | ERROR flwr 2024-07-09 05:22:07,055 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'
debug | ERROR flwr 2024-07-09 05:22:07,546 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'

debug | ERROR flwr 2024-07-09 05:22:07,546 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'
debug | ERROR flwr 2024-07-09 05:22:07,938 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'

debug | ERROR flwr 2024-07-09 05:22:07,938 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 99, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 31, in train
    for (x, x_i, x_j), _ in trainloader.items():
AttributeError: 'DataLoader' object has no attribute 'items'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'DataLoader' object has no attribute 'items'
debug | INFO flwr 2024-07-09 05:22:07,938 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:22:07,982 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 2.6452394709995133)
debug | INFO flwr 2024-07-09 05:22:07,982 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:22:08,497 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:22:08,497 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:22:08,945 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:22:08,945 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:22:09,388 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:22:09,388 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:22:09,835 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:22:09,836 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:22:10,226 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:22:10,227 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 106, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=34756, ip=172.17.0.2, actor_id=12a5fcc7a1d8ad7edc8a0f1d01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7908808f1c30>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | INFO flwr 2024-07-09 05:28:21,267 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:28:23,161 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 19065661440.0, 'memory': 38131322880.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-09 05:28:23,162 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:28:23,162 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:28:23,167 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:28:23,167 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:28:23,167 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:28:29,668 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:28:29,668 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:28:29,714 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 05:28:29,715 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:28:29,715 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:28:29,715 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:28:31,219 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:31,220 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:28:32,281 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:32,281 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:28:33,328 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:33,328 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:28:34,358 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:35,124 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:28:35,334 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:35,334 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:28:35,335 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:28:35,379 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 5.664714301005006)
debug | INFO flwr 2024-07-09 05:28:35,379 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:28:35,945 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:35,946 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:28:36,509 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:36,509 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:28:37,006 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:37,006 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:28:37,487 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:37,910 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:38,042 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:28:38,043 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | INFO flwr 2024-07-09 05:28:38,044 | server.py:190 | aggregate_evaluate: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:28:38,044 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:28:38,045 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 05:28:38,045 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:28:39,132 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:39,132 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:28:40,052 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:40,052 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:28:40,973 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:41,894 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:42,702 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:28:42,702 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:28:42,770 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:28:44,030 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 103, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 51, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:28:44,034 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:28:44,087 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 14.372192727001675)
debug | INFO flwr 2024-07-09 05:28:44,940 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:28:45,452 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:45,452 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:28:45,951 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:45,951 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:28:46,486 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:46,487 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:28:47,009 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:47,009 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | ERROR flwr 2024-07-09 05:28:47,470 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined

debug | ERROR flwr 2024-07-09 05:28:47,470 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 110, in evaluate
    loss, accuracy = test(self.simclr, testloader, ntxent)
NameError: name 'testloader' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=35943, ip=172.17.0.2, actor_id=4417b86a3e0c63c512af44d901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78a4a85b5d80>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'testloader' is not defined
debug | INFO flwr 2024-07-09 05:29:44,699 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:29:46,613 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:172.17.0.2': 1.0, 'CPU': 11.0, 'memory': 38126808270.0, 'object_store_memory': 19063404134.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-09 05:29:46,614 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:29:46,614 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:29:46,619 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:29:46,619 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:29:46,619 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:29:52,854 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:29:52,854 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:29:52,899 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 05:29:52,899 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:29:52,899 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:29:52,899 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:29:54,385 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:29:54,385 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:29:55,408 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:29:55,408 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:29:56,438 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:29:56,438 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:29:57,475 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:29:57,476 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:29:58,450 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:29:58,450 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:29:58,450 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:29:58,497 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 5.597631005002768)
debug | INFO flwr 2024-07-09 05:29:58,497 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:29:59,588 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:29:59,588 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:00,613 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:00,613 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:01,686 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:01,686 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:02,615 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:02,615 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:03,475 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:03,475 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:30:03,475 | server.py:190 | aggregate_evaluate: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:30:03,475 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:30:03,475 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 05:30:03,475 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:30:04,465 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:04,465 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:05,438 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:05,438 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:06,483 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:06,483 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:07,541 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:08,037 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:08,540 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:08,540 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:30:08,540 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:30:08,588 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 15.688843862000795)
debug | INFO flwr 2024-07-09 05:30:08,588 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:30:09,684 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:10,699 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:11,074 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:11,074 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:11,698 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:11,699 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:12,761 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:12,761 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:13,614 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:13,614 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:30:13,614 | server.py:190 | aggregate_evaluate: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:30:13,614 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:30:13,615 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 05:30:13,615 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:30:14,584 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:14,584 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:15,505 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:15,505 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:16,429 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:17,188 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:17,360 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:17,361 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=37211, ip=172.17.0.2, actor_id=76e9941d45a796decf8ad25901000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x73da201f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:30:28,040 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:30:30,026 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'memory': 38124741428.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'object_store_memory': 19062370713.0}
debug | INFO flwr 2024-07-09 05:30:30,027 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:30:30,027 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:30:30,051 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:30:30,051 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:30:30,051 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:30:36,584 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:30:36,584 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:30:36,631 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 05:30:36,631 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:30:36,631 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:30:36,631 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:30:38,128 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:38,128 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:39,187 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:39,187 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:40,202 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:41,078 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:41,230 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:41,230 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:42,173 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:42,173 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:30:42,173 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:30:42,221 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 5.590050187995075)
debug | INFO flwr 2024-07-09 05:30:42,221 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:30:43,285 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:43,285 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:44,295 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:45,389 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:46,319 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:47,180 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:48,670 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:48,671 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:48,672 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:48,672 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 108, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 74, in test
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:30:48,673 | server.py:190 | aggregate_evaluate: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:30:48,673 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:30:48,673 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 05:30:48,673 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:30:49,670 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:50,612 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:51,015 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:51,016 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:51,608 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:51,816 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:52,659 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:53,631 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'

debug | ERROR flwr 2024-07-09 05:30:54,577 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | ERROR flwr 2024-07-09 05:30:54,578 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 101, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 49, in train
    batch += 1
TypeError: unsupported operand type(s) for +=: 'dict' and 'int'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=38546, ip=172.17.0.2, actor_id=d7c36e0ea7f980e429bcd2a101000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78afa8445d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: unsupported operand type(s) for +=: 'dict' and 'int'
debug | INFO flwr 2024-07-09 05:31:36,666 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:31:38,554 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19064168448.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'memory': 38128336896.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0}
debug | INFO flwr 2024-07-09 05:31:38,554 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:31:38,554 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:31:38,560 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:31:38,560 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:31:38,560 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:32:11,535 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:32:13,432 | app.py:228 | Flower VCE: Ray initialized with resources: {'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'object_store_memory': 19062997401.0, 'memory': 38125994804.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-09 05:32:13,432 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:32:13,432 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:32:13,437 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:32:13,438 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:32:13,438 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:32:19,815 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:32:19,815 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:32:19,862 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 05:32:19,862 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:32:19,862 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:32:19,862 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 05:32:28,764 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}

debug | ERROR flwr 2024-07-09 05:32:28,764 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}
debug | ERROR flwr 2024-07-09 05:32:37,184 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}

debug | ERROR flwr 2024-07-09 05:32:37,184 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}
debug | ERROR flwr 2024-07-09 05:32:45,470 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}

debug | ERROR flwr 2024-07-09 05:32:45,470 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}
debug | ERROR flwr 2024-07-09 05:32:53,774 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}

debug | ERROR flwr 2024-07-09 05:32:53,774 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}
debug | ERROR flwr 2024-07-09 05:33:01,941 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}

debug | ERROR flwr 2024-07-09 05:33:01,941 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 245, in _fit
    raise TypeError(EXCEPTION_MESSAGE_WRONG_RETURN_TYPE_FIT)
TypeError: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}



The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=40824, ip=172.17.0.2, actor_id=a53cfa753c2d4bc2544c10fe01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7b18503b9cc0>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 
NumPyClient.fit did not return a tuple with 3 elements.
The returned values should have the following type signature:

    Tuple[NDArrays, int, Dict[str, Scalar]]

Example
-------

    model.get_weights(), 10, {"accuracy": 0.95}
debug | INFO flwr 2024-07-09 05:33:01,942 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 05:33:01,986 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 42.12357196200173)
debug | INFO flwr 2024-07-09 05:33:01,986 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:33:14,061 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 05:33:14,061 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 05:33:14,062 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:33:14,062 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 05:33:14,062 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:36:26,395 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:36:28,295 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19062658252.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'memory': 38125316507.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-09 05:36:28,295 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:36:28,295 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:36:28,301 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:36:28,301 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:36:28,301 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:36:34,882 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:36:34,882 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:36:34,928 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 05:36:34,929 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:36:34,929 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:36:34,929 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:37:18,142 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 05:37:18,554 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 05:37:18,581 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 43.652717135002604)
debug | INFO flwr 2024-07-09 05:37:18,581 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:37:30,705 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 05:37:30,706 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 05:37:30,706 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:37:30,706 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 05:37:30,706 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:38:12,781 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:38:13,210 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 98.28165723299753)
debug | INFO flwr 2024-07-09 05:38:13,210 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:38:25,221 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:38:25,221 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:38:25,221 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 05:38:25,222 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:39:07,557 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:39:07,977 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 153.0484258209981)
debug | INFO flwr 2024-07-09 05:39:07,977 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:39:19,945 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:39:19,945 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:39:19,945 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 05:39:19,945 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:40:01,949 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:40:02,379 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 207.45056535400363)
debug | INFO flwr 2024-07-09 05:40:02,379 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:40:14,355 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:40:14,355 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:40:14,355 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-09 05:40:14,355 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:40:56,804 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:40:57,225 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 262.29624242999853)
debug | INFO flwr 2024-07-09 05:40:57,225 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:41:09,186 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:41:09,187 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:41:09,187 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-09 05:41:09,187 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:41:51,448 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:41:51,868 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 316.9396297639978)
debug | INFO flwr 2024-07-09 05:41:51,868 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:42:03,718 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:42:03,718 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:42:03,718 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-09 05:42:03,718 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:42:45,875 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:43:04,459 | server.py:129 | fit progress: (7, tensor(1.3939, device='cuda:0'), {'accuracy': 0.5631111111111111}, 389.5302933159983)
debug | INFO flwr 2024-07-09 05:43:04,488 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:43:16,471 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 05:43:16,482 | server.py:494 | 
debug | INFO flwr 2024-07-09 05:43:16,482 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 05:43:16,482 | server.py:496 | Run finished 7 round(s) in 401.54s
debug | INFO flwr 2024-07-09 05:43:16,482 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 1: 6.236139416694641
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 2: 5.984530663490295
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 3: 5.8612425327301025
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 4: 5.802330040931702
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 5: 5.783141160011292
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 6: 5.759219741821289
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 7: 5.723884439468383
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 		round 7: 1.3939374685287476
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:498 | 	              (7, 0.5631111111111111)]}
debug | INFO flwr 2024-07-09 05:43:16,483 | server.py:499 | 
debug | INFO flwr 2024-07-09 05:45:49,677 | app.py:193 | Starting Flower simulation, config: num_rounds=4, no round_timeout
debug | INFO flwr 2024-07-09 05:45:51,583 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19060694630.0, 'node:__internal_head__': 1.0, 'memory': 38121389262.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0}
debug | INFO flwr 2024-07-09 05:45:51,583 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:45:51,583 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:45:51,588 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:45:51,589 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:45:51,589 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:45:59,047 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:45:59,047 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:45:59,095 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 05:45:59,095 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:45:59,095 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:45:59,095 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:46:39,977 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-09 05:46:40,160 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 05:46:40,191 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 41.09592936199624)
debug | INFO flwr 2024-07-09 05:46:40,191 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:46:50,895 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-09 05:46:50,895 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 05:46:50,895 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:46:50,895 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 05:46:50,895 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:47:31,209 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:47:31,408 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 92.31358774099499)
debug | INFO flwr 2024-07-09 05:47:31,409 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:47:42,010 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:47:42,010 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:47:42,010 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 05:47:42,010 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:48:22,533 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:48:22,707 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 143.61267748799582)
debug | INFO flwr 2024-07-09 05:48:22,708 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:48:33,431 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:48:33,432 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:48:33,432 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 05:48:33,432 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:49:14,049 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:49:24,012 | server.py:129 | fit progress: (4, tensor(1.7529, device='cuda:0'), {'accuracy': 0.46355555555555555}, 204.9173240300006)
debug | INFO flwr 2024-07-09 05:49:24,028 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:49:34,740 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:49:34,744 | server.py:494 | 
debug | INFO flwr 2024-07-09 05:49:34,744 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 05:49:34,744 | server.py:496 | Run finished 4 round(s) in 215.65s
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 		round 1: 5.97545018196106
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 		round 2: 5.823779487609864
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 		round 3: 5.746642994880676
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 		round 4: 5.717197561264038
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 		round 4: 1.7528555393218994
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:498 | 	{'accuracy': [(0, -1), (1, -1), (2, -1), (3, -1), (4, 0.46355555555555555)]}
debug | INFO flwr 2024-07-09 05:49:34,745 | server.py:499 | 
debug | INFO flwr 2024-07-09 05:51:44,381 | app.py:193 | Starting Flower simulation, config: num_rounds=4, no round_timeout
debug | INFO flwr 2024-07-09 05:51:46,280 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38121141044.0, 'object_store_memory': 19060570521.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-09 05:51:46,280 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:51:46,280 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:51:46,285 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:51:46,285 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:51:46,285 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:51:54,041 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:51:54,042 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:52:16,620 | server.py:97 | initial parameters (loss, other metrics): tensor(1.5878, device='cuda:0'), {'accuracy': 0.4726666666666667}
debug | INFO flwr 2024-07-09 05:52:16,635 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:52:16,635 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:52:16,635 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:52:57,550 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-09 05:52:57,737 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 05:53:19,705 | server.py:129 | fit progress: (1, tensor(1.2851, device='cuda:0'), {'accuracy': 0.562}, 63.0698853579961)
debug | INFO flwr 2024-07-09 05:53:19,706 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:53:30,344 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-09 05:53:30,344 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 05:53:30,344 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:53:30,344 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 05:53:30,345 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:54:10,577 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:54:32,761 | server.py:129 | fit progress: (2, tensor(1.2061, device='cuda:0'), {'accuracy': 0.586}, 136.1264950439945)
debug | INFO flwr 2024-07-09 05:54:32,762 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:54:43,416 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:54:43,416 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:54:43,416 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 05:54:43,416 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:55:24,130 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:55:46,268 | server.py:129 | fit progress: (3, tensor(1.1538, device='cuda:0'), {'accuracy': 0.5935555555555555}, 209.63333235399477)
debug | INFO flwr 2024-07-09 05:55:46,269 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:55:56,980 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:55:56,980 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:55:56,980 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 05:55:56,980 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:56:37,707 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:56:59,957 | server.py:129 | fit progress: (4, tensor(1.1401, device='cuda:0'), {'accuracy': 0.6023333333333334}, 283.322516659995)
debug | INFO flwr 2024-07-09 05:56:59,958 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-09 05:57:10,703 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | INFO flwr 2024-07-09 05:57:10,708 | server.py:494 | 
debug | INFO flwr 2024-07-09 05:57:10,708 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 05:57:10,708 | server.py:496 | Run finished 4 round(s) in 294.07s
debug | INFO flwr 2024-07-09 05:57:10,708 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 05:57:10,708 | server.py:498 | 		round 1: 5.953476881980896
debug | INFO flwr 2024-07-09 05:57:10,708 | server.py:498 | 		round 2: 5.8075024604797365
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 		round 3: 5.791598010063171
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 		round 4: 5.726619458198547
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 		round 0: 1.5877822637557983
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 		round 1: 1.2850899696350098
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 		round 2: 1.206124186515808
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 		round 3: 1.1537820100784302
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 		round 4: 1.140051007270813
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 	{'accuracy': [(0, 0.4726666666666667),
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 	              (1, 0.562),
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 	              (2, 0.586),
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 	              (3, 0.5935555555555555),
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:498 | 	              (4, 0.6023333333333334)]}
debug | INFO flwr 2024-07-09 05:57:10,709 | server.py:499 | 
debug | INFO flwr 2024-07-09 05:57:53,889 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 05:57:55,784 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19062085632.0, 'memory': 38124171264.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-09 05:57:55,785 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 05:57:55,785 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 05:57:55,790 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 05:57:55,790 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 05:57:55,790 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 05:58:03,018 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 05:58:03,018 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 05:58:25,835 | server.py:97 | initial parameters (loss, other metrics): tensor(1.4719, device='cuda:0'), {'accuracy': 0.49166666666666664}
debug | INFO flwr 2024-07-09 05:58:25,856 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:58:25,856 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 05:58:25,856 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:59:18,519 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 05:59:18,944 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 05:59:40,928 | server.py:129 | fit progress: (1, tensor(1.4636, device='cuda:0'), {'accuracy': 0.5401111111111111}, 75.07224877100089)
debug | INFO flwr 2024-07-09 05:59:40,929 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 05:59:44,332 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 05:59:44,332 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 05:59:44,332 | server.py:110 | 
debug | INFO flwr 2024-07-09 05:59:44,332 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 05:59:44,332 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:00:35,483 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:00:57,913 | server.py:129 | fit progress: (2, tensor(1.3902, device='cuda:0'), {'accuracy': 0.5686666666666667}, 152.05672797099396)
debug | INFO flwr 2024-07-09 06:00:57,914 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:01:01,377 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:01:01,377 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:01:01,377 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 06:01:01,377 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:01:53,566 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:02:16,122 | server.py:129 | fit progress: (3, tensor(1.3315, device='cuda:0'), {'accuracy': 0.5705555555555556}, 230.26623617400037)
debug | INFO flwr 2024-07-09 06:02:16,123 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:02:19,597 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:02:19,597 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:02:19,597 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 06:02:19,597 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:03:11,598 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:03:34,082 | server.py:129 | fit progress: (4, tensor(1.3129, device='cuda:0'), {'accuracy': 0.568}, 308.22569258499425)
debug | INFO flwr 2024-07-09 06:03:34,083 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:03:37,496 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:03:37,496 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:03:37,496 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-09 06:03:37,496 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:04:29,382 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:04:51,960 | server.py:129 | fit progress: (5, tensor(1.1840, device='cuda:0'), {'accuracy': 0.5963333333333334}, 386.104498626999)
debug | INFO flwr 2024-07-09 06:04:51,961 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:04:55,097 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:04:55,097 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:04:55,097 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-09 06:04:55,097 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:05:46,971 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:06:09,624 | server.py:129 | fit progress: (6, tensor(1.1694, device='cuda:0'), {'accuracy': 0.6076666666666667}, 463.76774220899824)
debug | INFO flwr 2024-07-09 06:06:09,625 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:06:12,766 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:06:12,767 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:06:12,767 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-09 06:06:12,767 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:07:04,362 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:07:26,791 | server.py:129 | fit progress: (7, tensor(1.1347, device='cuda:0'), {'accuracy': 0.6093333333333333}, 540.935081509997)
debug | INFO flwr 2024-07-09 06:07:26,792 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:07:29,926 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:07:29,936 | server.py:494 | 
debug | INFO flwr 2024-07-09 06:07:29,936 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 06:07:29,936 | server.py:496 | Run finished 7 round(s) in 544.07s
debug | INFO flwr 2024-07-09 06:07:29,936 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 06:07:29,936 | server.py:498 | 		round 1: 5.211320877075195
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 2: 4.994849109649659
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 3: 4.926776313781739
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 4: 4.88064603805542
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 5: 4.839172267913819
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 6: 4.814996337890625
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 7: 4.776057147979737
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 0: 1.4718796014785767
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 1: 1.463558554649353
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 2: 1.390241026878357
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 3: 1.3315293788909912
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 4: 1.3128658533096313
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 5: 1.183953046798706
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 6: 1.1693751811981201
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 		round 7: 1.1346561908721924
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	{'accuracy': [(0, 0.49166666666666664),
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	              (1, 0.5401111111111111),
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	              (2, 0.5686666666666667),
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	              (3, 0.5705555555555556),
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	              (4, 0.568),
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	              (5, 0.5963333333333334),
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	              (6, 0.6076666666666667),
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:498 | 	              (7, 0.6093333333333333)]}
debug | INFO flwr 2024-07-09 06:07:29,937 | server.py:499 | 
debug | INFO flwr 2024-07-09 06:11:09,894 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 06:11:11,783 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19061563392.0, 'memory': 38123126784.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-09 06:11:11,783 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 06:11:11,783 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 06:11:11,789 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 06:11:11,789 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 06:11:11,789 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 06:11:32,930 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 06:11:34,837 | app.py:228 | Flower VCE: Ray initialized with resources: {'accelerator_type:G': 1.0, 'GPU': 1.0, 'memory': 38123166107.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19061583052.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-09 06:11:34,837 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 06:11:34,837 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 06:11:34,845 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 06:11:34,845 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 06:11:34,845 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 06:11:41,270 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 06:11:41,270 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 06:11:41,319 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 06:11:41,319 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:11:41,319 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 06:11:41,319 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:12:33,070 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 06:12:33,490 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 06:12:33,521 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 52.20181102499919)
debug | INFO flwr 2024-07-09 06:12:33,521 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:12:36,807 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 06:12:36,808 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 06:12:36,808 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:12:36,808 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 06:12:36,808 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:13:27,054 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:13:27,493 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 106.17375174499466)
debug | INFO flwr 2024-07-09 06:13:27,493 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:13:30,791 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:13:30,791 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:13:30,791 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 06:13:30,791 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:14:21,088 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:14:21,518 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 160.19877343999542)
debug | INFO flwr 2024-07-09 06:14:21,518 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:14:24,751 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:14:24,751 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:14:24,751 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 06:14:24,751 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:15:15,124 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:15:15,548 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 214.22923340899433)
debug | INFO flwr 2024-07-09 06:15:15,548 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:15:18,756 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:15:18,756 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:15:18,756 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-09 06:15:18,756 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:16:08,750 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:16:09,182 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 267.8631455079958)
debug | INFO flwr 2024-07-09 06:16:09,182 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:16:12,269 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:16:12,269 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:16:12,269 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-09 06:16:12,269 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:17:02,381 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:17:02,815 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 321.4957471069938)
debug | INFO flwr 2024-07-09 06:17:02,815 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:17:06,037 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:17:06,037 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:17:06,038 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-09 06:17:06,038 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:17:56,326 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:19:33,522 | server.py:129 | fit progress: (7, tensor(1.0880, device='cuda:0'), {'accuracy': 0.6766}, 472.20257860999845)
debug | INFO flwr 2024-07-09 06:19:33,537 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 06:19:36,820 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 06:19:36,829 | server.py:494 | 
debug | INFO flwr 2024-07-09 06:19:36,829 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 06:19:36,829 | server.py:496 | Run finished 7 round(s) in 475.50s
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 1: 5.248742008209229
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 2: 5.02385196685791
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 3: 4.93183479309082
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 4: 4.874852180480957
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 5: 4.825312328338623
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 6: 4.790541076660157
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 7: 4.808391952514649
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 		round 7: 1.088034987449646
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:498 | 	              (7, 0.6766)]}
debug | INFO flwr 2024-07-09 06:19:36,830 | server.py:499 | 
debug | INFO flwr 2024-07-09 06:21:03,230 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 06:21:05,139 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38120740455.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19060370227.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0}
debug | INFO flwr 2024-07-09 06:21:05,139 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 06:21:05,139 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 06:21:05,144 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 06:21:05,144 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 06:21:05,145 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 06:21:12,446 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 06:21:12,447 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 06:21:12,492 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 06:21:12,492 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:21:12,492 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 06:21:12,492 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:22:03,376 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | WARNING flwr 2024-07-09 06:22:03,631 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 06:22:03,662 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 51.170070576998114)
debug | INFO flwr 2024-07-09 06:22:03,662 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:22:06,093 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | WARNING flwr 2024-07-09 06:22:06,093 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 06:22:06,093 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:22:06,093 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 06:22:06,093 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:22:56,078 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:22:56,358 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 103.8659105800034)
debug | INFO flwr 2024-07-09 06:22:56,358 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:22:58,726 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:22:58,726 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:22:58,726 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 06:22:58,726 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:23:48,381 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:23:48,657 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 156.16484148699965)
debug | INFO flwr 2024-07-09 06:23:48,657 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:23:50,947 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:23:50,947 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:23:50,947 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 06:23:50,948 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:24:41,048 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:24:41,310 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 208.81822554999962)
debug | INFO flwr 2024-07-09 06:24:41,310 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:24:43,553 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:24:43,553 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:24:43,553 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-09 06:24:43,553 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:25:33,533 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:25:33,807 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 261.315246569)
debug | INFO flwr 2024-07-09 06:25:33,807 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:25:36,099 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:25:36,099 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:25:36,099 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-09 06:25:36,099 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:26:25,978 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:26:26,255 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 313.76324182400276)
debug | INFO flwr 2024-07-09 06:26:26,255 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:26:28,615 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:26:28,615 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:26:28,615 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-09 06:26:28,615 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:27:18,380 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:28:55,881 | server.py:129 | fit progress: (7, tensor(0.9647, device='cuda:0'), {'accuracy': 0.698}, 463.38891955000145)
debug | INFO flwr 2024-07-09 06:28:55,898 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:28:58,362 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:494 | 
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:496 | Run finished 7 round(s) in 465.87s
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:498 | 		round 1: 5.5897895495096845
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:498 | 		round 2: 5.453289190928142
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:498 | 		round 3: 5.354172070821126
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:498 | 		round 4: 5.301459789276123
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:498 | 		round 5: 5.259003639221191
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:498 | 		round 6: 5.265838781992595
debug | INFO flwr 2024-07-09 06:28:58,367 | server.py:498 | 		round 7: 5.219785213470459
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 		round 7: 0.9647364020347595
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:498 | 	              (7, 0.698)]}
debug | INFO flwr 2024-07-09 06:28:58,368 | server.py:499 | 
debug | INFO flwr 2024-07-09 06:36:29,101 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 06:36:30,999 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 38119981056.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'object_store_memory': 19059990528.0}
debug | INFO flwr 2024-07-09 06:36:30,999 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 06:36:30,999 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 06:36:31,004 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 06:36:31,004 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 06:36:31,005 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 06:36:37,278 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 06:36:37,279 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 06:36:37,325 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 06:36:37,325 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:36:37,325 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 06:36:37,325 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:37:27,834 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | WARNING flwr 2024-07-09 06:37:28,093 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 06:37:28,124 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 50.79887716599478)
debug | INFO flwr 2024-07-09 06:37:28,124 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:37:30,520 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | WARNING flwr 2024-07-09 06:37:30,520 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 06:37:30,521 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:37:30,521 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 06:37:30,521 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:38:20,515 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:38:20,792 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 103.46691839099367)
debug | INFO flwr 2024-07-09 06:38:20,792 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:38:23,197 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:38:23,197 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:38:23,197 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 06:38:23,197 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:39:13,099 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:39:13,364 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 156.03838115099643)
debug | INFO flwr 2024-07-09 06:39:13,364 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:39:15,738 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:39:15,738 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:39:15,738 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 06:39:15,738 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:40:06,155 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:40:06,432 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 209.10678741499578)
debug | INFO flwr 2024-07-09 06:40:06,432 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:40:08,693 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:40:08,693 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:40:08,693 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-09 06:40:08,693 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:40:59,066 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:40:59,338 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 262.0129346689937)
debug | INFO flwr 2024-07-09 06:40:59,338 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:41:01,722 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:41:01,722 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:41:01,722 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-09 06:41:01,722 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:41:51,866 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:41:52,137 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 314.8122824289967)
debug | INFO flwr 2024-07-09 06:41:52,138 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:41:54,498 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:41:54,498 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:41:54,498 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-09 06:41:54,498 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:42:44,268 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:45:08,735 | server.py:129 | fit progress: (7, tensor(1.0998, device='cuda:0'), {'accuracy': 0.6738}, 511.4102673499947)
debug | INFO flwr 2024-07-09 06:45:08,752 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:45:10,986 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:494 | 
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:496 | Run finished 7 round(s) in 513.66s
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:498 | 		round 1: 5.582475185394287
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:498 | 		round 2: 5.417523543039958
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:498 | 		round 3: 5.369914690653483
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:498 | 		round 4: 5.288664817810059
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:498 | 		round 5: 5.307216167449951
debug | INFO flwr 2024-07-09 06:45:10,991 | server.py:498 | 		round 6: 5.242175102233887
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 		round 7: 5.22846523920695
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 		round 7: 1.099819540977478
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:498 | 	              (7, 0.6738)]}
debug | INFO flwr 2024-07-09 06:45:10,992 | server.py:499 | 
debug | INFO flwr 2024-07-09 06:51:50,373 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 06:51:52,273 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38114402304.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19057201152.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-09 06:51:52,273 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 06:51:52,273 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 06:51:52,278 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 06:51:52,278 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 06:51:52,278 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 06:51:58,627 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 06:51:58,627 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 06:51:58,674 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 06:51:58,674 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:51:58,675 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 06:51:58,675 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:53:28,112 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | WARNING flwr 2024-07-09 06:53:28,376 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 06:53:28,407 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 89.73202439200395)
debug | INFO flwr 2024-07-09 06:53:28,407 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:53:31,586 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | WARNING flwr 2024-07-09 06:53:31,586 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 06:53:31,586 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:53:31,586 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 06:53:31,586 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:54:59,387 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:54:59,660 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 180.98600071100373)
debug | INFO flwr 2024-07-09 06:54:59,661 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:55:02,906 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:55:02,906 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:55:02,906 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 06:55:02,906 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:56:30,927 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:56:31,187 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 272.5124957000007)
debug | INFO flwr 2024-07-09 06:56:31,187 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:56:34,357 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:56:34,357 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:56:34,357 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 06:56:34,357 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:58:02,311 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:58:02,587 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 363.9120378000007)
debug | INFO flwr 2024-07-09 06:58:02,587 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:58:05,633 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:58:05,633 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:58:05,633 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-09 06:58:05,633 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:59:33,082 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:59:33,347 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 454.672682714001)
debug | INFO flwr 2024-07-09 06:59:33,347 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 06:59:36,538 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 06:59:36,538 | server.py:110 | 
debug | INFO flwr 2024-07-09 06:59:36,538 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-09 06:59:36,538 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 07:01:05,175 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 07:01:05,455 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 546.780551996002)
debug | INFO flwr 2024-07-09 07:01:05,455 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 07:01:08,602 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 07:01:08,602 | server.py:110 | 
debug | INFO flwr 2024-07-09 07:01:08,602 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-09 07:01:08,602 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 07:02:36,916 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 07:07:01,032 | server.py:129 | fit progress: (7, tensor(1.0548, device='cuda:0'), {'accuracy': 0.691}, 902.3574085419968)
debug | INFO flwr 2024-07-09 07:07:01,046 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 07:07:04,247 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 07:07:04,254 | server.py:494 | 
debug | INFO flwr 2024-07-09 07:07:04,254 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 07:07:04,254 | server.py:496 | Run finished 7 round(s) in 905.57s
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 1: 4.888335704803467
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 2: 4.487450917561849
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 3: 4.276104927062988
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 4: 4.164086659749349
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 5: 4.190336545308431
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 6: 4.041756629943848
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 7: 3.916382074356079
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 		round 7: 1.0547795295715332
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:498 | 	              (7, 0.691)]}
debug | INFO flwr 2024-07-09 07:07:04,255 | server.py:499 | 
debug | INFO flwr 2024-07-09 20:51:31,672 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 20:51:33,605 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19057525555.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'memory': 38115051111.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-09 20:51:33,605 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 20:51:33,606 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 20:51:33,611 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 20:51:33,611 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 20:51:33,611 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-09 20:51:39,725 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=117594, ip=172.17.0.2, actor_id=15dd97a6a887a636c04ef23b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7581b80f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 37, in load_partition
    partition = partition.train_test_split(test_size=client_train_split, seed=42)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 567, in wrapper
    out: Union["Dataset", "DatasetDict"] = func(self, *args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/fingerprint.py", line 482, in wrapper
    out = func(dataset, *args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4534, in train_test_split
    raise ValueError(
ValueError: test_size=0.0 should be either positive and smaller than the number of samples 16667 or a float in the (0, 1) range

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=117594, ip=172.17.0.2, actor_id=15dd97a6a887a636c04ef23b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7581b80f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: test_size=0.0 should be either positive and smaller than the number of samples 16667 or a float in the (0, 1) range

debug | ERROR flwr 2024-07-09 20:51:39,726 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=117594, ip=172.17.0.2, actor_id=15dd97a6a887a636c04ef23b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7581b80f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 37, in load_partition
    partition = partition.train_test_split(test_size=client_train_split, seed=42)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 567, in wrapper
    out: Union["Dataset", "DatasetDict"] = func(self, *args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/fingerprint.py", line 482, in wrapper
    out = func(dataset, *args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4534, in train_test_split
    raise ValueError(
ValueError: test_size=0.0 should be either positive and smaller than the number of samples 16667 or a float in the (0, 1) range

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=117594, ip=172.17.0.2, actor_id=15dd97a6a887a636c04ef23b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7581b80f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: test_size=0.0 should be either positive and smaller than the number of samples 16667 or a float in the (0, 1) range
debug | ERROR flwr 2024-07-09 20:51:39,726 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=117594, ip=172.17.0.2, actor_id=15dd97a6a887a636c04ef23b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7581b80f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 37, in load_partition
    partition = partition.train_test_split(test_size=client_train_split, seed=42)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 567, in wrapper
    out: Union["Dataset", "DatasetDict"] = func(self, *args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/fingerprint.py", line 482, in wrapper
    out = func(dataset, *args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4534, in train_test_split
    raise ValueError(
ValueError: test_size=0.0 should be either positive and smaller than the number of samples 16667 or a float in the (0, 1) range

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=117594, ip=172.17.0.2, actor_id=15dd97a6a887a636c04ef23b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7581b80f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: test_size=0.0 should be either positive and smaller than the number of samples 16667 or a float in the (0, 1) range
debug | ERROR flwr 2024-07-09 20:51:39,726 | app.py:329 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=117594, ip=172.17.0.2, actor_id=15dd97a6a887a636c04ef23b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7581b80f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/src/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/src/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/src/fedSSL/utils.py", line 37, in load_partition
    partition = partition.train_test_split(test_size=client_train_split, seed=42)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 567, in wrapper
    out: Union["Dataset", "DatasetDict"] = func(self, *args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/fingerprint.py", line 482, in wrapper
    out = func(dataset, *args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 4534, in train_test_split
    raise ValueError(
ValueError: test_size=0.0 should be either positive and smaller than the number of samples 16667 or a float in the (0, 1) range

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=117594, ip=172.17.0.2, actor_id=15dd97a6a887a636c04ef23b01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7581b80f1d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: test_size=0.0 should be either positive and smaller than the number of samples 16667 or a float in the (0, 1) range

debug | ERROR flwr 2024-07-09 20:51:39,726 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-09 20:54:27,757 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 20:54:29,674 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 19071066931.0, 'memory': 38142133863.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-09 20:54:29,674 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 20:54:29,674 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 20:54:29,679 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 20:54:29,679 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 20:54:29,679 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 20:54:36,391 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 20:54:36,391 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 20:54:36,436 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 20:54:36,436 | server.py:110 | 
debug | INFO flwr 2024-07-09 20:54:36,436 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 20:54:36,436 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 20:56:01,001 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | WARNING flwr 2024-07-09 20:56:01,257 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 20:56:01,288 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 84.85160051999264)
debug | INFO flwr 2024-07-09 20:56:01,288 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 20:56:07,018 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | WARNING flwr 2024-07-09 20:56:07,018 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 20:56:07,018 | server.py:110 | 
debug | INFO flwr 2024-07-09 20:56:07,018 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 20:56:07,018 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 20:57:31,538 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 20:57:31,814 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 175.37781975299004)
debug | INFO flwr 2024-07-09 20:57:31,814 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 20:57:37,540 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 20:57:37,540 | server.py:110 | 
debug | INFO flwr 2024-07-09 20:57:37,541 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 20:57:37,541 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 20:59:01,918 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 20:59:02,180 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 265.7438684239896)
debug | INFO flwr 2024-07-09 20:59:02,180 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 20:59:07,981 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 20:59:07,981 | server.py:110 | 
debug | INFO flwr 2024-07-09 20:59:07,981 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 20:59:07,981 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 21:00:32,948 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 21:00:33,223 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 356.78696667499025)
debug | INFO flwr 2024-07-09 21:00:33,223 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 21:00:38,886 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 21:00:38,886 | server.py:110 | 
debug | INFO flwr 2024-07-09 21:00:38,886 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-09 21:00:38,886 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 21:02:03,129 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 21:02:03,397 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 446.96102718799375)
debug | INFO flwr 2024-07-09 21:02:03,397 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 21:02:09,024 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 21:02:09,024 | server.py:110 | 
debug | INFO flwr 2024-07-09 21:02:09,024 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-09 21:02:09,024 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 21:03:33,167 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 21:03:33,456 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 537.0201395359909)
debug | INFO flwr 2024-07-09 21:03:33,457 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 21:03:39,088 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 21:03:39,088 | server.py:110 | 
debug | INFO flwr 2024-07-09 21:03:39,088 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-09 21:03:39,088 | server.py:224 | configure_fit: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 21:05:04,248 | server.py:238 | aggregate_fit: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 21:09:26,430 | server.py:129 | fit progress: (7, tensor(1.1343, device='cuda:0'), {'accuracy': 0.6732}, 889.9934238089918)
debug | INFO flwr 2024-07-09 21:09:26,444 | server.py:176 | configure_evaluate: strategy sampled 3 clients (out of 3)
debug | INFO flwr 2024-07-09 21:09:32,123 | server.py:190 | aggregate_evaluate: received 3 results and 0 failures
debug | INFO flwr 2024-07-09 21:09:32,130 | server.py:494 | 
debug | INFO flwr 2024-07-09 21:09:32,130 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 21:09:32,130 | server.py:496 | Run finished 7 round(s) in 895.69s
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 1: 5.162083864212036
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 2: 4.706534147262573
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 3: 4.437013943990071
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 4: 4.401867707570394
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 5: 4.280681689580281
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 6: 4.209592620531718
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 7: 4.1551030079523725
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 		round 7: 1.1342896223068237
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-09 21:09:32,131 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-09 21:09:32,132 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-09 21:09:32,132 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-09 21:09:32,132 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-09 21:09:32,132 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-09 21:09:32,132 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-09 21:09:32,132 | server.py:498 | 	              (7, 0.6732)]}
debug | INFO flwr 2024-07-09 21:09:32,132 | server.py:499 | 
debug | INFO flwr 2024-07-09 21:12:51,566 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-09 21:12:53,459 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'memory': 38139204404.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'object_store_memory': 19069602201.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-09 21:12:53,460 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 21:12:53,460 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 21:12:53,466 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 21:12:53,466 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 21:12:53,466 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 21:12:59,794 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 21:12:59,794 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 21:13:50,760 | server.py:97 | initial parameters (loss, other metrics): tensor(1.1673, device='cuda:0'), {'accuracy': 0.6206}
debug | INFO flwr 2024-07-09 21:13:50,777 | server.py:110 | 
debug | INFO flwr 2024-07-09 21:13:50,777 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 21:13:50,777 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 21:15:27,975 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-09 21:15:50,949 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-09 21:15:52,834 | app.py:228 | Flower VCE: Ray initialized with resources: {'accelerator_type:G': 1.0, 'GPU': 1.0, 'memory': 37817460327.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'node:__internal_head__': 1.0, 'object_store_memory': 18908730163.0}
debug | INFO flwr 2024-07-09 21:15:52,834 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 21:15:52,834 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 21:15:52,839 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 21:15:52,840 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 21:15:52,840 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 21:15:58,967 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 21:15:58,967 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-09 21:15:59,085 | app.py:328 | default_collate: batch must contain tensors, numpy arrays, numbers, dicts or lists; found <class 'PIL.PngImagePlugin.PngImageFile'>
debug | ERROR flwr 2024-07-09 21:15:59,087 | app.py:329 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/collate.py", line 154, in collate
    clone.update({key: collate([d[key] for d in batch], collate_fn_map=collate_fn_map) for key in elem})
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/collate.py", line 154, in <dictcomp>
    clone.update({key: collate([d[key] for d in batch], collate_fn_map=collate_fn_map) for key in elem})
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/collate.py", line 191, in collate
    raise TypeError(default_collate_err_msg_format.format(elem_type))
TypeError: default_collate: batch must contain tensors, numpy arrays, numbers, dicts or lists; found <class 'PIL.PngImagePlugin.PngImageFile'>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/src/fedSSL/model.py", line 185, in evaluate
    self.fine_tune_predictor()
  File "/root/src/fedSSL/model.py", line 201, in fine_tune_predictor
    for item in self.trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 54, in fetch
    return self.collate_fn(data)
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/collate.py", line 316, in default_collate
    return collate(batch, collate_fn_map=default_collate_fn_map)
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/collate.py", line 161, in collate
    return {key: collate([d[key] for d in batch], collate_fn_map=collate_fn_map) for key in elem}
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/collate.py", line 161, in <dictcomp>
    return {key: collate([d[key] for d in batch], collate_fn_map=collate_fn_map) for key in elem}
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/collate.py", line 191, in collate
    raise TypeError(default_collate_err_msg_format.format(elem_type))
TypeError: default_collate: batch must contain tensors, numpy arrays, numbers, dicts or lists; found <class 'PIL.PngImagePlugin.PngImageFile'>

debug | ERROR flwr 2024-07-09 21:15:59,087 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-09 21:24:03,472 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-09 21:24:05,354 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38135004366.0, 'object_store_memory': 19067502182.0, 'node:__internal_head__': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-09 21:24:05,354 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 21:24:05,354 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 21:24:05,360 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 21:24:05,360 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 21:24:05,360 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 21:24:11,429 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 21:24:11,429 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 21:26:29,277 | server.py:97 | initial parameters (loss, other metrics): tensor(0.9749, device='cuda:0'), {'accuracy': 0.68288}
debug | INFO flwr 2024-07-09 21:26:29,293 | server.py:110 | 
debug | INFO flwr 2024-07-09 21:26:29,294 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 21:26:29,294 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 21:27:20,072 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 21:27:20,490 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 21:29:36,508 | server.py:129 | fit progress: (1, tensor(0.9852, device='cuda:0'), {'accuracy': 0.68516}, 187.21447323499888)
debug | INFO flwr 2024-07-09 21:29:36,509 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 21:29:41,332 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 21:29:41,332 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 21:29:41,345 | server.py:494 | 
debug | INFO flwr 2024-07-09 21:29:41,345 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 21:29:41,345 | server.py:496 | Run finished 1 round(s) in 192.04s
debug | INFO flwr 2024-07-09 21:29:41,345 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 21:29:41,345 | server.py:498 | 		round 1: 6.15165147781372
debug | INFO flwr 2024-07-09 21:29:41,345 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 21:29:41,345 | server.py:498 | 		round 0: 0.9749431014060974
debug | INFO flwr 2024-07-09 21:29:41,346 | server.py:498 | 		round 1: 0.9851893782615662
debug | INFO flwr 2024-07-09 21:29:41,346 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 21:29:41,346 | server.py:498 | 	{'accuracy': [(0, 0.68288), (1, 0.68516)]}
debug | INFO flwr 2024-07-09 21:29:41,346 | server.py:499 | 
debug | INFO flwr 2024-07-09 21:33:42,429 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-09 21:33:44,338 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19065907200.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'node:__internal_head__': 1.0, 'memory': 38131814400.0}
debug | INFO flwr 2024-07-09 21:33:44,339 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 21:33:44,339 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 21:33:44,344 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 21:33:44,344 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 21:33:44,344 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 21:33:50,879 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 21:33:50,879 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 21:35:22,613 | server.py:97 | initial parameters (loss, other metrics): tensor(1.0838, device='cuda:0'), {'accuracy': 0.6322}
debug | INFO flwr 2024-07-09 21:35:22,628 | server.py:110 | 
debug | INFO flwr 2024-07-09 21:35:22,628 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 21:35:22,628 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 21:36:13,835 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 21:36:14,251 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 21:37:45,345 | server.py:129 | fit progress: (1, tensor(1.0042, device='cuda:0'), {'accuracy': 0.6602}, 142.71711094699276)
debug | INFO flwr 2024-07-09 21:37:45,346 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 21:37:50,155 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 21:37:50,155 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:494 | 
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:496 | Run finished 1 round(s) in 147.53s
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:498 | 		round 1: 6.149458599090576
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:498 | 		round 0: 1.0837589502334595
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:498 | 		round 1: 1.0041648149490356
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 21:37:50,170 | server.py:498 | 	{'accuracy': [(0, 0.6322), (1, 0.6602)]}
debug | INFO flwr 2024-07-09 21:37:50,171 | server.py:499 | 
debug | INFO flwr 2024-07-09 21:52:29,575 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-09 21:52:31,496 | app.py:228 | Flower VCE: Ray initialized with resources: {'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19067899084.0, 'memory': 38135798171.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0}
debug | INFO flwr 2024-07-09 21:52:31,496 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 21:52:31,496 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 21:52:31,502 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 21:52:31,502 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 21:52:31,502 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 21:52:37,910 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 21:52:37,910 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 21:53:49,470 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-09 21:53:51,385 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38135655630.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19067827814.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0}
debug | INFO flwr 2024-07-09 21:53:51,385 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 21:53:51,385 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 21:53:51,390 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 21:53:51,390 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 21:53:51,390 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 21:53:58,064 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 21:53:58,064 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 21:55:40,181 | server.py:97 | initial parameters (loss, other metrics): tensor(1.3807, device='cuda:0'), {'accuracy': 0.70774}
debug | INFO flwr 2024-07-09 21:55:40,202 | server.py:110 | 
debug | INFO flwr 2024-07-09 21:55:40,202 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 21:55:40,202 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 21:56:27,757 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 21:56:28,178 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 21:58:09,512 | server.py:129 | fit progress: (1, tensor(1.1916, device='cuda:0'), {'accuracy': 0.73936}, 149.3101174589974)
debug | INFO flwr 2024-07-09 21:58:09,513 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 21:58:14,132 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 21:58:14,132 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:494 | 
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:496 | Run finished 1 round(s) in 153.93s
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:498 | 		round 1: 6.182422065734864
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:498 | 		round 0: 1.3807141780853271
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:498 | 		round 1: 1.1916399002075195
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:498 | 	{'accuracy': [(0, 0.70774), (1, 0.73936)]}
debug | INFO flwr 2024-07-09 21:58:14,147 | server.py:499 | 
debug | INFO flwr 2024-07-09 21:59:58,011 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-09 21:59:59,921 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19069736140.0, 'memory': 38139472283.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'node:__internal_head__': 1.0}
debug | INFO flwr 2024-07-09 21:59:59,922 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 21:59:59,922 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 21:59:59,927 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 21:59:59,927 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 21:59:59,927 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 22:00:06,657 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 22:00:06,657 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 22:00:06,702 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 22:00:06,703 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:00:06,703 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 22:00:06,703 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:00:53,436 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 22:00:53,858 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 22:00:53,884 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 47.18123190499318)
debug | INFO flwr 2024-07-09 22:00:53,884 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:00:58,486 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 22:00:58,486 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 22:00:58,486 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:00:58,487 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 22:00:58,487 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:01:44,384 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:01:44,800 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 98.09751045699522)
debug | INFO flwr 2024-07-09 22:01:44,800 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:01:49,348 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:01:49,348 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:01:49,348 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 22:01:49,348 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:02:35,001 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:02:35,429 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 148.7261436760018)
debug | INFO flwr 2024-07-09 22:02:35,429 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:02:39,985 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:02:39,985 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:02:39,985 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 22:02:39,986 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:03:25,197 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:03:25,641 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 198.93846467099502)
debug | INFO flwr 2024-07-09 22:03:25,641 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:03:30,093 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:03:30,094 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:03:30,094 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-09 22:03:30,094 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:04:15,542 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:04:15,971 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 249.26861319999443)
debug | INFO flwr 2024-07-09 22:04:15,971 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:04:20,314 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:04:20,315 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:04:20,315 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-09 22:04:20,315 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:05:06,083 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:05:06,507 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 299.80426495100255)
debug | INFO flwr 2024-07-09 22:05:06,507 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:05:10,988 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:05:10,988 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:05:10,988 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-09 22:05:10,988 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:05:56,823 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:07:22,128 | server.py:129 | fit progress: (7, tensor(0.9644, device='cuda:0'), {'accuracy': 0.7643}, 435.4251210729999)
debug | INFO flwr 2024-07-09 22:07:22,146 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:07:26,538 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:07:26,548 | server.py:494 | 
debug | INFO flwr 2024-07-09 22:07:26,548 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 22:07:26,548 | server.py:496 | Run finished 7 round(s) in 439.84s
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 1: 6.202238464355469
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 2: 5.924941444396973
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 3: 5.838752365112304
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 4: 5.777553081512451
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 5: 5.745726108551025
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 6: 5.719148349761963
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 7: 5.699215602874756
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 		round 7: 0.964449405670166
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-09 22:07:26,549 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-09 22:07:26,550 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-09 22:07:26,550 | server.py:498 | 	              (7, 0.7643)]}
debug | INFO flwr 2024-07-09 22:07:26,550 | server.py:499 | 
debug | INFO flwr 2024-07-09 22:14:53,055 | app.py:193 | Starting Flower simulation, config: num_rounds=15, no round_timeout
debug | INFO flwr 2024-07-09 22:14:54,938 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19069007462.0, 'memory': 38138014926.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-09 22:14:54,939 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 22:14:54,939 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 22:14:54,945 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 22:14:54,945 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 22:14:54,945 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 22:15:01,246 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 22:15:01,246 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 22:15:01,293 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 22:15:01,293 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:15:01,293 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 22:15:01,293 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 22:15:01,956 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:01,956 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | ERROR flwr 2024-07-09 22:15:02,503 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:02,503 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | ERROR flwr 2024-07-09 22:15:03,078 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:03,078 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | ERROR flwr 2024-07-09 22:15:03,626 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:03,626 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | ERROR flwr 2024-07-09 22:15:04,073 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:04,073 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | INFO flwr 2024-07-09 22:15:04,073 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 22:15:04,117 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 2.823737460988923)
debug | INFO flwr 2024-07-09 22:15:04,117 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 22:15:04,707 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:04,707 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | ERROR flwr 2024-07-09 22:15:05,192 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:05,193 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | ERROR flwr 2024-07-09 22:15:05,672 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:05,672 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | ERROR flwr 2024-07-09 22:15:06,156 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:06,156 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | ERROR flwr 2024-07-09 22:15:06,643 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'

debug | ERROR flwr 2024-07-09 22:15:06,643 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transformt(x), transform(x), transform(x))
AttributeError: 'SimCLRTransform' object has no attribute 'test_transformt'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=157847, ip=172.17.0.2, actor_id=2dedb764e6c581e52da9d1be01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x72e0e01c1d20>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'SimCLRTransform' object has no attribute 'test_transformt'
debug | INFO flwr 2024-07-09 22:15:28,000 | app.py:193 | Starting Flower simulation, config: num_rounds=15, no round_timeout
debug | INFO flwr 2024-07-09 22:15:29,869 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'object_store_memory': 19066828800.0, 'memory': 38133657600.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-09 22:15:29,869 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 22:15:29,869 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 22:15:29,875 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 22:15:29,875 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 22:15:29,875 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 22:15:36,397 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 22:15:36,397 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 22:15:36,443 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 22:15:36,443 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:15:36,443 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 22:15:36,443 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 22:15:37,098 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:37,099 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | ERROR flwr 2024-07-09 22:15:37,653 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:37,653 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | ERROR flwr 2024-07-09 22:15:38,265 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:38,265 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | ERROR flwr 2024-07-09 22:15:38,820 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:38,821 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | ERROR flwr 2024-07-09 22:15:39,288 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:39,288 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 130, in handle_legacy_message_from_msgtype
    fit_res = maybe_call_fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 234, in maybe_call_fit
    return client.fit(fit_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 238, in _fit
    results = self.numpy_client.fit(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 107, in fit
    results = train(self.simclr, self.trainloader, self.optimizer, ntxent, epochs=1)
  File "/root/src/fedSSL/client.py", line 34, in train
    for item in trainloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | INFO flwr 2024-07-09 22:15:39,289 | server.py:238 | aggregate_fit: received 0 results and 5 failures
debug | INFO flwr 2024-07-09 22:15:39,332 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 2.8886687330086716)
debug | INFO flwr 2024-07-09 22:15:39,332 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | ERROR flwr 2024-07-09 22:15:39,908 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:39,908 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | ERROR flwr 2024-07-09 22:15:40,390 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:40,390 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | ERROR flwr 2024-07-09 22:15:40,870 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:40,870 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | ERROR flwr 2024-07-09 22:15:41,354 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:41,354 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | ERROR flwr 2024-07-09 22:15:41,844 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/myprojectenv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

debug | ERROR flwr 2024-07-09 22:15:41,844 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 137, in handle_legacy_message_from_msgtype
    evaluate_res = maybe_call_evaluate(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/client.py", line 254, in maybe_call_evaluate
    return client.evaluate(evaluate_ins)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/client/numpy_client.py", line 262, in _evaluate
    results = self.numpy_client.evaluate(parameters, ins.config)  # type: ignore
  File "/root/src/fedSSL/client.py", line 114, in evaluate
    loss, accuracy = test(self.simclr, self.testloader, ntxent)
  File "/root/src/fedSSL/client.py", line 65, in test
    for item in testloader:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 631, in __next__
    data = self._next_data()
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/dataloader.py", line 675, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/utils/data/_utils/fetch.py", line 49, in fetch
    data = self.dataset.__getitems__(possibly_batched_index)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2865, in __getitems__
    batch = self.__getitem__(keys)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2861, in __getitem__
    return self._getitem(key)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/arrow_dataset.py", line 2846, in _getitem
    formatted_output = format_table(
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 633, in format_table
    return formatter(pa_table, query_type=query_type)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 401, in __call__
    return self.format_batch(pa_table)
  File "/root/myprojectenv/lib/python3.10/site-packages/datasets/formatting/formatting.py", line 516, in format_batch
    return self.transform(batch)
  File "/root/src/fedSSL/utils.py", line 26, in apply_transforms
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/utils.py", line 26, in <listcomp>
    batch["img"] = [transform(img) for img in batch["img"]]
  File "/root/src/fedSSL/transform.py", line 37, in __call__
    return (self.test_transform(x), transform(x), transform(x))
TypeError: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=158949, ip=172.17.0.2, actor_id=bf06970375c1d8499539892f01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x78961c4b5d50>)
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: SimCLRTransform.test_transform() takes 1 positional argument but 2 were given
debug | INFO flwr 2024-07-09 22:16:09,732 | app.py:193 | Starting Flower simulation, config: num_rounds=15, no round_timeout
debug | INFO flwr 2024-07-09 22:16:11,596 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38134181070.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19067090534.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-09 22:16:11,597 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-09 22:16:11,597 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-09 22:16:11,602 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-09 22:16:11,602 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-09 22:16:11,602 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-09 22:16:18,343 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-09 22:16:18,343 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-09 22:16:18,389 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-09 22:16:18,389 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:16:18,389 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-09 22:16:18,389 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:17:42,921 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 22:17:43,340 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 22:17:43,364 | server.py:129 | fit progress: (1, -1, {'accuracy': -1}, 84.97509330199682)
debug | INFO flwr 2024-07-09 22:17:43,365 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:17:49,991 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-09 22:17:49,991 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-09 22:17:49,991 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:17:49,991 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-09 22:17:49,991 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:19:14,181 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:19:14,595 | server.py:129 | fit progress: (2, -1, {'accuracy': -1}, 176.20573606599646)
debug | INFO flwr 2024-07-09 22:19:14,595 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:19:21,144 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:19:21,144 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:19:21,144 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-09 22:19:21,144 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:20:45,092 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:20:45,521 | server.py:129 | fit progress: (3, -1, {'accuracy': -1}, 267.13172684299934)
debug | INFO flwr 2024-07-09 22:20:45,521 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:20:52,078 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:20:52,078 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:20:52,078 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-09 22:20:52,078 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:22:15,961 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:22:16,395 | server.py:129 | fit progress: (4, -1, {'accuracy': -1}, 358.00607356500404)
debug | INFO flwr 2024-07-09 22:22:16,396 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:22:22,846 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:22:22,846 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:22:22,846 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-09 22:22:22,846 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:23:46,433 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:23:46,873 | server.py:129 | fit progress: (5, -1, {'accuracy': -1}, 448.48398309599725)
debug | INFO flwr 2024-07-09 22:23:46,873 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:23:53,270 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:23:53,271 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:23:53,271 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-09 22:23:53,271 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:25:16,604 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:25:17,039 | server.py:129 | fit progress: (6, -1, {'accuracy': -1}, 538.6500675999996)
debug | INFO flwr 2024-07-09 22:25:17,040 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:25:23,367 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:25:23,367 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:25:23,367 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-09 22:25:23,367 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:26:47,178 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:26:47,583 | server.py:129 | fit progress: (7, -1, {'accuracy': -1}, 629.1935090500046)
debug | INFO flwr 2024-07-09 22:26:47,583 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:26:53,926 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:26:53,926 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:26:53,926 | server.py:111 | [ROUND 8]
debug | INFO flwr 2024-07-09 22:26:53,926 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:28:17,173 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:28:17,600 | server.py:129 | fit progress: (8, -1, {'accuracy': -1}, 719.2109420659981)
debug | INFO flwr 2024-07-09 22:28:17,600 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:28:24,109 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:28:24,109 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:28:24,109 | server.py:111 | [ROUND 9]
debug | INFO flwr 2024-07-09 22:28:24,109 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:29:48,623 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:29:48,959 | server.py:129 | fit progress: (9, -1, {'accuracy': -1}, 810.5699641190004)
debug | INFO flwr 2024-07-09 22:29:48,959 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:29:55,363 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:29:55,363 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:29:55,363 | server.py:111 | [ROUND 10]
debug | INFO flwr 2024-07-09 22:29:55,363 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:31:19,056 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:31:19,403 | server.py:129 | fit progress: (10, -1, {'accuracy': -1}, 901.0141541409976)
debug | INFO flwr 2024-07-09 22:31:19,404 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:31:25,708 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:31:25,708 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:31:25,708 | server.py:111 | [ROUND 11]
debug | INFO flwr 2024-07-09 22:31:25,708 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:32:48,812 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:32:49,181 | server.py:129 | fit progress: (11, -1, {'accuracy': -1}, 990.7921144260035)
debug | INFO flwr 2024-07-09 22:32:49,182 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:32:55,499 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:32:55,499 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:32:55,499 | server.py:111 | [ROUND 12]
debug | INFO flwr 2024-07-09 22:32:55,499 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:34:18,646 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:34:19,050 | server.py:129 | fit progress: (12, -1, {'accuracy': -1}, 1080.6603169430018)
debug | INFO flwr 2024-07-09 22:34:19,050 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:34:25,389 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:34:25,389 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:34:25,390 | server.py:111 | [ROUND 13]
debug | INFO flwr 2024-07-09 22:34:25,390 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:35:48,995 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:35:49,420 | server.py:129 | fit progress: (13, -1, {'accuracy': -1}, 1171.0307398650039)
debug | INFO flwr 2024-07-09 22:35:49,420 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:35:55,839 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:35:55,839 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:35:55,839 | server.py:111 | [ROUND 14]
debug | INFO flwr 2024-07-09 22:35:55,839 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:37:19,354 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:37:19,775 | server.py:129 | fit progress: (14, -1, {'accuracy': -1}, 1261.3860674830066)
debug | INFO flwr 2024-07-09 22:37:19,776 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:37:26,113 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:37:26,113 | server.py:110 | 
debug | INFO flwr 2024-07-09 22:37:26,113 | server.py:111 | [ROUND 15]
debug | INFO flwr 2024-07-09 22:37:26,114 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:38:49,385 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:41:34,317 | server.py:129 | fit progress: (15, tensor(0.8372, device='cuda:0'), {'accuracy': 0.78048}, 1515.927358424)
debug | INFO flwr 2024-07-09 22:41:34,331 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-09 22:41:40,728 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-09 22:41:40,739 | server.py:494 | 
debug | INFO flwr 2024-07-09 22:41:40,739 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-09 22:41:40,739 | server.py:496 | Run finished 15 round(s) in 1522.34s
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 1: 6.195074844360351
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 2: 5.9619261741638185
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 3: 5.879641056060791
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 4: 5.838528251647949
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 5: 5.7828937530517575
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 6: 5.7791729927062985
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 7: 5.750582695007324
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 8: 5.738361454010009
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 9: 5.717372417449951
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 10: 5.728444957733155
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 11: 5.699051761627198
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 12: 5.69235200881958
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 13: 5.6610572814941404
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 14: 5.670615482330322
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 15: 5.663570976257324
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 	History (loss, centralized):
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 0: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 1: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 2: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 3: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 4: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 5: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 6: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 7: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 8: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 9: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 10: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 11: -1
debug | INFO flwr 2024-07-09 22:41:40,740 | server.py:498 | 		round 12: -1
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 		round 13: -1
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 		round 14: -1
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 		round 15: 0.8371709585189819
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	History (metrics, centralized):
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	{'accuracy': [(0, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (1, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (2, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (3, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (4, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (5, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (6, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (7, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (8, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (9, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (10, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (11, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (12, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (13, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (14, -1),
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:498 | 	              (15, 0.78048)]}
debug | INFO flwr 2024-07-09 22:41:40,741 | server.py:499 | 
debug | INFO flwr 2024-07-10 03:44:35,274 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-10 03:44:37,166 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38146614068.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19073307033.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0}
debug | INFO flwr 2024-07-10 03:44:37,166 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 03:44:37,166 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 03:44:37,171 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 03:44:37,171 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 03:44:37,172 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 03:45:04,663 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-10 03:45:06,577 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 19073648640.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'memory': 38147297280.0, 'accelerator_type:G': 1.0, 'GPU': 1.0}
debug | INFO flwr 2024-07-10 03:45:06,577 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 03:45:06,577 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 03:45:06,583 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 03:45:06,583 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 03:45:06,583 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 03:45:12,637 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 03:45:12,637 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 03:45:12,682 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-10 03:45:12,682 | server.py:110 | 
debug | INFO flwr 2024-07-10 03:45:12,683 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 03:45:12,683 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 03:46:36,868 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-10 03:46:37,287 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | ERROR flwr 2024-07-10 03:46:37,312 | app.py:328 | name 'net' is not defined
debug | ERROR flwr 2024-07-10 03:46:37,312 | app.py:329 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 113, in fit
    res_fit = self.fit_round(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 249, in fit_round
    ] = self.strategy.aggregate_fit(server_round, results, failures)
  File "/root/src/fedSSL/server.py", line 56, in aggregate_fit
    params_dict = zip(net.state_dict().keys(), aggregated_ndarrays)
NameError: name 'net' is not defined

debug | ERROR flwr 2024-07-10 03:46:37,312 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-10 04:30:08,942 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-10 04:30:10,845 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'object_store_memory': 19072122470.0, 'memory': 38144244942.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-10 04:30:10,845 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 04:30:10,845 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 04:30:10,850 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 04:30:10,850 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 04:30:10,850 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 04:30:17,771 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 04:30:17,771 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 04:30:17,818 | server.py:97 | initial parameters (loss, other metrics): -1, {'accuracy': -1}
debug | INFO flwr 2024-07-10 04:30:17,818 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:30:17,818 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 04:30:17,818 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:31:43,402 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-10 04:31:43,812 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | ERROR flwr 2024-07-10 04:31:43,841 | app.py:328 | name 'OrderedDict' is not defined
debug | ERROR flwr 2024-07-10 04:31:43,842 | app.py:329 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 113, in fit
    res_fit = self.fit_round(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 249, in fit_round
    ] = self.strategy.aggregate_fit(server_round, results, failures)
  File "/root/src/fedSSL/server.py", line 58, in aggregate_fit
    params_dict = zip(gb_simclr.state_dict().keys(), aggregated_ndarrays)
NameError: name 'OrderedDict' is not defined

debug | ERROR flwr 2024-07-10 04:31:43,842 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-10 04:33:01,746 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-10 04:33:03,653 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19071412224.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:__internal_head__': 1.0, 'memory': 38142824448.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-10 04:33:03,653 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 04:33:03,653 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 04:33:03,659 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 04:33:03,659 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 04:33:03,659 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 04:33:09,908 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 04:33:09,909 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 04:33:09,909 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:33:09,909 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 04:33:09,909 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:34:35,060 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-10 04:34:35,486 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 04:34:35,667 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:34:42,264 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-10 04:34:42,264 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 04:34:42,264 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:34:42,264 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-10 04:34:42,264 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:36:06,143 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:36:06,703 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:36:13,278 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:36:13,278 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:36:13,278 | server.py:111 | [ROUND 3]
debug | INFO flwr 2024-07-10 04:36:13,278 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:37:36,832 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:37:37,414 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:37:43,907 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:37:43,907 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:37:43,907 | server.py:111 | [ROUND 4]
debug | INFO flwr 2024-07-10 04:37:43,907 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:39:07,708 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:39:08,294 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:39:14,724 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:39:14,725 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:39:14,725 | server.py:111 | [ROUND 5]
debug | INFO flwr 2024-07-10 04:39:14,725 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:40:38,354 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:40:38,927 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:40:45,272 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:40:45,272 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:40:45,272 | server.py:111 | [ROUND 6]
debug | INFO flwr 2024-07-10 04:40:45,272 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:42:09,239 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:42:09,817 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:42:16,179 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:42:16,179 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:42:16,179 | server.py:111 | [ROUND 7]
debug | INFO flwr 2024-07-10 04:42:16,179 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:43:39,799 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:43:40,385 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-10 04:43:46,766 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:494 | 
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:496 | Run finished 7 round(s) in 636.86s
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:498 | 		round 1: 6.2307204246521
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:498 | 		round 2: 5.974423885345459
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:498 | 		round 3: 5.888739395141601
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:498 | 		round 4: 5.81892728805542
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:498 | 		round 5: 5.7987510681152346
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:498 | 		round 6: 5.774398994445801
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:498 | 		round 7: 5.7242742538452145
debug | INFO flwr 2024-07-10 04:43:46,777 | server.py:499 | 
debug | INFO flwr 2024-07-10 04:54:43,265 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-10 04:54:45,166 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 18946770124.0, 'memory': 37893540251.0, 'node:__internal_head__': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-10 04:54:45,166 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 04:54:45,166 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 04:54:45,172 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 04:54:45,172 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 04:54:45,172 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 04:54:51,786 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 04:54:51,786 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 04:54:51,786 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:54:51,786 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 04:55:18,399 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-10 04:55:20,331 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 18996740505.0, 'node:__internal_head__': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'memory': 37993481012.0}
debug | INFO flwr 2024-07-10 04:55:20,331 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 04:55:20,331 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 04:55:20,336 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 04:55:20,336 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 04:55:20,336 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 04:55:31,742 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 04:55:31,742 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 04:55:31,742 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:55:31,742 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 04:58:13,754 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-10 04:58:15,655 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'object_store_memory': 19028781465.0, 'memory': 38057562932.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-10 04:58:15,655 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 04:58:15,655 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 04:58:15,661 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 04:58:15,661 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 04:58:15,661 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 04:58:22,029 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 04:58:22,029 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 04:58:22,029 | server.py:110 | 
debug | INFO flwr 2024-07-10 04:58:22,029 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 04:58:22,029 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-10 04:59:45,727 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-10 04:59:45,909 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | ERROR flwr 2024-07-10 04:59:45,987 | app.py:328 | Parent directory model_weights does not exist.
debug | ERROR flwr 2024-07-10 04:59:45,988 | app.py:329 | Traceback (most recent call last):
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 113, in fit
    res_fit = self.fit_round(
  File "/root/myprojectenv/lib/python3.10/site-packages/flwr/server/server.py", line 249, in fit_round
    ] = self.strategy.aggregate_fit(server_round, results, failures)
  File "/root/src/fedSSL/server.py", line 64, in aggregate_fit
    torch.save(gb_simclr.state_dict(), f"model_weights/model_round_{server_round}.pth")
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/serialization.py", line 627, in save
    with _open_zipfile_writer(f) as opened_zipfile:
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/serialization.py", line 501, in _open_zipfile_writer
    return container(name_or_buffer)
  File "/root/myprojectenv/lib/python3.10/site-packages/torch/serialization.py", line 472, in __init__
    super().__init__(torch._C.PyTorchFileWriter(self.name))
RuntimeError: Parent directory model_weights does not exist.

debug | ERROR flwr 2024-07-10 04:59:45,988 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-10 05:01:09,526 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-10 05:01:11,424 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38054105088.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19027052544.0}
debug | INFO flwr 2024-07-10 05:01:11,424 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 05:01:11,424 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 05:01:11,430 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 05:01:11,430 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 05:01:11,430 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 05:01:17,871 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 05:01:17,871 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 05:01:17,871 | server.py:110 | 
debug | INFO flwr 2024-07-10 05:01:17,871 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 05:01:17,871 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-10 05:02:41,247 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-10 05:02:41,431 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 05:02:41,616 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-10 05:02:46,791 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-10 05:02:46,791 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 05:02:46,794 | server.py:494 | 
debug | INFO flwr 2024-07-10 05:02:46,794 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-10 05:02:46,794 | server.py:496 | Run finished 1 round(s) in 88.92s
debug | INFO flwr 2024-07-10 05:02:46,794 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-10 05:02:46,794 | server.py:498 | 		round 1: 5.715798536936442
debug | INFO flwr 2024-07-10 05:02:46,794 | server.py:499 | 
debug | INFO flwr 2024-07-10 05:05:50,385 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-10 05:05:52,279 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 38086338971.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19043169484.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-10 05:05:52,279 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 05:05:52,279 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 05:05:52,285 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 05:05:52,285 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 05:05:52,285 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 05:05:58,642 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 05:05:58,643 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 05:05:58,643 | server.py:110 | 
debug | INFO flwr 2024-07-10 05:05:58,643 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 05:05:58,643 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-10 05:07:22,355 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-10 05:07:22,539 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 05:07:22,839 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-10 05:07:28,063 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-10 05:07:28,064 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 05:07:28,067 | server.py:494 | 
debug | INFO flwr 2024-07-10 05:07:28,067 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-10 05:07:28,067 | server.py:496 | Run finished 1 round(s) in 89.42s
debug | INFO flwr 2024-07-10 05:07:28,067 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-10 05:07:28,067 | server.py:498 | 		round 1: 5.715804020563762
debug | INFO flwr 2024-07-10 05:07:28,067 | server.py:499 | 
debug | INFO flwr 2024-07-10 05:10:00,580 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-10 05:10:02,503 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19044202905.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0, 'memory': 38088405812.0}
debug | INFO flwr 2024-07-10 05:10:02,503 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 05:10:02,503 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 05:10:02,508 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 05:10:02,509 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 05:10:02,509 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 05:10:09,984 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 05:10:09,985 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 05:10:09,985 | server.py:110 | 
debug | INFO flwr 2024-07-10 05:10:09,985 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 05:10:09,985 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-10 05:11:33,598 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-10 05:11:33,780 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 05:11:34,089 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-10 05:11:39,324 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-10 05:11:39,324 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 05:11:39,327 | server.py:494 | 
debug | INFO flwr 2024-07-10 05:11:39,327 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-10 05:11:39,327 | server.py:496 | Run finished 1 round(s) in 89.34s
debug | INFO flwr 2024-07-10 05:11:39,327 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-10 05:11:39,327 | server.py:498 | 		round 1: 5.718878746032715
debug | INFO flwr 2024-07-10 05:11:39,327 | server.py:499 | 
debug | INFO flwr 2024-07-10 05:14:48,425 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-10 05:14:50,343 | app.py:228 | Flower VCE: Ray initialized with resources: {'accelerator_type:G': 1.0, 'GPU': 1.0, 'memory': 38070317876.0, 'node:__internal_head__': 1.0, 'object_store_memory': 19035158937.0, 'node:172.17.0.2': 1.0, 'CPU': 11.0}
debug | INFO flwr 2024-07-10 05:14:50,343 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 05:14:50,343 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 05:14:50,348 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 05:14:50,348 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 05:14:50,348 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 05:15:40,533 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-10 05:15:42,425 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19034711654.0, 'node:__internal_head__': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'memory': 38069423310.0, 'GPU': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-10 05:15:42,425 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 05:15:42,425 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 05:15:42,431 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 05:15:42,431 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 05:15:42,431 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 05:16:32,517 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-10 05:16:34,422 | app.py:228 | Flower VCE: Ray initialized with resources: {'object_store_memory': 19045056921.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'CPU': 11.0, 'node:172.17.0.2': 1.0, 'memory': 38090113844.0}
debug | INFO flwr 2024-07-10 05:16:34,422 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-10 05:16:34,422 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-10 05:16:34,427 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-10 05:16:34,427 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-10 05:16:34,427 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-10 05:16:40,685 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-10 05:16:40,685 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-10 05:16:40,685 | server.py:110 | 
debug | INFO flwr 2024-07-10 05:16:40,685 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-10 05:16:40,685 | server.py:224 | configure_fit: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-10 05:18:02,148 | server.py:238 | aggregate_fit: received 2 results and 0 failures
debug | WARNING flwr 2024-07-10 05:18:02,331 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 05:18:02,524 | server.py:176 | configure_evaluate: strategy sampled 2 clients (out of 2)
debug | INFO flwr 2024-07-10 05:18:07,716 | server.py:190 | aggregate_evaluate: received 2 results and 0 failures
debug | WARNING flwr 2024-07-10 05:18:07,716 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-10 05:18:07,719 | server.py:494 | 
debug | INFO flwr 2024-07-10 05:18:07,719 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-10 05:18:07,719 | server.py:496 | Run finished 1 round(s) in 87.03s
debug | INFO flwr 2024-07-10 05:18:07,719 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-10 05:18:07,719 | server.py:498 | 		round 1: 5.741991678873698
debug | INFO flwr 2024-07-10 05:18:07,719 | server.py:499 | 
debug | INFO flwr 2024-07-11 00:47:41,556 | app.py:193 | Starting Flower simulation, config: num_rounds=7, no round_timeout
debug | INFO flwr 2024-07-11 00:47:44,789 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'object_store_memory': 13381232640.0, 'memory': 26762465280.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-11 00:47:44,790 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 00:47:44,790 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 00:47:44,816 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 00:47:44,816 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 00:47:44,816 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 00:47:59,051 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 00:47:59,051 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 00:47:59,051 | server.py:110 | 
debug | INFO flwr 2024-07-11 00:47:59,051 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 00:47:59,051 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 00:51:39,248 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 00:51:41,697 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | ERROR flwr 2024-07-11 00:51:41,840 | app.py:328 | Parent directory ./model_weights does not exist.
debug | ERROR flwr 2024-07-11 00:51:41,841 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 113, in fit
    res_fit = self.fit_round(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 249, in fit_round
    ] = self.strategy.aggregate_fit(server_round, results, failures)
  File "/root/fedSSL/server.py", line 64, in aggregate_fit
    torch.save(gb_simclr.state_dict(), f"./model_weights/model_round_{server_round}.pth")
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/serialization.py", line 627, in save
    with _open_zipfile_writer(f) as opened_zipfile:
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/serialization.py", line 501, in _open_zipfile_writer
    return container(name_or_buffer)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/torch/serialization.py", line 472, in __init__
    super().__init__(torch._C.PyTorchFileWriter(self.name))
RuntimeError: Parent directory ./model_weights does not exist.

debug | ERROR flwr 2024-07-11 00:51:41,841 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-11 00:52:39,086 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-11 00:52:42,958 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'memory': 26747078247.0, 'GPU': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13373539123.0}
debug | INFO flwr 2024-07-11 00:52:42,959 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 00:52:42,959 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 00:52:42,981 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 00:52:42,981 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 00:52:42,982 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 00:52:57,354 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 00:52:57,354 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 00:52:57,354 | server.py:110 | 
debug | INFO flwr 2024-07-11 00:52:57,354 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 00:52:57,354 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 00:56:31,279 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 00:56:32,453 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 00:56:32,806 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 00:56:50,169 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 00:56:50,170 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 00:56:50,193 | server.py:494 | 
debug | INFO flwr 2024-07-11 00:56:50,193 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-11 00:56:50,193 | server.py:496 | Run finished 1 round(s) in 232.82s
debug | INFO flwr 2024-07-11 00:56:50,193 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-11 00:56:50,193 | server.py:498 | 		round 1: 6.2015557289123535
debug | INFO flwr 2024-07-11 00:56:50,193 | server.py:499 | 
debug | INFO flwr 2024-07-11 01:16:07,571 | app.py:193 | Starting Flower simulation, config: num_rounds=1, no round_timeout
debug | INFO flwr 2024-07-11 01:16:11,382 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26736385230.0, 'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'object_store_memory': 13368192614.0, 'CPU': 13.0}
debug | INFO flwr 2024-07-11 01:16:11,382 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 01:16:11,382 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 01:16:11,398 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 01:16:11,399 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 01:16:11,399 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 01:16:25,246 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 01:16:25,247 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 01:16:25,247 | server.py:110 | 
debug | INFO flwr 2024-07-11 01:16:25,247 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 01:16:25,247 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 01:20:01,487 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 01:20:03,887 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 01:20:04,309 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 01:20:20,426 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 01:20:20,426 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 01:20:20,453 | server.py:494 | 
debug | INFO flwr 2024-07-11 01:20:20,454 | server.py:495 | [SUMMARY]
debug | INFO flwr 2024-07-11 01:20:20,454 | server.py:496 | Run finished 1 round(s) in 235.18s
debug | INFO flwr 2024-07-11 01:20:20,454 | server.py:498 | 	History (loss, distributed):
debug | INFO flwr 2024-07-11 01:20:20,454 | server.py:498 | 		round 1: 6.184123134613037
debug | INFO flwr 2024-07-11 01:20:20,454 | server.py:499 | 
debug | INFO flwr 2024-07-11 17:29:57,475 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 17:30:00,463 | app.py:228 | Flower VCE: Ray initialized with resources: {'node:__internal_head__': 1.0, 'accelerator_type:G': 1.0, 'node:172.17.0.3': 1.0, 'GPU': 1.0, 'object_store_memory': 13365248409.0, 'CPU': 13.0, 'memory': 26730496820.0}
debug | INFO flwr 2024-07-11 17:30:00,463 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 17:30:00,463 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 17:30:00,484 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 17:30:00,484 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 17:30:00,484 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-11 17:30:06,424 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=26127, ip=172.17.0.3, actor_id=9cde74b7392e21f2ebf3203301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7aa00fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 44, in load_partition
    federated_dataset = FederatedDataset(dataset="cifar10", partitioners=IidPartitioner(NUM_CLIENTS))
NameError: name 'IidPartitioner' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=26127, ip=172.17.0.3, actor_id=9cde74b7392e21f2ebf3203301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7aa00fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'IidPartitioner' is not defined

debug | ERROR flwr 2024-07-11 17:30:06,424 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=26127, ip=172.17.0.3, actor_id=9cde74b7392e21f2ebf3203301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7aa00fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 44, in load_partition
    federated_dataset = FederatedDataset(dataset="cifar10", partitioners=IidPartitioner(NUM_CLIENTS))
NameError: name 'IidPartitioner' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=26127, ip=172.17.0.3, actor_id=9cde74b7392e21f2ebf3203301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7aa00fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'IidPartitioner' is not defined
debug | ERROR flwr 2024-07-11 17:30:06,424 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=26127, ip=172.17.0.3, actor_id=9cde74b7392e21f2ebf3203301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7aa00fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 44, in load_partition
    federated_dataset = FederatedDataset(dataset="cifar10", partitioners=IidPartitioner(NUM_CLIENTS))
NameError: name 'IidPartitioner' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=26127, ip=172.17.0.3, actor_id=9cde74b7392e21f2ebf3203301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7aa00fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'IidPartitioner' is not defined
debug | ERROR flwr 2024-07-11 17:30:06,425 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=26127, ip=172.17.0.3, actor_id=9cde74b7392e21f2ebf3203301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7aa00fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 44, in load_partition
    federated_dataset = FederatedDataset(dataset="cifar10", partitioners=IidPartitioner(NUM_CLIENTS))
NameError: name 'IidPartitioner' is not defined

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=26127, ip=172.17.0.3, actor_id=9cde74b7392e21f2ebf3203301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f7aa00fdff0>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: name 'IidPartitioner' is not defined

debug | ERROR flwr 2024-07-11 17:30:06,426 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-11 17:35:27,628 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 17:35:31,414 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'memory': 26766444135.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13383222067.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-11 17:35:31,414 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 17:35:31,414 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 17:35:31,433 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 17:35:31,433 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 17:35:31,433 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-11 17:35:43,972 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27818, ip=172.17.0.3, actor_id=5d8d777d8e9a7f50e465d1c301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f19587f6050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 48, in load_partition
    partition = train_data.load_partition(partition_id)
AttributeError: 'Dataset' object has no attribute 'load_partition'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27818, ip=172.17.0.3, actor_id=5d8d777d8e9a7f50e465d1c301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f19587f6050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'Dataset' object has no attribute 'load_partition'

debug | ERROR flwr 2024-07-11 17:35:43,972 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=27818, ip=172.17.0.3, actor_id=5d8d777d8e9a7f50e465d1c301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f19587f6050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 48, in load_partition
    partition = train_data.load_partition(partition_id)
AttributeError: 'Dataset' object has no attribute 'load_partition'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27818, ip=172.17.0.3, actor_id=5d8d777d8e9a7f50e465d1c301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f19587f6050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'Dataset' object has no attribute 'load_partition'
debug | ERROR flwr 2024-07-11 17:35:43,972 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=27818, ip=172.17.0.3, actor_id=5d8d777d8e9a7f50e465d1c301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f19587f6050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 48, in load_partition
    partition = train_data.load_partition(partition_id)
AttributeError: 'Dataset' object has no attribute 'load_partition'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27818, ip=172.17.0.3, actor_id=5d8d777d8e9a7f50e465d1c301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f19587f6050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'Dataset' object has no attribute 'load_partition'
debug | ERROR flwr 2024-07-11 17:35:43,973 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=27818, ip=172.17.0.3, actor_id=5d8d777d8e9a7f50e465d1c301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f19587f6050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 48, in load_partition
    partition = train_data.load_partition(partition_id)
AttributeError: 'Dataset' object has no attribute 'load_partition'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=27818, ip=172.17.0.3, actor_id=5d8d777d8e9a7f50e465d1c301000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f19587f6050>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'Dataset' object has no attribute 'load_partition'

debug | ERROR flwr 2024-07-11 17:35:43,974 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-11 17:42:33,977 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 17:42:37,732 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'memory': 26740553319.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'GPU': 1.0, 'node:__internal_head__': 1.0, 'object_store_memory': 13370276659.0}
debug | INFO flwr 2024-07-11 17:42:37,733 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 17:42:37,733 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 17:42:37,754 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 17:42:37,754 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 17:42:37,754 | server.py:279 | Requesting initial parameters from one random client
debug | ERROR flwr 2024-07-11 17:42:50,934 | ray_client_proxy.py:85 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=29422, ip=172.17.0.3, actor_id=a5b73e5f877de6c6895d647a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f051c015f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 50, in load_partition
    partition = train_data.load_partition(partition_id)
AttributeError: 'Dataset' object has no attribute 'load_partition'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=29422, ip=172.17.0.3, actor_id=a5b73e5f877de6c6895d647a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f051c015f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'Dataset' object has no attribute 'load_partition'

debug | ERROR flwr 2024-07-11 17:42:50,934 | ray_client_proxy.py:86 | [36mray::ClientAppActor.run()[39m (pid=29422, ip=172.17.0.3, actor_id=a5b73e5f877de6c6895d647a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f051c015f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 50, in load_partition
    partition = train_data.load_partition(partition_id)
AttributeError: 'Dataset' object has no attribute 'load_partition'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=29422, ip=172.17.0.3, actor_id=a5b73e5f877de6c6895d647a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f051c015f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'Dataset' object has no attribute 'load_partition'
debug | ERROR flwr 2024-07-11 17:42:50,935 | app.py:328 | [36mray::ClientAppActor.run()[39m (pid=29422, ip=172.17.0.3, actor_id=a5b73e5f877de6c6895d647a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f051c015f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 50, in load_partition
    partition = train_data.load_partition(partition_id)
AttributeError: 'Dataset' object has no attribute 'load_partition'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=29422, ip=172.17.0.3, actor_id=a5b73e5f877de6c6895d647a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f051c015f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'Dataset' object has no attribute 'load_partition'
debug | ERROR flwr 2024-07-11 17:42:50,936 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 93, in fit
    self.parameters = self._get_initial_parameters(server_round=0, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 282, in _get_initial_parameters
    get_parameters_res = random_client.get_parameters(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 148, in get_parameters
    message_out = self._submit_job(message, timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 87, in _submit_job
    raise ex
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_client_proxy.py", line 73, in _submit_job
    out_mssg, updated_context = self.actor_pool.get_client_result(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 399, in get_client_result
    return self._fetch_future_result(cid)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 280, in _fetch_future_result
    res_cid, out_mssg, updated_context = ray.get(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/auto_init_hook.py", line 21, in auto_init_wrapper
    return fn(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/client_mode_hook.py", line 103, in wrapper
    return func(*args, **kwargs)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 2667, in get
    values, debugger_breakpoint = worker.get_objects(object_refs, timeout=timeout)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/ray/_private/worker.py", line 864, in get_objects
    raise value.as_instanceof_cause()
ray.exceptions.RayTaskError(ClientAppException): [36mray::ClientAppActor.run()[39m (pid=29422, ip=172.17.0.3, actor_id=a5b73e5f877de6c6895d647a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f051c015f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 98, in __call__
    return self._call(message, context)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/client_app.py", line 81, in ffn
    out_message = handle_legacy_message_from_msgtype(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/client/message_handler/message_handler.py", line 96, in handle_legacy_message_from_msgtype
    client = client_fn(str(message.metadata.partition_id))
  File "/root/fedSSL/client.py", line 123, in client_fn
    return CifarClient(clientID, simclr).to_client()
  File "/root/fedSSL/client.py", line 94, in __init__
    self.trainloader, self.testloader = load_partition(self.cid)
  File "/root/fedSSL/utils.py", line 50, in load_partition
    partition = train_data.load_partition(partition_id)
AttributeError: 'Dataset' object has no attribute 'load_partition'

The above exception was the direct cause of the following exception:

[36mray::ClientAppActor.run()[39m (pid=29422, ip=172.17.0.3, actor_id=a5b73e5f877de6c6895d647a01000000, repr=<flwr.simulation.ray_transport.ray_actor.ClientAppActor object at 0x7f051c015f30>)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/ray_transport/ray_actor.py", line 64, in run
    raise ClientAppException(str(ex)) from ex
flwr.client.client_app.ClientAppException: 
Exception ClientAppException occurred. Message: 'Dataset' object has no attribute 'load_partition'

debug | ERROR flwr 2024-07-11 17:42:50,936 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-11 17:43:24,347 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 17:43:28,132 | app.py:228 | Flower VCE: Ray initialized with resources: {'CPU': 13.0, 'node:__internal_head__': 1.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0, 'object_store_memory': 13382150553.0, 'memory': 26764301108.0}
debug | INFO flwr 2024-07-11 17:43:28,132 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 17:43:28,133 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 17:43:28,151 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 17:43:28,151 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 17:43:28,151 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 17:43:43,587 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 17:43:43,588 | server.py:94 | Evaluating initial global parameters
debug | ERROR flwr 2024-07-11 17:44:32,400 | app.py:328 | name 'csv' is not defined
debug | ERROR flwr 2024-07-11 17:44:32,401 | app.py:329 | Traceback (most recent call last):
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/simulation/app.py", line 323, in start_simulation
    hist = run_fl(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 490, in run_fl
    hist, elapsed_time = server.fit(
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/server.py", line 95, in fit
    res = self.strategy.evaluate(0, parameters=self.parameters)
  File "/root/fedSSL/venv/lib/python3.10/site-packages/flwr/server/strategy/fedavg.py", line 167, in evaluate
    eval_res = self.evaluate_fn(server_round, parameters_ndarrays, {})
  File "/root/fedSSL/model.py", line 193, in evaluate
    writer = csv.writer(file)
NameError: name 'csv' is not defined

debug | ERROR flwr 2024-07-11 17:44:32,401 | app.py:330 | Your simulation crashed :(. This could be because of several reasons. The most common are: 
	 > Sometimes, issues in the simulation code itself can cause crashes. It's always a good idea to double-check your code for any potential bugs or inconsistencies that might be contributing to the problem. For example: 
		 - You might be using a class attribute in your clients that hasn't been defined.
		 - There could be an incorrect method call to a 3rd party library (e.g., PyTorch).
		 - The return types of methods in your clients/strategies might be incorrect.
	 > Your system couldn't fit a single VirtualClient: try lowering `client_resources`.
	 > All the actors in your pool crashed. This could be because: 
		 - You clients hit an out-of-memory (OOM) error and actors couldn't recover from it. Try launching your simulation with more generous `client_resources` setting (i.e. it seems {'num_cpus': 1, 'num_gpus': 1.0} is not enough for your run). Use fewer concurrent actors. 
		 - You were running a multi-node simulation and all worker nodes disconnected. The head node might still be alive but cannot accommodate any actor with resources: {'num_cpus': 1, 'num_gpus': 1.0}.
Take a look at the Flower simulation examples for guidance <https://flower.ai/docs/framework/how-to-run-simulations.html>.
debug | INFO flwr 2024-07-11 17:53:26,229 | app.py:193 | Starting Flower simulation, config: num_rounds=8, no round_timeout
debug | INFO flwr 2024-07-11 17:53:29,119 | app.py:228 | Flower VCE: Ray initialized with resources: {'memory': 26671155611.0, 'object_store_memory': 13335577804.0, 'node:__internal_head__': 1.0, 'CPU': 13.0, 'GPU': 1.0, 'node:172.17.0.3': 1.0, 'accelerator_type:G': 1.0}
debug | INFO flwr 2024-07-11 17:53:29,119 | app.py:234 | Optimize your simulation with Flower VCE: https://flower.ai/docs/framework/how-to-run-simulations.html
debug | INFO flwr 2024-07-11 17:53:29,119 | app.py:257 | Flower VCE: Resources for each Virtual Client: {'num_cpus': 1, 'num_gpus': 1.0}
debug | INFO flwr 2024-07-11 17:53:29,140 | app.py:303 | Flower VCE: Creating VirtualClientEngineActorPool with 1 actors
debug | INFO flwr 2024-07-11 17:53:29,141 | server.py:92 | [INIT]
debug | INFO flwr 2024-07-11 17:53:29,141 | server.py:279 | Requesting initial parameters from one random client
debug | INFO flwr 2024-07-11 17:53:43,112 | server.py:286 | Received initial parameters from one random client
debug | INFO flwr 2024-07-11 17:53:43,112 | server.py:94 | Evaluating initial global parameters
debug | INFO flwr 2024-07-11 17:54:28,498 | server.py:97 | initial parameters (loss, other metrics): tensor(1.8363, device='cuda:0'), {'accuracy': 0.372}
debug | INFO flwr 2024-07-11 17:54:28,500 | server.py:110 | 
debug | INFO flwr 2024-07-11 17:54:28,500 | server.py:111 | [ROUND 1]
debug | INFO flwr 2024-07-11 17:54:28,500 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 17:58:07,651 | server.py:238 | aggregate_fit: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 17:58:11,290 | fedavg.py:252 | No fit_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 17:58:59,341 | server.py:129 | fit progress: (1, tensor(1.2786, device='cuda:0'), {'accuracy': 0.5588}, 270.84131529694423)
debug | INFO flwr 2024-07-11 17:58:59,343 | server.py:176 | configure_evaluate: strategy sampled 5 clients (out of 5)
debug | INFO flwr 2024-07-11 17:59:18,006 | server.py:190 | aggregate_evaluate: received 5 results and 0 failures
debug | WARNING flwr 2024-07-11 17:59:18,007 | fedavg.py:283 | No evaluate_metrics_aggregation_fn provided
debug | INFO flwr 2024-07-11 17:59:18,007 | server.py:110 | 
debug | INFO flwr 2024-07-11 17:59:18,007 | server.py:111 | [ROUND 2]
debug | INFO flwr 2024-07-11 17:59:18,007 | server.py:224 | configure_fit: strategy sampled 5 clients (out of 5)
